import { a as i, F as d, j as e } from "./storybook-jsx-runtime-ea6e0d87.es.js";
import { r as g } from "./storybook-index-f2fed736.es.js";
import { B as h } from "./storybook-Button-f953e457.es.js";
import { C as o } from "./storybook-Card-3d4604ee.es.js";
const b = /* @__PURE__ */ i(d, { children: [
  /* @__PURE__ */ e("table", { children: /* @__PURE__ */ i("tbody", { children: [
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("th", { children: "Date" }),
      /* @__PURE__ */ e("th", { children: "Value" }),
      /* @__PURE__ */ e("th", { children: "..." })
    ] }),
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("td", { children: "01/01/2020" }),
      /* @__PURE__ */ e("td", { children: "150" }),
      /* @__PURE__ */ e("td", { children: "..." })
    ] }),
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("td", { children: "02/01/2020" }),
      /* @__PURE__ */ e("td", { children: "150" }),
      /* @__PURE__ */ e("td", { children: "..." })
    ] })
  ] }) }),
  /* @__PURE__ */ e("table", { children: /* @__PURE__ */ i("tbody", { children: [
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("th", { children: "State" }),
      /* @__PURE__ */ e("th", { children: "Value" }),
      /* @__PURE__ */ e("th", { children: "..." })
    ] }),
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("td", { children: "Georgia" }),
      /* @__PURE__ */ e("td", { children: "150" }),
      /* @__PURE__ */ e("td", { children: "..." })
    ] }),
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("td", { children: "Florida" }),
      /* @__PURE__ */ e("td", { children: "150" }),
      /* @__PURE__ */ e("td", { children: "..." })
    ] })
  ] }) })
] }), y = /* @__PURE__ */ i(d, { children: [
  /* @__PURE__ */ e("table", { children: /* @__PURE__ */ i("tbody", { children: [
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("th", { children: "Date" }),
      /* @__PURE__ */ e("td", { children: "01/01/2020" }),
      /* @__PURE__ */ e("td", { children: "02/01/2020" }),
      /* @__PURE__ */ e("td", { children: "..." })
    ] }),
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("th", { children: "Value" }),
      /* @__PURE__ */ e("td", { children: "100" }),
      /* @__PURE__ */ e("td", { children: "150" }),
      /* @__PURE__ */ e("td", { children: "..." })
    ] })
  ] }) }),
  /* @__PURE__ */ e("table", { children: /* @__PURE__ */ i("tbody", { children: [
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("th", { children: "State" }),
      /* @__PURE__ */ e("td", { children: "Georgia" }),
      /* @__PURE__ */ e("td", { children: "Florida" }),
      /* @__PURE__ */ e("td", { children: "..." })
    ] }),
    /* @__PURE__ */ i("tr", { children: [
      /* @__PURE__ */ e("th", { children: "Value" }),
      /* @__PURE__ */ e("td", { children: "100" }),
      /* @__PURE__ */ e("td", { children: "150" }),
      /* @__PURE__ */ e("td", { children: "..." })
    ] })
  ] }) })
] }), D = /* @__PURE__ */ e("table", { children: /* @__PURE__ */ i("tbody", { children: [
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("th", { children: "Date" }),
    /* @__PURE__ */ e("th", { children: "Virus 1" }),
    /* @__PURE__ */ e("th", { children: "Virus 2" }),
    /* @__PURE__ */ e("th", { children: "..." })
  ] }),
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("td", { children: "01/01/2020" }),
    /* @__PURE__ */ e("td", { children: "100" }),
    /* @__PURE__ */ e("td", { children: "150" }),
    /* @__PURE__ */ e("td", { children: "..." })
  ] }),
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("td", { children: "02/01/2020" }),
    /* @__PURE__ */ e("td", { children: "15" }),
    /* @__PURE__ */ e("td", { children: "20" }),
    /* @__PURE__ */ e("td", { children: "..." })
  ] })
] }) }), N = /* @__PURE__ */ e("table", { children: /* @__PURE__ */ i("tbody", { children: [
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("th", { children: "Virus" }),
    /* @__PURE__ */ e("th", { children: "Date" }),
    /* @__PURE__ */ e("th", { children: "Value" })
  ] }),
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("td", { children: "Virus 1" }),
    /* @__PURE__ */ e("td", { children: "01/01/2020" }),
    /* @__PURE__ */ e("td", { children: "100" })
  ] }),
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("td", { children: "Virus 1" }),
    /* @__PURE__ */ e("td", { children: "02/01/2020" }),
    /* @__PURE__ */ e("td", { children: "150" })
  ] }),
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("td", { children: "..." }),
    /* @__PURE__ */ e("td", { children: "..." }),
    /* @__PURE__ */ e("td", { children: "..." })
  ] }),
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("td", { children: "Virus 2" }),
    /* @__PURE__ */ e("td", { children: "01/01/2020" }),
    /* @__PURE__ */ e("td", { children: "15" })
  ] }),
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("td", { children: "Virus 2" }),
    /* @__PURE__ */ e("td", { children: "02/01/2020" }),
    /* @__PURE__ */ e("td", { children: "20" })
  ] }),
  /* @__PURE__ */ i("tr", { children: [
    /* @__PURE__ */ e("td", { children: "..." }),
    /* @__PURE__ */ e("td", { children: "..." }),
    /* @__PURE__ */ e("td", { children: "..." })
  ] })
] }) });
const k = (p) => {
  const { configureData: r, updateDescriptionProp: n, config: a, setConfig: c } = p, u = (a == null ? void 0 : a.visualizationType) !== "Forest Plot", m = (a == null ? void 0 : a.visualizationType) !== "Forest Plot", v = (a == null ? void 0 : a.visualizationType) !== "Forest Plot";
  return g.useEffect(() => {
    (a == null ? void 0 : a.visualizationType) === "Forest Plot" && c({
      ...a,
      dataDescription: {
        series: !0,
        horizontal: !1,
        singleRow: !0
      }
    });
  }, []), /* @__PURE__ */ i("div", { className: "cove-data-designer__container", children: [
    /* @__PURE__ */ i("div", { className: "mb-2", children: [
      /* @__PURE__ */ e("div", { className: "cove-heading--3 fw-bold mb-1", children: "Describe Data" }),
      u && /* @__PURE__ */ i(d, { children: [
        /* @__PURE__ */ e("div", { className: "cove-heading--3 fw-normal mb-1", children: "Data Orientation" }),
        /* @__PURE__ */ i("div", { className: "grid grid-gap-2 mb-4", children: [
          /* @__PURE__ */ e("div", { className: "column", children: /* @__PURE__ */ e(
            "button",
            {
              className: "cove-data-designer__button" + (r.dataDescription && r.dataDescription.horizontal === !1 ? " active" : ""),
              onClick: () => {
                n("horizontal", !1);
              },
              children: /* @__PURE__ */ i(o, { children: [
                /* @__PURE__ */ e("strong", { className: "cove-heading--3", children: "Vertical" }),
                /* @__PURE__ */ i("p", { className: "mb-1", children: [
                  "Values for map geography or chart date/category axis are contained in a single ",
                  /* @__PURE__ */ e("em", { children: "column" }),
                  "."
                ] }),
                b
              ] })
            }
          ) }),
          /* @__PURE__ */ e("div", { className: "column", children: /* @__PURE__ */ e(
            "button",
            {
              className: "cove-data-designer__button" + (r.dataDescription && r.dataDescription.horizontal === !0 ? " active" : ""),
              onClick: () => {
                n("horizontal", !0);
              },
              children: /* @__PURE__ */ i(o, { children: [
                /* @__PURE__ */ e("strong", { className: "cove-heading--3", children: "Horizontal" }),
                /* @__PURE__ */ i("p", { className: "mb-1", children: [
                  "Values for map geography or chart date/category axis are contained in a single ",
                  /* @__PURE__ */ e("em", { children: "row" })
                ] }),
                y
              ] })
            }
          ) })
        ] })
      ] })
    ] }),
    r.dataDescription && /* @__PURE__ */ i(d, { children: [
      m && /* @__PURE__ */ i("div", { className: "mb-2", children: [
        /* @__PURE__ */ e("div", { className: "mb-1", children: "Are there multiple series represented in your data?" }),
        /* @__PURE__ */ i("div", { children: [
          /* @__PURE__ */ e(
            h,
            {
              style: { backgroundColor: "#00345d" },
              hoverStyle: { backgroundColor: "#015daa" },
              className: "me-1",
              onClick: () => {
                n("series", !0);
              },
              active: r.dataDescription.series === !0,
              children: "Yes"
            }
          ),
          /* @__PURE__ */ e(
            h,
            {
              style: { backgroundColor: "#00345d" },
              hoverStyle: { backgroundColor: "#015daa" },
              onClick: () => {
                n("series", !1);
              },
              active: r.dataDescription.series === !1,
              children: "No"
            }
          )
        ] })
      ] }),
      r.dataDescription.horizontal === !0 && r.dataDescription.series === !0 && /* @__PURE__ */ i("div", { className: "mb-2", children: [
        /* @__PURE__ */ e("div", { className: "mb-1", children: "Which property in the dataset represents which series the row is describing?" }),
        /* @__PURE__ */ i(
          "select",
          {
            onChange: (t) => {
              n("seriesKey", t.target.value);
            },
            defaultValue: r.dataDescription.seriesKey,
            children: [
              /* @__PURE__ */ e("option", { value: "", children: "Choose an option" }),
              Object.keys(r.data[0]).map((t, l) => /* @__PURE__ */ e("option", { value: t, children: t }, l))
            ]
          }
        )
      ] }),
      r.dataDescription.horizontal === !1 && r.dataDescription.series === !0 && v && /* @__PURE__ */ i(d, { children: [
        /* @__PURE__ */ i("div", { className: "mb-2", children: [
          /* @__PURE__ */ e("div", { className: "mb-1", children: "Are the series values in your data represented in a single row, or across multiple rows?" }),
          /* @__PURE__ */ i("div", { className: "grid grid-gap-2 mb-4", children: [
            /* @__PURE__ */ e("div", { className: "column", children: /* @__PURE__ */ e(
              "button",
              {
                className: "cove-data-designer__button" + (r.dataDescription.singleRow === !0 ? " active" : ""),
                onClick: () => {
                  n("singleRow", !0);
                },
                children: /* @__PURE__ */ i(o, { children: [
                  /* @__PURE__ */ e("strong", { className: "cove-heading--3", children: "Single Row" }),
                  /* @__PURE__ */ e("p", { className: "mb-1", children: "Each row contains the data for an individual series in itself." }),
                  D
                ] })
              }
            ) }),
            /* @__PURE__ */ e("div", { className: "column", children: /* @__PURE__ */ e(
              "button",
              {
                className: "cove-data-designer__button" + (r.dataDescription.singleRow === !1 ? " active" : ""),
                onClick: () => {
                  n("singleRow", !1);
                },
                children: /* @__PURE__ */ i(o, { children: [
                  /* @__PURE__ */ e("strong", { className: "cove-heading--3", children: "Multiple Rows" }),
                  /* @__PURE__ */ e("p", { className: "mb-1", children: "Each series data is broken out into multiple rows." }),
                  N
                ] })
              }
            ) })
          ] })
        ] }),
        r.dataDescription.singleRow === !1 && /* @__PURE__ */ i(d, { children: [
          /* @__PURE__ */ i("div", { className: "mb-2", children: [
            /* @__PURE__ */ e("div", { className: "mb-1", children: "Which property in the dataset represents which series the row is describing?" }),
            /* @__PURE__ */ i(
              "select",
              {
                onChange: (t) => {
                  n("seriesKey", t.target.value);
                },
                defaultValue: r.dataDescription.seriesKey,
                children: [
                  /* @__PURE__ */ e("option", { value: "", children: "Choose an option" }),
                  Object.keys(r.data[0]).map((t, l) => /* @__PURE__ */ e("option", { value: t, children: t }, l))
                ]
              }
            )
          ] }),
          /* @__PURE__ */ i("div", { className: "mb-2", children: [
            /* @__PURE__ */ e("div", { className: "mb-1", children: "Which property in the dataset represents the values for the category/date axis or map geography?" }),
            /* @__PURE__ */ i(
              "select",
              {
                onChange: (t) => {
                  n("xKey", t.target.value);
                },
                defaultValue: r.dataDescription.xKey,
                children: [
                  /* @__PURE__ */ e("option", { value: "", children: "Choose an option" }),
                  Object.keys(r.data[0]).map((t, l) => /* @__PURE__ */ e("option", { value: t, children: t }, l))
                ]
              }
            )
          ] }),
          /* @__PURE__ */ i("div", { className: "mb-2", children: [
            /* @__PURE__ */ e("div", { className: "mb-1", children: "Which properties in the dataset represent the numeric value? (all remaining properties will be treated as filters)" }),
            r.dataDescription.valueKeysTallSupport && r.dataDescription.valueKeysTallSupport.length > 0 && /* @__PURE__ */ e("ul", { className: "value-list", children: r.dataDescription.valueKeysTallSupport.map((t, l) => /* @__PURE__ */ i("li", { children: [
              t,
              /* @__PURE__ */ e(
                "button",
                {
                  onClick: () => {
                    let s = r.dataDescription.valueKeysTallSupport;
                    s.splice(l, 1), n("valueKeysTallSupport", s);
                  },
                  children: "X"
                }
              )
            ] }, `value-keys-list-${l}`)) }),
            /* @__PURE__ */ i(
              "select",
              {
                onChange: (t) => {
                  t.target.value && (!r.dataDescription.valueKeysTallSupport || r.dataDescription.valueKeysTallSupport.indexOf(t.target.value) === -1) && n("valueKeysTallSupport", [
                    ...r.dataDescription.valueKeysTallSupport || [],
                    t.target.value
                  ]);
                },
                children: [
                  /* @__PURE__ */ e("option", { value: "", children: "Choose an option" }),
                  Object.keys(r.data[0]).filter(
                    (t) => !r.dataDescription.valueKeysTallSupport || r.dataDescription.valueKeysTallSupport.indexOf(t) === -1
                  ).map((t, l) => /* @__PURE__ */ e("option", { value: t, children: t }, `value-keys-option-${l}`))
                ]
              }
            )
          ] }),
          /* @__PURE__ */ i("div", { className: "mb-2", children: [
            /* @__PURE__ */ e("div", { className: "mb-1", children: "(Optional) Which properties in the dataset should be ignored? (will not be used or treated as filters)" }),
            r.dataDescription.ignoredKeys && r.dataDescription.ignoredKeys.length > 0 && /* @__PURE__ */ e("ul", { className: "value-list", children: r.dataDescription.ignoredKeys.map((t, l) => /* @__PURE__ */ i("li", { children: [
              t,
              /* @__PURE__ */ e(
                "button",
                {
                  onClick: () => {
                    let s = r.dataDescription.ignoredKeys;
                    s.splice(l, 1), n("ignoredKeys", s);
                  },
                  children: "X"
                }
              )
            ] }, `value-keys-list-${l}`)) }),
            /* @__PURE__ */ i(
              "select",
              {
                onChange: (t) => {
                  t.target.value && n("ignoredKeys", [
                    ...r.dataDescription.ignoredKeys || [],
                    t.target.value
                  ]), t.target.value = "";
                },
                children: [
                  /* @__PURE__ */ e("option", { value: "", children: "Choose an option" }),
                  Object.keys(r.data[0]).filter(
                    (t) => !r.dataDescription.ignoredKeys || r.dataDescription.ignoredKeys.indexOf(t) === -1
                  ).map((t, l) => /* @__PURE__ */ e("option", { value: t, children: t }, `ignored-keys-option-${l}`))
                ]
              }
            )
          ] })
        ] })
      ] }),
      (a == null ? void 0 : a.visualizationType) === "Forest Plot" && /* @__PURE__ */ i(d, { children: [
        /* @__PURE__ */ i("div", { className: "mb-2", children: [
          /* @__PURE__ */ e("div", { className: "mb-1", children: "Which column represents the Study ID?" }),
          /* @__PURE__ */ i(
            "select",
            {
              onChange: (t) => {
                c({
                  ...a,
                  xAxis: {
                    ...a.xAxis,
                    dataKey: t.target.value
                  }
                });
              },
              defaultValue: "Select",
              children: [
                /* @__PURE__ */ e("option", { value: "", children: "Choose an option" }),
                Object.keys(r.data[0]).map((t, l) => /* @__PURE__ */ e("option", { value: t, children: t }, l))
              ]
            }
          )
        ] }),
        /* @__PURE__ */ i("div", { className: "mb-2", children: [
          /* @__PURE__ */ e("div", { className: "mb-1", children: "Which column represents your estimate field?" }),
          /* @__PURE__ */ i(
            "select",
            {
              onChange: (t) => {
                c({
                  ...a,
                  forestPlot: {
                    ...a.forestPlot,
                    estimateField: t.target.value
                  }
                });
              },
              defaultValue: "Select",
              children: [
                /* @__PURE__ */ e("option", { value: "", children: "Choose an option" }),
                Object.keys(r.data[0]).map((t, l) => /* @__PURE__ */ e("option", { value: t, children: t }, l))
              ]
            }
          )
        ] }),
        /* @__PURE__ */ i("div", { className: "mb-2", children: [
          /* @__PURE__ */ e("div", { className: "mb-1", children: "Which column represents the low confidence interval?" }),
          /* @__PURE__ */ i(
            "select",
            {
              onChange: (t) => {
                c({
                  ...a,
                  forestPlot: {
                    ...a.forestPlot,
                    lower: t.target.value
                  }
                });
              },
              defaultValue: "Select",
              children: [
                /* @__PURE__ */ e("option", { value: "", children: "Choose an option" }),
                Object.keys(r.data[0]).map((t, l) => /* @__PURE__ */ e("option", { value: t, children: t }, l))
              ]
            }
          )
        ] }),
        /* @__PURE__ */ i("div", { className: "mb-2", children: [
          /* @__PURE__ */ e("div", { className: "mb-1", children: "Which column represents the high confidence interval?" }),
          /* @__PURE__ */ i(
            "select",
            {
              onChange: (t) => {
                c({
                  ...a,
                  forestPlot: {
                    ...a.forestPlot,
                    upper: t.target.value
                  }
                });
              },
              defaultValue: "Select",
              children: [
                /* @__PURE__ */ e("option", { value: "", children: "Choose an option" }),
                Object.keys(r.data[0]).map((t, l) => /* @__PURE__ */ e("option", { value: t, children: t }, l))
              ]
            }
          )
        ] })
      ] })
    ] }),
    r.dataDescription && r.formattedData && /* @__PURE__ */ e("div", { children: "Data configured successfully" })
  ] });
};
export {
  k as D
};
