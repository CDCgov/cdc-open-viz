import{j as o,a as T,F as N}from"./jsx-runtime-670450c2.js";import{r as u}from"./index-f1f749bf.js";import{p as t}from"./index-4d501b15.js";import{u as $}from"./useVisConfig-ebd632ff.js";import{g as A}from"./visConfigSlice-d502a2ab.js";import{L as K}from"./Label-90f045e3.js";/* empty css              */const m=({label:v,options:a=[""],initial:p,initialDisabled:f,initialSnap:q,required:j,tooltip:C,configField:s,value:V="",onChange:y,className:b,...x})=>{const{config:S,updateVisConfigField:I}=$(),[n,c]=u.useState(),d=u.useRef(null),l=s&&A(s,S),g=!!(l&&typeof l!==void 0);u.useEffect(()=>{g?l!==n&&c(l):c(V)},[g]),u.useEffect(()=>{h(n)||s&&n!==l&&I(s,n)},[s,n]);const h=e=>p&&(e===p||e==="");let i=null;if(a instanceof Array)i=a.map((e,r)=>o("option",{value:e,children:e},r));else if(a===Object(a)){let e=[];for(let[r,O]of Object.entries(a))e.push(o("option",{value:r,children:O},r));i=e}i&&(p||f)&&i.unshift(o("option",{value:"",hidden:f&&n!==""||null,disabled:f||null,children:p},"default"));const E=e=>{let r=e.target.value;c(r),y&&y(e),q&&h("")&&c("")};return T(N,{children:[v&&o(K,{tooltip:C,onClick:()=>{d.current.focus(),d.current.click()},children:v}),i?o("select",{className:`cove-input${j&&(n===void 0||n==="")?" cove-input--error":""}${b?" "+b:""}`,value:n??"",onChange:e=>E(e),...x,ref:d,children:i.map(e=>e)}):o("p",{className:"mb-2",children:o("i",{children:"No options are available..."})})]})};m.propTypes={label:t.string,value:t.any,options:t.oneOfType([t.array,t.object]),initial:t.string,initialDisabled:t.bool,initialSnap:t.bool,required:t.bool,tooltip:t.oneOfType([t.object,t.string]),onChange:t.func};const z=u.memo(m);m.__docgenInfo={description:"",methods:[],displayName:"InputSelect",props:{options:{defaultValue:{value:"[ '' ]",computed:!1},type:{name:"union",value:[{name:"array"},{name:"object"}]},required:!1,description:""},value:{defaultValue:{value:"''",computed:!1},type:{name:"any"},required:!1,description:""},label:{type:{name:"string"},required:!1,description:""},initial:{type:{name:"string"},required:!1,description:""},initialDisabled:{type:{name:"bool"},required:!1,description:""},initialSnap:{type:{name:"bool"},required:!1,description:"Snap returns to the initial value, regardless of previous selection *"},required:{type:{name:"bool"},required:!1,description:""},tooltip:{type:{name:"union",value:[{name:"object"},{name:"string"}]},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:""}}};export{z as I};
//# sourceMappingURL=InputSelect-0513aac4.js.map
