import{j as o,a as T,F as N}from"./jsx-runtime-f14b59b8.js";import{r as u}from"./index-18f6e4ac.js";import{p as t}from"./index-780fc102.js";import{u as $}from"./useVisConfig-a08e56f4.js";import{g as A}from"./visConfigSlice-c5711f83.js";import{L as K}from"./Label-8ac46115.js";/* empty css              */const m=({label:v,options:a=[""],initial:p,initialDisabled:f,initialSnap:q,required:j,tooltip:C,configField:s,value:V="",onChange:y,className:b,...x})=>{const{config:S,updateVisConfigField:I}=$();const[n,c]=u.useState();const d=u.useRef(null);const l=s&&A(s,S);const g=!!(l&&typeof l!==void 0);u.useEffect(()=>{if(g){l!==n&&c(l)}else{c(V)}},[g]);u.useEffect(()=>{if(!h(n)){if(s&&n!==l){I(s,n)}}},[s,n]);const h=e=>{return p&&(e===p||e==="")};let i=null;if(a instanceof Array){i=a.map((e,r)=>o("option",{value:e,children:e},r))}else if(a===Object(a)){let e=[];for(let[r,O]of Object.entries(a)){e.push(o("option",{value:r,children:O},r))}i=e}if(i&&(p||f))i.unshift(o("option",{value:"",hidden:f&&n!==""||null,disabled:f||null,children:p},"default"));const E=e=>{let r=e.target.value;c(r);if(y)y(e);if(q&&h(""))c("")};return T(N,{children:[v&&o(K,{tooltip:C,onClick:()=>{d.current.focus();d.current.click()},children:v}),i?o("select",{className:`cove-input${j&&(n===void 0||n==="")?" cove-input--error":""}${b?" "+b:""}`,value:n??"",onChange:e=>E(e),...x,ref:d,children:i.map(e=>e)}):o("p",{className:"mb-2",children:o("i",{children:"No options are available..."})})]})};m.propTypes={label:t.string,value:t.any,options:t.oneOfType([t.array,t.object]),initial:t.string,initialDisabled:t.bool,initialSnap:t.bool,required:t.bool,tooltip:t.oneOfType([t.object,t.string]),onChange:t.func};const z=u.memo(m);m.__docgenInfo={"description":"","methods":[],"displayName":"InputSelect","props":{"options":{"defaultValue":{"value":"[ '' ]","computed":false},"type":{"name":"union","value":[{"name":"array"},{"name":"object"}]},"required":false,"description":""},"value":{"defaultValue":{"value":"''","computed":false},"type":{"name":"any"},"required":false,"description":""},"label":{"type":{"name":"string"},"required":false,"description":""},"initial":{"type":{"name":"string"},"required":false,"description":""},"initialDisabled":{"type":{"name":"bool"},"required":false,"description":""},"initialSnap":{"type":{"name":"bool"},"required":false,"description":"Snap returns to the initial value, regardless of previous selection *"},"required":{"type":{"name":"bool"},"required":false,"description":""},"tooltip":{"type":{"name":"union","value":[{"name":"object"},{"name":"string"}]},"required":false,"description":""},"onChange":{"type":{"name":"func"},"required":false,"description":""}}};export{z as I};
//# sourceMappingURL=InputSelect-df8ec889.js.map
