{"version":3,"file":"Component.stories-89070ed9.js","sources":["../../packages/core/components/hoc/Component.jsx","../../packages/core/components/hoc/_stories/Component.stories.mdx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from 'react'\n\n// Third Party\nimport parse from 'html-react-parser'\nimport PropTypes from 'prop-types'\n\n// Store\nimport useStore from '../../store/store'\n\n// Hooks\nimport { useVisConfig } from '../../hooks/store/useVisConfig'\n\n// Components\nimport Icon from '../ui/Icon'\nimport Tooltip from '../ui/Tooltip'\n\n// Styles\nimport '../../styles/v2/components/component.scss'\n\nconst Component = ({ className, children, exampleConfig, ...attributes }) => {\n  // Store Selectors\n  let { config } = useVisConfig()\n  if (exampleConfig) config = exampleConfig // Allow for exampleConfig to override default config\n\n  const setDimensions = useStore(state => state.setDimensions)\n\n  // Observe changes to component container sizes for use with SVG renders\n  const outerContainerRef = useRef()\n\n  useEffect(() => {\n    if (outerContainerRef.current === typeof 'Element') {\n      const outerContainerObserver = new ResizeObserver((entries, observer) => {\n        for (let entry of entries) {\n          let { width, height } = entry.contentRect\n          setDimensions({ width, height })\n        }\n      })\n      outerContainerObserver.observe(outerContainerRef.current)\n    }\n    return () => {}\n  })\n\n  // Component Attributes\n  const customTitleAttrs = (!config.title || config.title === '') && { 'data-title': false }\n  const customBorderAttrs = config.componentStyle?.border !== 'default' && { 'data-border': config.componentStyle?.border }\n  const customShadowAttrs = !config.componentStyle?.shadow && { 'data-no-shadow': true }\n  const customAccentAttrs = () => {\n    if (config.componentStyle?.accent === 'none' || (config.componentStyle?.accent === 'top' && config.title)) return {}\n    return { 'data-accent': config.componentStyle?.accent }\n  }\n\n  const customComponentAttrs = {\n    ...attributes,\n    ...customTitleAttrs,\n    ...customBorderAttrs,\n    ...customShadowAttrs,\n    ...customAccentAttrs()\n  }\n\n  // Component Content Attributes\n  const customBgAttrs = config.componentStyle?.background !== 'default' && { 'data-bg': config.componentStyle?.background }\n\n  const customContentAttrs = {\n    ...customBgAttrs\n  }\n\n  const tooltip = (\n    <>\n      {config.tooltip && config.tooltip.content && config.tooltip.content !== '' && (\n        <>\n          <Tooltip place={config.tooltip.position || 'bottom'}>\n            <Tooltip.Target>\n              <Icon display='questionCircle' />\n            </Tooltip.Target>\n            <Tooltip.Content>{typeof config.tooltip.content === 'object' ? config.tooltip.content : typeof config.tooltip.content === 'string' && <p>{parse(config.tooltip.content)}</p>}</Tooltip.Content>\n          </Tooltip>\n        </>\n      )}\n    </>\n  )\n\n  const theme = useMemo(() => `cove-theme--${config.theme ?? 'blue'}`, [config.theme])\n\n  // Return Component\n  return (\n    <div className={'cove-component ' + theme + (className ? ' ' + className : '')} {...customComponentAttrs}>\n      <div className='cove-component__container'>\n        {config.title && (\n          <header className='cove-component__header' role='heading' aria-hidden='true' aria-level={2}>\n            {parse(config.title)}\n            {config.title.trim().length !== 0 && tooltip}\n          </header>\n        )}\n        <div className='cove-component__content' {...customContentAttrs}>\n          {(!config.title || config.title.trim().length === 0) && <div className='cove-component__content--tooltip'>{tooltip}</div>}\n          <div className='cove-component__wrapper' ref={outerContainerRef}>\n            {children}\n          </div>\n          {/*{config.description &&\n            <div className='cove-component__description'>{parse(config.description)}</div>\n          }*/}\n          {/*{config.tableShowIf && config.table}*/}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nComponent.propTypes = {\n  /** All content set between the \\<Component\\> tags */\n  children: PropTypes.any,\n  /** Additional classes to be appended to the component */\n  className: PropTypes.string,\n  config: PropTypes.shape({\n    theme: PropTypes.oneOf(['blue', 'purple', 'brown', 'teal', 'pink', 'orange', 'slate', 'indigo', 'cyan', 'green', 'amber']),\n    /** Set a custom title for the component; defaults to a `config.title` entry for the component config */\n    title: PropTypes.string,\n    description: PropTypes.string,\n    componentStyle: PropTypes.shape({\n      border: PropTypes.oneOf(['default', 'theme', 'none']),\n      background: PropTypes.oneOf(['default', 'theme', 'none']),\n      shadow: PropTypes.bool,\n      accent: PropTypes.oneOf(['none', 'top', 'right', 'bottom', 'left'])\n    })\n  })\n}\n\nexport default Component\n","import { Canvas, Meta, Story, ArgsTable } from '@storybook/blocks';\n\nimport Component from '../Component'\n\n<Meta\n  title=\"Components/HOC/Component\"\n  component={Component}\n  args={{\n    exampleConfig: {\n      theme: \"teal\",\n      title: \"Component Title\",\n      description: \"A small description of the component\",\n      tooltip: {\n        content: \"This is an <strong>example</strong> tooltip.\",\n        position: \"bottom\"\n      },\n      componentStyle: {\n        background: \"default\",\n        border: \"default\",\n        shadow: true,\n        accent: \"bottom\"\n      }\n    }\n  }}\n  argTypes={{\n    exampleConfig: {\n      table: {\n        disable: true\n      }\n    },\n    className: {\n      control: 'text'\n    },\n    children: {\n      control: false\n    },\n    config: {\n      control: false\n    },\n    'config.theme': {\n      description: \"[External] Sets a custom theme to be used by the Component for the header bar and borders <br/><br/> `'blue'` `'purple'` `'brown'` `'teal'` `'pink'` `'orange'` `'slate'` `'indigo'` `'cyan'` `'green'` `'amber'`\"\n    },\n    'config.title': {\n      description: \"[External] Set a custom title for the Component header section <br/><br/> `string`\"\n    },\n    'config.description': {\n      description: \"[External] Supply a description or subtext for the Component's content <br/><br/> `string`\"\n    },\n    'config.tooltip': {\n      description: \"[External] An object containing component definitions for adding a descriptive tooltip to the Component's header <br/><br/> `any`\"\n    },\n    'config.tooltip.content': {\n      description: \"[External] Provides the content for the Header tooltip; JSX markup can also be supplied <br/><br/> `any`\"\n    },\n    'config.tooltip.position': {\n      description: \"[External] Sets the preferred position of the tooltip in the Component's header <br/><br/> `'left'` `'bottom'`\"\n    },\n    'config.componentStyle': {\n      description: \"[External] An object containing component style definitions of the Component <br/><br/> `object`\"\n    },\n    'config.componentStyle.background': {\n      description: \"[External] Set the background display style of the Component <br/><br/> `'default'` `'template'` `'none'`\"\n    },\n    'config.componentStyle.border': {\n      description: \"[External] Set the border display style of the Component <br/><br/> `'default'` `'template'` `'none'`\"\n    },\n    'config.componentStyle.shadow': {\n      description: \"[External] Enable/disable the display of the drop-shadow of the Component <br/><br/> `bool`\",\n    },\n    'config.componentStyle.accent': {\n      description: \"[External] Set the position of the accent border display of the Component <br/><br/> `'none'` `'top'` `'right'` `'bottom'` `'left'`\",\n    }\n  }}\n/>\n\n# Component Archetype\nComponent is a top-level, archetype component. It acts as a stylized wrapper, containing a visualization and any of it's related components (tables, legends, etc.).\n\nIt is displayed on a dashboard or page, collectively rendering the final output of what would be considered a COVE component.\n\n<br/>\n\n**[Documentation Note]:** *Due to the complexity of the state required for this component, and the limitations of Storybook's framework, interactive functionality testing for this component is currently unavailable in the documentation.\nFurthermore, the markup and arguments table does appear slightly different; be aware that documented argument references on the table also includes specifics for the Config Store's `config: {}` value.*\n\n<Canvas sourceState=\"shown\" withSource=\"open\">\n  <Story name=\"Example\">\n    {Template.bind({})}\n  </Story>\n</Canvas>\n\n<ArgsTable story=\"Example\"/>\n\nexport const Template = ({ ...args }) => <Component {...args}>\n  <h2><center>[Component Visualization]</center></h2>\n  <br/>\n  <p>This section is just an example of how the inner content of a component will be displayed. A visualization,\n    and any of it's required/related components will appear in this area.</p>\n</Component>\n"],"names":["Component","className","children","exampleConfig","attributes","config","useVisConfig","setDimensions","useStore","state","outerContainerRef","useRef","useEffect","entries","observer","entry","width","height","customTitleAttrs","customBorderAttrs","_a","_b","customShadowAttrs","_c","customComponentAttrs","customContentAttrs","_d","_e","tooltip","jsx","Fragment","jsxs","Tooltip","Icon","theme","useMemo","parse","PropTypes","Template","args","_components","_provideComponents","_jsxs","_jsx","MDXContent","props","MDXLayout","_createMdxContent","_Fragment","Meta","Canvas","Story","ArgsTable","example","componentMeta","__namedExportsOrder"],"mappings":"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"}