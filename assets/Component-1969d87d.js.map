{"version":3,"file":"Component-1969d87d.js","sources":["../../packages/core/components/hoc/Component.jsx"],"sourcesContent":["import { useEffect, useRef } from 'react'\n\n// Third Party\nimport parse from 'html-react-parser'\nimport PropTypes from 'prop-types'\n\n// Store\nimport { useGlobalStore } from '../../stores/globalStore'\nimport { useConfigStore } from '../../stores/configStore'\n\n// Components\nimport Icon from '../ui/Icon'\nimport Tooltip from '../ui/Tooltip'\n\n// Styles\nimport '../../styles/v2/components/component.scss'\n\nconst Component = ({ className, children, exampleConfig, ...attributes }) => {\n  const { setDimensions } = useGlobalStore()\n  const { config, updateConfig } = useConfigStore()\n\n  // Provide an example configObj for documentation purposes\n  useEffect(() => {\n    if (exampleConfig) updateConfig(exampleConfig)\n    return () => {\n    }\n  }, [ exampleConfig ])\n\n  // Observe changes to component container sizes for use with SVG renders\n  const outerContainerRef = useRef()\n\n  useEffect(() => {\n    if (outerContainerRef.current === typeof 'Element') {\n      const outerContainerObserver = new ResizeObserver((entries, observer) => {\n        for (let entry of entries) {\n          let { width, height } = entry.contentRect\n          setDimensions({ width, height })\n        }\n      })\n      outerContainerObserver.observe(outerContainerRef.current)\n    }\n    return () => {}\n  })\n\n  // Component Attributes\n  const customBorderAttrs = config.visual?.border !== 'default' && { 'data-border': config.visual?.border }\n  const customShadowAttrs = !config.visual?.shadow && { 'data-no-shadow': true }\n  // config.visual.accent !== 'default' && (config.visual.accent === 'top' && !title ) && { 'data-accent': config.visual.accent }\n  const customAccentAttrs = () => {\n    if (config.visual?.accent === 'none' || (config.visual?.accent === 'top' && config.title)) return {}\n    return { 'data-accent': config.visual?.accent }\n  }\n\n  const customComponentAttrs = {\n    ...attributes,\n    ...customBorderAttrs,\n    ...customShadowAttrs,\n    ...customAccentAttrs()\n  }\n\n  // Component Content Attributes\n  const customBgAttrs = config.visual?.background !== 'default' && { 'data-bg': config.visual?.background }\n\n  const customContentAttrs = {\n    ...customBgAttrs\n  }\n\n  // Return Component\n  return (\n    <div className={'cove-component' + (config.theme ? ' cove-theme--' + config.theme : ' cove-theme--blue') + (className ? ' ' + className : '')} {...customComponentAttrs}>\n      <div className=\"cove-component__container\">\n        {config.title &&\n          <header className=\"cove-component__header\" role=\"heading\" aria-hidden=\"true\" aria-level={2}>\n            {parse(config.title)}\n            {config.tooltip && config.tooltip !== '' && <>\n              <Tooltip>\n                <Tooltip.Target>\n                  <Icon display=\"questionCircle\"/>\n                </Tooltip.Target>\n                <Tooltip.Content>\n                  {typeof config.tooltip === 'object'\n                    ? config.tooltip\n                    : typeof config.tooltip === 'string' && (\n                    <p>{parse(config.tooltip)}</p>\n                  )}\n                </Tooltip.Content>\n              </Tooltip>\n            </>\n            }\n          </header>\n        }\n        <div className=\"cove-component__content\" {...customContentAttrs}>\n          <div className=\"cove-component__visualization\" ref={outerContainerRef}>\n            {children}\n          </div>\n          {config.description &&\n            <div className=\"cove-component__description\">{parse(config.description)}</div>\n          }\n          {config.tableShowIf && config.table}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nComponent.propTypes = {\n  /** All content set between the \\<Component\\> tags */\n  children: PropTypes.any,\n  /** Additional classes to be appended to the component */\n  className: PropTypes.string,\n  config: PropTypes.shape({\n    theme: PropTypes.oneOf([ 'blue', 'purple', 'brown', 'teal', 'pink', 'orange', 'slate', 'indigo', 'cyan', 'green', 'amber']),\n    /** Set a custom title for the component; defaults to a `config.title` entry for the component config */\n    title: PropTypes.string,\n    description: PropTypes.string,\n    visual: PropTypes.shape({\n      border: PropTypes.oneOf([ 'default', 'theme', 'none' ]),\n      background: PropTypes.oneOf([ 'default', 'theme', 'none' ]),\n      shadow: PropTypes.bool,\n      accent: PropTypes.oneOf([ 'none', 'top', 'right', 'bottom', 'left' ])\n    })\n  })\n}\n\nexport default Component\n"],"names":["Component","className","children","exampleConfig","attributes","setDimensions","useGlobalStore","config","updateConfig","useConfigStore","useEffect","outerContainerRef","useRef","entries","observer","entry","width","height","customBorderAttrs","_a","_b","customShadowAttrs","_c","customComponentAttrs","customContentAttrs","_d","_e","jsxs","parse","jsx","Fragment","Tooltip","Icon","PropTypes"],"mappings":"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"}