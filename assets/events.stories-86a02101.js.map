{"version":3,"file":"events.stories-86a02101.js","sources":["../../packages/core/helpers/_stories/events.stories.mdx"],"sourcesContent":["import { Meta } from '@storybook/blocks';\n\n<Meta\n  title=\"Helpers/events\"\n/>\n\n# Custom Events\n\nCOVE packages are able to emit events in order to interface with external services.\n<br/>\n<br/>\n\n## Subscribe Events\n### cove_loaded\n\nEach COVE package emits this event when a container ref and config are available. The event returns the entire config in `e.detail`, should a developer want to use any of the properties of the original config.\n\n**Example:**\n```js\ndocument.addEventListener('cove_loaded', e => console.log('COVE_LOADED', e.detail))\n```\n\n&nbsp;\n## Publish Events\n### cove_filterData:\nThe chart package currently listens for this event in order to filter data using controls outside of the COVE package. An external filter is added and ran against the chart package.\n\n**Creating filters for COVE to listen to:**\n\n```js\n// get dropdown and values\nconst select = document.querySelector(\"[DROPDOWN_EXAMPLE_SELECTOR]\");\n\n// listen to dropdown\nselect.addEventListener('change', function(e) {\n\n\tconst updateFilters = () => {\n\t\tconst values = Array.from(select.options).map(e => e.value);\n\n\t\tlet externalFilters = {\n\t\t\tcolumnName: '[Column name in CSV]',\n\t\t\tactive: select.value,\n\t\t\tvalues: values,\n\t\t}\n\n\t\t// If option is empty/default reset filters\n\t\t// Otherwise pass the external filter to a package.\n\t\tif(externalFilters.active === \"\") {\n\t\t\tconst event = new CustomEvent('cove_filterData', { detail: [] });\n\t\t\tdocument.dispatchEvent(event);\n\t\t} else {\n\t\t\tconst event = new CustomEvent('cove_filterData', { detail: externalFilters });\n\t\t\tdocument.dispatchEvent(event);\n\t\t}\n\t}\n\n\tupdateFilters()\n\n})\n```\n"],"names":["MDXContent","props","MDXLayout","_provideComponents","_jsx","_createMdxContent","_components","_jsxs","_Fragment","Meta","__page","componentMeta","__namedExportsOrder"],"mappings":"sbAMA,SAASA,EAAWC,EAAQ,GAAI,CAC9B,KAAM,CACJ,QAASC,CACb,EAAM,OAAO,OAAO,CAAE,EAAEC,EAAkB,EAAIF,EAAM,UAAU,EAC5D,OAAOC,EAAyBE,EAAKF,EAAW,CAAE,GAAGD,EACnD,SAAuBG,EAAKC,EAAmB,EAAE,CACrD,CAAG,EAAIA,EAAiB,EAEtB,SAASA,GAAoB,CAC3B,MAAMC,EAAc,OAAO,OAAO,CAChC,GAAI,KACJ,EAAG,IACH,GAAI,KACJ,GAAI,KACJ,KAAM,OACN,OAAQ,SACR,IAAK,KACN,EAAEH,EAAoB,EAAEF,EAAM,UAAU,EAEzC,OAAoBM,EAAMC,EAAW,CACnC,SAAU,CAAcJ,EAAKK,EAAM,CACjC,MAAO,gBACR,CAAA,EAAG,KAAmBL,EAAKE,EAAY,GAAI,CAC1C,SAAU,eACX,CAAA,EAAG,KAAmBF,EAAKE,EAAY,EAAG,CACzC,SAAU,qFACX,CAAA,EAAG,KAAmBF,EAAK,KAAM,CAAA,CAAE,EAAG,KAAmBA,EAAK,KAAM,CAAE,CAAA,EAAG,KAAmBA,EAAKE,EAAY,GAAI,CAChH,SAAU,kBACX,CAAA,EAAG,KAAmBF,EAAKE,EAAY,GAAI,CAC1C,SAAU,aACX,CAAA,EAAG,KAAmBC,EAAMD,EAAY,EAAG,CAC1C,SAAU,CAAC,4HAA0IF,EAAKE,EAAY,KAAM,CAC1K,SAAU,UACX,CAAA,EAAG,gFAAgF,CACrF,CAAA,EAAG,KAAmBF,EAAKE,EAAY,EAAG,CACzC,SAAuBF,EAAKE,EAAY,OAAQ,CAC9C,SAAU,UACpB,CAAS,CACF,CAAA,EAAG,KAAmBF,EAAKE,EAAY,IAAK,CAC3C,SAAuBF,EAAKE,EAAY,KAAM,CAC5C,UAAW,cACX,SAAU,uFACpB,CAAS,CACF,CAAA,EAAG,KAAmBF,EAAKE,EAAY,EAAG,CACzC,SAAU,GACX,CAAA,EAAG,KAAmBF,EAAKE,EAAY,GAAI,CAC1C,SAAU,gBACX,CAAA,EAAG,KAAmBF,EAAKE,EAAY,GAAI,CAC1C,SAAU,kBACX,CAAA,EAAG,KAAmBF,EAAKE,EAAY,EAAG,CACzC,SAAU,uLACX,CAAA,EAAG,KAAmBF,EAAKE,EAAY,EAAG,CACzC,SAAuBF,EAAKE,EAAY,OAAQ,CAC9C,SAAU,yCACpB,CAAS,CACF,CAAA,EAAG,KAAmBF,EAAKE,EAAY,IAAK,CAC3C,SAAuBF,EAAKE,EAAY,KAAM,CAC5C,UAAW,cACX,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CACpB,CAAS,CACT,CAAO,CAAC,CACR,CAAK,CACF,CACH,CAIY,MAACI,EAAS,IAAM,CAC1B,MAAM,IAAI,MAAM,iBAAiB,CACnC,EACAA,EAAO,WAAa,CAClB,SAAU,IACZ,EACK,MAACC,EAAgB,CACpB,MAAO,iBACP,KAAM,CAAC,aAAa,EACpB,eAAgB,CAAC,QAAQ,CAC3B,EACAA,EAAc,WAAaA,EAAc,YAAc,GACvDA,EAAc,WAAW,KAAO,CAAE,GAAIA,EAAc,WAAW,MAAQ,GACrE,KAAMX,CACR,EAC4B,MAAAY,EAAA,CAAA,QAAA"}