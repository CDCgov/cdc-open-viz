import{M as F,C as K,S as G,A as X}from"./index-41cddf45.js";import{a as s,F as h,j as e}from"./jsx-runtime-f14b59b8.js";import{p}from"./index-780fc102.js";import{A as z}from"./AlertBox-a8031985.js";import{B as v}from"./Button-ae9020f6.js";import{C as a}from"./Card-1ca6790b.js";import"./index-18f6e4ac.js";import{I as H}from"./Icon-ce256261.js";import{I as o}from"./InputSelect-df8ec889.js";import{u as W}from"./index-093f7bde.js";import"./iframe-1badc4b0.js";import"../sb-preview/runtime.mjs";import"./index-6820418a.js";import"./index-3e075a63.js";import"./index-8052939a.js";import"./_commonjsHelpers-53f7dec1.js";import"./index-87c76d85.js";import"./index-f4cbaf5b.js";import"./index-edb31f89.js";import"./LoadSpin-552b11ee.js";import"./useVisConfig-a08e56f4.js";import"./visConfigSlice-c5711f83.js";import"./store-bae56153.js";import"./Label-8ac46115.js";import"./index-4337b338.js";import"./Tooltip-8b5fc730.js";/* empty css              */const U=s(h,{children:[e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"Date"}),e("th",{children:"Value"}),e("th",{children:"..."})]}),s("tr",{children:[e("td",{children:"01/01/2020"}),e("td",{children:"150"}),e("td",{children:"..."})]}),s("tr",{children:[e("td",{children:"02/01/2020"}),e("td",{children:"150"}),e("td",{children:"..."})]})]})}),e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"State"}),e("th",{children:"Value"}),e("th",{children:"..."})]}),s("tr",{children:[e("td",{children:"Georgia"}),e("td",{children:"150"}),e("td",{children:"..."})]}),s("tr",{children:[e("td",{children:"Florida"}),e("td",{children:"150"}),e("td",{children:"..."})]})]})})]});const Y=s(h,{children:[e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"Date"}),e("td",{children:"01/01/2020"}),e("td",{children:"02/01/2020"}),e("td",{children:"..."})]}),s("tr",{children:[e("th",{children:"Value"}),e("td",{children:"100"}),e("td",{children:"150"}),e("td",{children:"..."})]})]})}),e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"State"}),e("td",{children:"Georgia"}),e("td",{children:"Florida"}),e("td",{children:"..."})]}),s("tr",{children:[e("th",{children:"Value"}),e("td",{children:"100"}),e("td",{children:"150"}),e("td",{children:"..."})]})]})})]});const Z=e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"Date"}),e("th",{children:"Virus 1"}),e("th",{children:"Virus 2"}),e("th",{children:"..."})]}),s("tr",{children:[e("td",{children:"01/01/2020"}),e("td",{children:"100"}),e("td",{children:"150"}),e("td",{children:"..."})]}),s("tr",{children:[e("td",{children:"02/01/2020"}),e("td",{children:"15"}),e("td",{children:"20"}),e("td",{children:"..."})]})]})});const $=e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"Virus"}),e("th",{children:"Date"}),e("th",{children:"Value"})]}),s("tr",{children:[e("td",{children:"Virus 1"}),e("td",{children:"01/01/2020"}),e("td",{children:"100"})]}),s("tr",{children:[e("td",{children:"Virus 1"}),e("td",{children:"02/01/2020"}),e("td",{children:"150"})]}),s("tr",{children:[e("td",{children:"..."}),e("td",{children:"..."}),e("td",{children:"..."})]}),s("tr",{children:[e("td",{children:"Virus 2"}),e("td",{children:"01/01/2020"}),e("td",{children:"15"})]}),s("tr",{children:[e("td",{children:"Virus 2"}),e("td",{children:"02/01/2020"}),e("td",{children:"20"})]}),s("tr",{children:[e("td",{children:"..."}),e("td",{children:"..."}),e("td",{children:"..."})]})]})});const m=({configureData:d,updateDescriptionProp:l,visualizationKey:r,dataKey:i})=>{var N,_,C,k,w,A,V,x,T,S,O,E,j,M,R,I,L;return s("div",{className:"cove-data-designer__container",children:[s("div",{className:"mb-2",children:[e("div",{className:"cove-heading--3 fw-bold mb-1",children:"Describe Data"}),e("div",{className:"cove-heading--4 fw-normal mb-1",children:"Data Orientation"}),s("div",{className:"cove-grid cove-grid--gap--2 mb-4",children:[e("div",{className:"cove-grid__col--12 cove-grid__col--lg-6",children:e("button",{className:"cove-data-designer__button"+((d==null?void 0:d.dataDescription)&&((N=d==null?void 0:d.dataDescription)==null?void 0:N.horizontal)===false?" active":""),onClick:()=>{l(r,i,"horizontal",false)},children:s(a,{children:[e("strong",{className:"cove-heading--3",children:"Vertical"}),s("p",{className:"mb-1",children:["Values for map geography or chart date/category axis are contained in a single ",e("em",{children:"column"}),"."]}),U]})})}),e("div",{className:"cove-grid__col--12 cove-grid__col--lg-6",children:e("button",{className:"cove-data-designer__button"+((d==null?void 0:d.dataDescription)&&((_=d==null?void 0:d.dataDescription)==null?void 0:_.horizontal)===true?" active":""),onClick:()=>{l(r,i,"horizontal",true)},children:s(a,{children:[e("strong",{className:"cove-heading--3",children:"Horizontal"}),s("p",{className:"mb-1",children:["Values for map geography or chart date/category axis are contained in a single ",e("em",{children:"row"})]}),Y]})})})]})]}),(d==null?void 0:d.dataDescription)&&s(h,{children:[s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Are there multiple series represented in your data?"}),s("div",{children:[e(v,{style:{backgroundColor:"#00345d"},hoverStyle:{backgroundColor:"#015daa"},className:"mr-1",onClick:()=>{l(r,i,"series",true)},active:((C=d==null?void 0:d.dataDescription)==null?void 0:C.series)===true,children:"Yes"}),e(v,{style:{backgroundColor:"#00345d"},hoverStyle:{backgroundColor:"#015daa"},onClick:()=>{l(r,i,"series",false)},active:((k=d==null?void 0:d.dataDescription)==null?void 0:k.series)===false,children:"No"})]})]}),((w=d==null?void 0:d.dataDescription)==null?void 0:w.horizontal)===true&&((A=d==null?void 0:d.dataDescription)==null?void 0:A.series)===true&&s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Which property in the dataset represents which series the row is describing?"}),e(o,{onChange:t=>{l(r,i,"seriesKey",t.target.value)},defaultValue:(V=d==null?void 0:d.dataDescription)==null?void 0:V.seriesKey,options:Object.keys(d==null?void 0:d.data[0]),initial:"Choose an option...",initialDisabled:true})]}),((x=d==null?void 0:d.dataDescription)==null?void 0:x.horizontal)===false&&((T=d==null?void 0:d.dataDescription)==null?void 0:T.series)===true&&s(h,{children:[s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Are the series values in your data represented in a single row, or across multiple rows?"}),s("div",{className:"cove-grid cove-grid--gap--2 mb-4",children:[e("div",{className:"cove-grid__col--6",children:e("button",{className:"cove-data-designer__button"+(((S=d==null?void 0:d.dataDescription)==null?void 0:S.singleRow)===true?" active":""),onClick:()=>{l(r,i,"singleRow",true)},children:s(a,{children:[e("strong",{className:"cove-heading--3",children:"Single Row"}),e("p",{className:"mb-1",children:"Each row contains the data for an individual series in itself."}),Z]})})}),e("div",{className:"cove-grid__col--6",children:e("button",{className:"cove-data-designer__button"+(((O=d==null?void 0:d.dataDescription)==null?void 0:O.singleRow)===false?" active":""),onClick:()=>{l(r,i,"singleRow",false)},children:s(a,{children:[e("strong",{className:"cove-heading--3",children:"Multiple Rows"}),e("p",{className:"mb-1",children:"Each series data is broken out into multiple rows."}),$]})})})]})]}),((E=d==null?void 0:d.dataDescription)==null?void 0:E.singleRow)===false&&s(h,{children:[s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Which property in the dataset represents which series the row is describing?"}),e(o,{onChange:t=>{l(r,i,"seriesKey",t.target.value)},defaultValue:(j=d==null?void 0:d.dataDescription)==null?void 0:j.seriesKey,options:Object.keys(d==null?void 0:d.data[0]),initial:"Choose an option...",initialDisabled:true})]}),s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Which property in the dataset represents the values for the category/date axis or map geography?"}),e(o,{onChange:t=>{l(r,i,"xKey",t.target.value)},defaultValue:(M=d==null?void 0:d.dataDescription)==null?void 0:M.xKey,options:Object.keys(d==null?void 0:d.data[0]),initial:"Choose an option...",initialDisabled:true})]}),s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Which property in the dataset represents the numeric value?"}),e(o,{onChange:t=>{l(r,i,"valueKey",t.target.value)},defaultValue:d==null?void 0:d.dataDescription.valueKey,options:Object.keys(d==null?void 0:d.data[0]),initial:"Choose an option...",initialDisabled:true})]}),s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"(Optional) Which properties in the dataset should be ignored? (will not be used or treated as filters)"}),e(o,{onChange:t=>{var n;if(t.target.value){l(r,i,"ignoredKeys",[...((n=d==null?void 0:d.dataDescription)==null?void 0:n.ignoredKeys)||[],t.target.value])}t.target.value=""},options:Object.keys(d==null?void 0:d.data[0]).filter(t=>{var n,c;return!((n=d==null?void 0:d.dataDescription)==null?void 0:n.ignoredKeys)||((c=d==null?void 0:d.dataDescription)==null?void 0:c.ignoredKeys.indexOf(t))===-1}),initial:"Choose an option...",initialSnap:true,initialDisabled:true}),((R=d==null?void 0:d.dataDescription)==null?void 0:R.ignoredKeys)&&((I=d==null?void 0:d.dataDescription)==null?void 0:I.ignoredKeys.length)>0&&e("ul",{className:"cove-data-designer__ignored-keys",children:(L=d==null?void 0:d.dataDescription)==null?void 0:L.ignoredKeys.map((t,n)=>e("li",{children:s(v,{className:"cove-data-designer__ignored-keys-tag",onClick:()=>{var B;let c=(B=d==null?void 0:d.dataDescription)==null?void 0:B.ignoredKeys;c.splice(n,1);l(r,i,"ignoredKeys",c)},children:[e("span",{className:"cove-data-designer__ignored-keys-tag--name",children:t}),e(H,{className:"cove-data-designer__ignored-keys-tag--icon",display:"close"})]})},`value-keys-list-${n}`))})]})]})]})]}),(d==null?void 0:d.dataDescription)&&(d==null?void 0:d.formattedData)&&e(z,{type:"success",children:"Data configured successfully!"})]})};m.propTypes={configureData:p.object,updateDescriptionProp:p.func,visualizationKey:p.string,dataKey:p.string};m.__docgenInfo={"description":"","methods":[],"displayName":"DataDesigner","props":{"configureData":{"type":{"name":"object"},"required":false,"description":"Array list of datapoints to be processed by the DataDesigner"},"updateDescriptionProp":{"type":{"name":"func"},"required":false,"description":"Function used update the data description key, prop-drilled from parent"},"visualizationKey":{"type":{"name":"string"},"required":false,"description":"Specifies the unique visualization key that uses the data"},"dataKey":{"type":{"name":"string"},"required":false,"description":"Specifies the key for the dataset"}}};const q=({...d})=>e(m,{...d});function J(d={}){const{wrapper:l}=Object.assign({},W(),d.components);return l?e(l,{...d,children:e(r,{})}):r();function r(){const i=Object.assign({h1:"h1",p:"p"},W(),d.components);return s(h,{children:[e(F,{title:"Components/Manager/DataDesigner",component:m}),"\n",e(i.h1,{children:"DataDesigner Component"}),"\n",e(i.p,{children:"A component used to interactively transform the datapoints that have been defined to be used by a visualization."}),"\n",e(K,{sourceState:"shown",withSource:"open",children:e(G,{name:"Example",argTypes:{configureData:{control:false},updateDescriptionProp:{control:false},visualizationKey:{control:false},dataKey:{control:false}},children:q.bind({})})}),"\n",e(X,{story:"Example"})]})}}const y=q.bind({});y.storyName="Example";y.argTypes={configureData:{control:false},updateDescriptionProp:{control:false},visualizationKey:{control:false},dataKey:{control:false}};y.parameters={storySource:{source:"({ ...args\n}) => <DataDesigner {...args} />"}};const b={title:"Components/Manager/DataDesigner",component:m,tags:["stories-mdx"],includeStories:["example"]};b.parameters=b.parameters||{};b.parameters.docs={...b.parameters.docs||{},page:J};const we=["Template","example"];export{q as Template,we as __namedExportsOrder,b as default,y as example};
//# sourceMappingURL=DataDesigner.stories-a401119d.js.map
