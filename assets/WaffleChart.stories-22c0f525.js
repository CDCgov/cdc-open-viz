import{a as y,F as De,j as c}from"./jsx-runtime-91a467a5.js";import{R as Dn,r as b}from"./index-8db94870.js";import{E as dt,f as er,i as nr,g as tr,L as rr,H as _e}from"./index-20c827da.js";import{A as Pe}from"./Accordion-1e436e52.js";import{B as ar}from"./Button-d38d56b6.js";import{I as Ze}from"./Icon-ae4b05d3.js";import{T as ne}from"./Tooltip-a643bbd8.js";import{P as j}from"./index-1fc0ca9a.js";import{g as ir}from"./_commonjsHelpers-042e6b4d.js";var ht={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var o=typeof a;if(o==="string"||o==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var l=t.apply(null,a);l&&r.push(l)}}else if(o==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){r.push(a.toString());continue}for(var u in a)n.call(a,u)&&a[u]&&r.push(u)}}}return r.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(ht);var or=ht.exports;const An=ir(or);var lr=["top","left","transform","className","children","innerRef"];function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cn.apply(this,arguments)}function cr(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function sn(e){var n=e.top,t=n===void 0?0:n,r=e.left,i=r===void 0?0:r,a=e.transform,o=e.className,l=e.children,u=e.innerRef,s=cr(e,lr);return Dn.createElement("g",cn({ref:u,className:An("visx-group",o),transform:a||"translate("+i+", "+t+")"},s),l)}sn.propTypes={top:j.number,left:j.number,transform:j.string,className:j.string,children:j.node,innerRef:j.oneOfType([j.string,j.func,j.object])};var sr=["className","innerRef"];function un(){return un=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},un.apply(this,arguments)}function ur(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function In(e){var n=e.className,t=e.innerRef,r=ur(e,sr);return Dn.createElement("rect",un({ref:t,className:An("visx-bar",n)},r))}var fr=["className","innerRef"];function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fn.apply(this,arguments)}function dr(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function hr(e){var n=e.className,t=e.innerRef,r=dr(e,fr);return Dn.createElement("circle",fn({ref:t,className:An("visx-circle",n)},r))}function je(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function mr(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function mt(e){let n,t,r;e.length!==2?(n=je,t=(l,u)=>je(e(l),u),r=(l,u)=>e(l)-u):(n=e===je||e===mr?e:pr,t=e,r=e);function i(l,u,s=0,m=l.length){if(s<m){if(n(u,u)!==0)return m;do{const d=s+m>>>1;t(l[d],u)<0?s=d+1:m=d}while(s<m)}return s}function a(l,u,s=0,m=l.length){if(s<m){if(n(u,u)!==0)return m;do{const d=s+m>>>1;t(l[d],u)<=0?s=d+1:m=d}while(s<m)}return s}function o(l,u,s=0,m=l.length){const d=i(l,u,s,m-1);return d>s&&r(l[d-1],u)>-r(l[d],u)?d-1:d}return{left:i,center:o,right:a}}function pr(){return 0}function gr(e){return e===null?NaN:+e}const vr=mt(je),br=vr.right;mt(gr).center;const yr=br,xr=Math.sqrt(50),Nr=Math.sqrt(10),Cr=Math.sqrt(2);function Ye(e,n,t){const r=(n-e)/Math.max(0,t),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=xr?10:a>=Nr?5:a>=Cr?2:1;let l,u,s;return i<0?(s=Math.pow(10,-i)/o,l=Math.round(e*s),u=Math.round(n*s),l/s<e&&++l,u/s>n&&--u,s=-s):(s=Math.pow(10,i)*o,l=Math.round(e/s),u=Math.round(n/s),l*s<e&&++l,u*s>n&&--u),u<l&&.5<=t&&t<2?Ye(e,n,t*2):[l,u,s]}function wr(e,n,t){if(n=+n,e=+e,t=+t,!(t>0))return[];if(e===n)return[e];const r=n<e,[i,a,o]=r?Ye(n,e,t):Ye(e,n,t);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let s=0;s<l;++s)u[s]=(a-s)/-o;else for(let s=0;s<l;++s)u[s]=(a-s)*o;else if(o<0)for(let s=0;s<l;++s)u[s]=(i+s)/-o;else for(let s=0;s<l;++s)u[s]=(i+s)*o;return u}function dn(e,n,t){return n=+n,e=+e,t=+t,Ye(e,n,t)[2]}function Mr(e,n,t){n=+n,e=+e,t=+t;const r=n<e,i=r?dn(n,e,t):dn(e,n,t);return(r?-1:1)*(i<0?1/-i:i)}function Tr(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function we(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function Fe(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function oe(){}var he=.7,Ne=1/he,ye="\\s*([+-]?\\d+)\\s*",Ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_r=/^#([0-9a-f]{3,8})$/,Sr=new RegExp(`^rgb\\(${ye},${ye},${ye}\\)$`),Dr=new RegExp(`^rgb\\(${Z},${Z},${Z}\\)$`),Ar=new RegExp(`^rgba\\(${ye},${ye},${ye},${Ae}\\)$`),kr=new RegExp(`^rgba\\(${Z},${Z},${Z},${Ae}\\)$`),Or=new RegExp(`^hsl\\(${Ae},${Z},${Z}\\)$`),$r=new RegExp(`^hsla\\(${Ae},${Z},${Z},${Ae}\\)$`),Ln={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};we(oe,ke,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hn,formatHex:Hn,formatHex8:Rr,formatHsl:Fr,formatRgb:jn,toString:jn});function Hn(){return this.rgb().formatHex()}function Rr(){return this.rgb().formatHex8()}function Fr(){return pt(this).formatHsl()}function jn(){return this.rgb().formatRgb()}function ke(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=_r.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?Yn(n):t===3?new z(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?Ue(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?Ue(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Sr.exec(e))?new z(n[1],n[2],n[3],1):(n=Dr.exec(e))?new z(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Ar.exec(e))?Ue(n[1],n[2],n[3],n[4]):(n=kr.exec(e))?Ue(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Or.exec(e))?Bn(n[1],n[2]/100,n[3]/100,1):(n=$r.exec(e))?Bn(n[1],n[2]/100,n[3]/100,n[4]):Ln.hasOwnProperty(e)?Yn(Ln[e]):e==="transparent"?new z(NaN,NaN,NaN,0):null}function Yn(e){return new z(e>>16&255,e>>8&255,e&255,1)}function Ue(e,n,t,r){return r<=0&&(e=n=t=NaN),new z(e,n,t,r)}function kn(e){return e instanceof oe||(e=ke(e)),e?(e=e.rgb(),new z(e.r,e.g,e.b,e.opacity)):new z}function hn(e,n,t,r){return arguments.length===1?kn(e):new z(e,n,t,r??1)}function z(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}we(z,hn,Fe(oe,{brighter(e){return e=e==null?Ne:Math.pow(Ne,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?he:Math.pow(he,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new z(fe(this.r),fe(this.g),fe(this.b),We(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wn,formatHex:Wn,formatHex8:zr,formatRgb:qn,toString:qn}));function Wn(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}`}function zr(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}${ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function qn(){const e=We(this.opacity);return`${e===1?"rgb(":"rgba("}${fe(this.r)}, ${fe(this.g)}, ${fe(this.b)}${e===1?")":`, ${e})`}`}function We(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ue(e){return e=fe(e),(e<16?"0":"")+e.toString(16)}function Bn(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new X(e,n,t,r)}function pt(e){if(e instanceof X)return new X(e.h,e.s,e.l,e.opacity);if(e instanceof oe||(e=ke(e)),!e)return new X;if(e instanceof X)return e;e=e.rgb();var n=e.r/255,t=e.g/255,r=e.b/255,i=Math.min(n,t,r),a=Math.max(n,t,r),o=NaN,l=a-i,u=(a+i)/2;return l?(n===a?o=(t-r)/l+(t<r)*6:t===a?o=(r-n)/l+2:o=(n-t)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new X(o,l,u,e.opacity)}function mn(e,n,t,r){return arguments.length===1?pt(e):new X(e,n,t,r??1)}function X(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}we(X,mn,Fe(oe,{brighter(e){return e=e==null?Ne:Math.pow(Ne,e),new X(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?he:Math.pow(he,e),new X(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,i=2*t-r;return new z(Ke(e>=240?e-240:e+120,i,r),Ke(e,i,r),Ke(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new X(Gn(this.h),Ie(this.s),Ie(this.l),We(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=We(this.opacity);return`${e===1?"hsl(":"hsla("}${Gn(this.h)}, ${Ie(this.s)*100}%, ${Ie(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Gn(e){return e=(e||0)%360,e<0?e+360:e}function Ie(e){return Math.max(0,Math.min(1,e||0))}function Ke(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}const gt=Math.PI/180,vt=180/Math.PI,qe=18,bt=.96422,yt=1,xt=.82521,Nt=4/29,xe=6/29,Ct=3*xe*xe,Er=xe*xe*xe;function wt(e){if(e instanceof K)return new K(e.l,e.a,e.b,e.opacity);if(e instanceof re)return Mt(e);e instanceof z||(e=kn(e));var n=rn(e.r),t=rn(e.g),r=rn(e.b),i=en((.2225045*n+.7168786*t+.0606169*r)/yt),a,o;return n===t&&t===r?a=o=i:(a=en((.4360747*n+.3850649*t+.1430804*r)/bt),o=en((.0139322*n+.0971045*t+.7141733*r)/xt)),new K(116*i-16,500*(a-i),200*(i-o),e.opacity)}function pn(e,n,t,r){return arguments.length===1?wt(e):new K(e,n,t,r??1)}function K(e,n,t,r){this.l=+e,this.a=+n,this.b=+t,this.opacity=+r}we(K,pn,Fe(oe,{brighter(e){return new K(this.l+qe*(e??1),this.a,this.b,this.opacity)},darker(e){return new K(this.l-qe*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,n=isNaN(this.a)?e:e+this.a/500,t=isNaN(this.b)?e:e-this.b/200;return n=bt*nn(n),e=yt*nn(e),t=xt*nn(t),new z(tn(3.1338561*n-1.6168667*e-.4906146*t),tn(-.9787684*n+1.9161415*e+.033454*t),tn(.0719453*n-.2289914*e+1.4052427*t),this.opacity)}}));function en(e){return e>Er?Math.pow(e,1/3):e/Ct+Nt}function nn(e){return e>xe?e*e*e:Ct*(e-Nt)}function tn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Pr(e){if(e instanceof re)return new re(e.h,e.c,e.l,e.opacity);if(e instanceof K||(e=wt(e)),e.a===0&&e.b===0)return new re(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var n=Math.atan2(e.b,e.a)*vt;return new re(n<0?n+360:n,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function gn(e,n,t,r){return arguments.length===1?Pr(e):new re(e,n,t,r??1)}function re(e,n,t,r){this.h=+e,this.c=+n,this.l=+t,this.opacity=+r}function Mt(e){if(isNaN(e.h))return new K(e.l,0,0,e.opacity);var n=e.h*gt;return new K(e.l,Math.cos(n)*e.c,Math.sin(n)*e.c,e.opacity)}we(re,gn,Fe(oe,{brighter(e){return new re(this.h,this.c,this.l+qe*(e??1),this.opacity)},darker(e){return new re(this.h,this.c,this.l-qe*(e??1),this.opacity)},rgb(){return Mt(this).rgb()}}));var Tt=-.14861,On=1.78277,$n=-.29227,Xe=-.90649,Oe=1.97294,Vn=Oe*Xe,Xn=Oe*On,Qn=On*$n-Xe*Tt;function Ur(e){if(e instanceof de)return new de(e.h,e.s,e.l,e.opacity);e instanceof z||(e=kn(e));var n=e.r/255,t=e.g/255,r=e.b/255,i=(Qn*r+Vn*n-Xn*t)/(Qn+Vn-Xn),a=r-i,o=(Oe*(t-i)-$n*a)/Xe,l=Math.sqrt(o*o+a*a)/(Oe*i*(1-i)),u=l?Math.atan2(o,a)*vt-120:NaN;return new de(u<0?u+360:u,l,i,e.opacity)}function vn(e,n,t,r){return arguments.length===1?Ur(e):new de(e,n,t,r??1)}function de(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}we(de,vn,Fe(oe,{brighter(e){return e=e==null?Ne:Math.pow(Ne,e),new de(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?he:Math.pow(he,e),new de(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*gt,n=+this.l,t=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(e),i=Math.sin(e);return new z(255*(n+t*(Tt*r+On*i)),255*(n+t*($n*r+Xe*i)),255*(n+t*(Oe*r)),this.opacity)}}));const Qe=e=>()=>e;function _t(e,n){return function(t){return e+t*n}}function Ir(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(r){return Math.pow(e+r*n,t)}}function Rn(e,n){var t=n-e;return t?_t(e,t>180||t<-180?t-360*Math.round(t/360):t):Qe(isNaN(e)?n:e)}function Lr(e){return(e=+e)==1?E:function(n,t){return t-n?Ir(n,t,e):Qe(isNaN(n)?t:n)}}function E(e,n){var t=n-e;return t?_t(e,t):Qe(isNaN(e)?n:e)}const bn=function e(n){var t=Lr(n);function r(i,a){var o=t((i=hn(i)).r,(a=hn(a)).r),l=t(i.g,a.g),u=t(i.b,a.b),s=E(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=l(m),i.b=u(m),i.opacity=s(m),i+""}}return r.gamma=e,r}(1);function Hr(e,n){n||(n=[]);var t=e?Math.min(n.length,e.length):0,r=n.slice(),i;return function(a){for(i=0;i<t;++i)r[i]=e[i]*(1-a)+n[i]*a;return r}}function jr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yr(e,n){var t=n?n.length:0,r=e?Math.min(t,e.length):0,i=new Array(r),a=new Array(t),o;for(o=0;o<r;++o)i[o]=Fn(e[o],n[o]);for(;o<t;++o)a[o]=n[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Wr(e,n){var t=new Date;return e=+e,n=+n,function(r){return t.setTime(e*(1-r)+n*r),t}}function Be(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function qr(e,n){var t={},r={},i;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in e?t[i]=Fn(e[i],n[i]):r[i]=n[i];return function(a){for(i in t)r[i]=t[i](a);return r}}var yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,an=new RegExp(yn.source,"g");function Br(e){return function(){return e}}function Gr(e){return function(n){return e(n)+""}}function Vr(e,n){var t=yn.lastIndex=an.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",n=n+"";(r=yn.exec(e))&&(i=an.exec(n));)(a=i.index)>t&&(a=n.slice(t,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Be(r,i)})),t=an.lastIndex;return t<n.length&&(a=n.slice(t),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?Gr(u[0].x):Br(n):(n=u.length,function(s){for(var m=0,d;m<n;++m)l[(d=u[m]).i]=d.x(s);return l.join("")})}function Fn(e,n){var t=typeof n,r;return n==null||t==="boolean"?Qe(n):(t==="number"?Be:t==="string"?(r=ke(n))?(n=r,bn):Vr:n instanceof ke?bn:n instanceof Date?Wr:jr(n)?Hr:Array.isArray(n)?Yr:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?qr:Be)(e,n)}function St(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}function Dt(e){return function(n,t){var r=e((n=mn(n)).h,(t=mn(t)).h),i=E(n.s,t.s),a=E(n.l,t.l),o=E(n.opacity,t.opacity);return function(l){return n.h=r(l),n.s=i(l),n.l=a(l),n.opacity=o(l),n+""}}}const Xr=Dt(Rn);var Qr=Dt(E);function Jr(e,n){var t=E((e=pn(e)).l,(n=pn(n)).l),r=E(e.a,n.a),i=E(e.b,n.b),a=E(e.opacity,n.opacity);return function(o){return e.l=t(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function At(e){return function(n,t){var r=e((n=gn(n)).h,(t=gn(t)).h),i=E(n.c,t.c),a=E(n.l,t.l),o=E(n.opacity,t.opacity);return function(l){return n.h=r(l),n.c=i(l),n.l=a(l),n.opacity=o(l),n+""}}}const Zr=At(Rn);var Kr=At(E);function kt(e){return function n(t){t=+t;function r(i,a){var o=e((i=vn(i)).h,(a=vn(a)).h),l=E(i.s,a.s),u=E(i.l,a.l),s=E(i.opacity,a.opacity);return function(m){return i.h=o(m),i.s=l(m),i.l=u(Math.pow(m,t)),i.opacity=s(m),i+""}}return r.gamma=n,r}(1)}const ea=kt(Rn);var na=kt(E);function ta(e){return function(){return e}}function ra(e){return+e}var Jn=[0,1];function be(e){return e}function xn(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:ta(isNaN(n)?NaN:.5)}function aa(e,n){var t;return e>n&&(t=e,e=n,n=t),function(r){return Math.max(e,Math.min(n,r))}}function ia(e,n,t){var r=e[0],i=e[1],a=n[0],o=n[1];return i<r?(r=xn(i,r),a=t(o,a)):(r=xn(r,i),a=t(a,o)),function(l){return a(r(l))}}function oa(e,n,t){var r=Math.min(e.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=xn(e[o],e[o+1]),a[o]=t(n[o],n[o+1]);return function(l){var u=yr(e,l,1,r)-1;return a[u](i[u](l))}}function la(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ca(){var e=Jn,n=Jn,t=Fn,r,i,a,o=be,l,u,s;function m(){var f=Math.min(e.length,n.length);return o!==be&&(o=aa(e[0],e[f-1])),l=f>2?oa:ia,u=s=null,d}function d(f){return f==null||isNaN(f=+f)?a:(u||(u=l(e.map(r),n,t)))(r(o(f)))}return d.invert=function(f){return o(i((s||(s=l(n,e.map(r),Be)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,ra),m()):e.slice()},d.range=function(f){return arguments.length?(n=Array.from(f),m()):n.slice()},d.rangeRound=function(f){return n=Array.from(f),t=St,m()},d.clamp=function(f){return arguments.length?(o=f?!0:be,m()):o!==be},d.interpolate=function(f){return arguments.length?(t=f,m()):t},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,M){return r=f,i=M,m()}}function sa(){return ca()(be,be)}function ua(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ge(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function Ce(e){return e=Ge(Math.abs(e)),e?e[1]:NaN}function fa(e,n){return function(t,r){for(var i=t.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(t.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}}function da(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}var ha=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ve(e){if(!(n=ha.exec(e)))throw new Error("invalid format: "+e);var n;return new zn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Ve.prototype=zn.prototype;function zn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ma(e){e:for(var n=e.length,t=1,r=-1,i;t<n;++t)switch(e[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+e[t])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ot;function pa(e,n){var t=Ge(e,n);if(!t)return e+"";var r=t[0],i=t[1],a=i-(Ot=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ge(e,Math.max(0,n+a-1))[0]}function Zn(e,n){var t=Ge(e,n);if(!t)return e+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Kn={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ua,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>Zn(e*100,n),r:Zn,s:pa,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function et(e){return e}var nt=Array.prototype.map,tt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ga(e){var n=e.grouping===void 0||e.thousands===void 0?et:fa(nt.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?et:da(nt.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function s(d){d=Ve(d);var f=d.fill,M=d.align,T=d.sign,_=d.symbol,w=d.zero,F=d.width,S=d.comma,A=d.precision,x=d.trim,N=d.type;N==="n"?(S=!0,N="g"):Kn[N]||(A===void 0&&(A=12),x=!0,N="g"),(w||f==="0"&&M==="=")&&(w=!0,f="0",M="=");var R=_==="$"?t:_==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",U=_==="$"?r:/[%p]/.test(N)?o:"",h=Kn[N],v=/[defgprs%]/.test(N);A=A===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function C(p){var I=R,k=U,B,le,ge;if(N==="c")k=h(p)+k,p="";else{p=+p;var ve=p<0||1/p<0;if(p=isNaN(p)?u:h(Math.abs(p),A),x&&(p=ma(p)),ve&&+p==0&&T!=="+"&&(ve=!1),I=(ve?T==="("?T:l:T==="-"||T==="("?"":T)+I,k=(N==="s"?tt[8+Ot/3]:"")+k+(ve&&T==="("?")":""),v){for(B=-1,le=p.length;++B<le;)if(ge=p.charCodeAt(B),48>ge||ge>57){k=(ge===46?i+p.slice(B+1):p.slice(B))+k,p=p.slice(0,B);break}}}S&&!w&&(p=n(p,1/0));var ce=I.length+p.length+k.length,H=ce<F?new Array(F-ce+1).join(f):"";switch(S&&w&&(p=n(H+p,H.length?F-k.length:1/0),H=""),M){case"<":p=I+p+k+H;break;case"=":p=I+H+p+k;break;case"^":p=H.slice(0,ce=H.length>>1)+I+p+k+H.slice(ce);break;default:p=H+I+p+k;break}return a(p)}return C.toString=function(){return d+""},C}function m(d,f){var M=s((d=Ve(d),d.type="f",d)),T=Math.max(-8,Math.min(8,Math.floor(Ce(f)/3)))*3,_=Math.pow(10,-T),w=tt[8+T/3];return function(F){return M(_*F)+w}}return{format:s,formatPrefix:m}}var Le,$t,Rt;va({thousands:",",grouping:[3],currency:["$",""]});function va(e){return Le=ga(e),$t=Le.format,Rt=Le.formatPrefix,Le}function ba(e){return Math.max(0,-Ce(Math.abs(e)))}function ya(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ce(n)/3)))*3-Ce(Math.abs(e)))}function xa(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,Ce(n)-Ce(e))+1}function Na(e,n,t,r){var i=Mr(e,n,t),a;switch(r=Ve(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(n));return r.precision==null&&!isNaN(a=ya(i,o))&&(r.precision=a),Rt(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=xa(i,Math.max(Math.abs(e),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ba(i))&&(r.precision=a-(r.type==="%")*2);break}}return $t(r)}function Ca(e){var n=e.domain;return e.ticks=function(t){var r=n();return wr(r[0],r[r.length-1],t??10)},e.tickFormat=function(t,r){var i=n();return Na(i[0],i[i.length-1],t??10,r)},e.nice=function(t){t==null&&(t=10);var r=n(),i=0,a=r.length-1,o=r[i],l=r[a],u,s,m=10;for(l<o&&(s=o,o=l,l=s,s=i,i=a,a=s);m-- >0;){if(s=dn(o,l,t),s===u)return r[i]=o,r[a]=l,n(r);if(s>0)o=Math.floor(o/s)*s,l=Math.ceil(l/s)*s;else if(s<0)o=Math.ceil(o*s)/s,l=Math.floor(l*s)/s;else break;u=s}return e},e}function Ft(){var e=sa();return e.copy=function(){return la(e,Ft())},Tr.apply(e,arguments),Ca(e)}function wa(e,n){n.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(n.domain))}function Ma(e,n){n.range&&("padding"in e,e.range(n.range))}function Ta(e,n){"align"in e&&"align"in n&&typeof n.align<"u"&&e.align(n.align)}function _a(e,n){"base"in e&&"base"in n&&typeof n.base<"u"&&e.base(n.base)}function Sa(e,n){"clamp"in e&&"clamp"in n&&typeof n.clamp<"u"&&e.clamp(n.clamp)}function Da(e,n){"constant"in e&&"constant"in n&&typeof n.constant<"u"&&e.constant(n.constant)}function Aa(e,n){"exponent"in e&&"exponent"in n&&typeof n.exponent<"u"&&e.exponent(n.exponent)}var rt={lab:Jr,hcl:Zr,"hcl-long":Kr,hsl:Xr,"hsl-long":Qr,cubehelix:ea,"cubehelix-long":na,rgb:bn};function ka(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return rt[e]}var n=e.type,t=e.gamma,r=rt[n];return typeof t>"u"?r:r.gamma(t)}function Oa(e,n){if("interpolate"in n&&"interpolate"in e&&typeof n.interpolate<"u"){var t=ka(n.interpolate);e.interpolate(t)}}var on=new Date,ln=new Date;function P(e,n,t,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return e(a=new Date(+a)),a},i.ceil=function(a){return e(a=new Date(a-1)),n(a,1),e(a),a},i.round=function(a){var o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=function(a,o){return n(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,l){var u=[],s;if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;do u.push(s=new Date(+a)),n(a,l),e(a);while(s<a&&a<o);return u},i.filter=function(a){return P(function(o){if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},function(o,l){if(o>=o)if(l<0)for(;++l<=0;)for(;n(o,-1),!a(o););else for(;--l>=0;)for(;n(o,1),!a(o););})},t&&(i.count=function(a,o){return on.setTime(+a),ln.setTime(+o),e(on),e(ln),Math.floor(t(on,ln))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}const $e=1e3,ie=$e*60,Re=ie*60,En=Re*24,zt=En*7;var Et=P(function(e){e.setTime(e-e.getMilliseconds())},function(e,n){e.setTime(+e+n*$e)},function(e,n){return(n-e)/$e},function(e){return e.getUTCSeconds()});const Pt=Et;Et.range;var Ut=P(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*$e)},function(e,n){e.setTime(+e+n*ie)},function(e,n){return(n-e)/ie},function(e){return e.getMinutes()});const $a=Ut;Ut.range;var It=P(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*$e-e.getMinutes()*ie)},function(e,n){e.setTime(+e+n*Re)},function(e,n){return(n-e)/Re},function(e){return e.getHours()});const Ra=It;It.range;var Lt=P(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ie)/En,e=>e.getDate()-1);const Fa=Lt;Lt.range;function me(e){return P(function(n){n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+t*7)},function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*ie)/zt})}var Ht=me(0),za=me(1),Ea=me(2),Pa=me(3),Ua=me(4),Ia=me(5),La=me(6);Ht.range;za.range;Ea.range;Pa.range;Ua.range;Ia.range;La.range;var jt=P(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,n){e.setMonth(e.getMonth()+n)},function(e,n){return n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});const Ha=jt;jt.range;var Pn=P(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e,n){return n.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Pn.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:P(function(n){n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t*e)})};const ja=Pn;Pn.range;var Yt=P(function(e){e.setUTCSeconds(0,0)},function(e,n){e.setTime(+e+n*ie)},function(e,n){return(n-e)/ie},function(e){return e.getUTCMinutes()});const Ya=Yt;Yt.range;var Wt=P(function(e){e.setUTCMinutes(0,0,0)},function(e,n){e.setTime(+e+n*Re)},function(e,n){return(n-e)/Re},function(e){return e.getUTCHours()});const Wa=Wt;Wt.range;var qt=P(function(e){e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n)},function(e,n){return(n-e)/En},function(e){return e.getUTCDate()-1});const qa=qt;qt.range;function pe(e){return P(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t*7)},function(n,t){return(t-n)/zt})}var Bt=pe(0),Ba=pe(1),Ga=pe(2),Va=pe(3),Xa=pe(4),Qa=pe(5),Ja=pe(6);Bt.range;Ba.range;Ga.range;Va.range;Xa.range;Qa.range;Ja.range;var Gt=P(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCMonth(e.getUTCMonth()+n)},function(e,n){return n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});const Za=Gt;Gt.range;var Un=P(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n)},function(e,n){return n.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Un.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:P(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t*e)})};const Ka=Un;Un.range;var ei=new Date(Date.UTC(2020,1,2,3,4,5)),ni="%Y-%m-%d %H:%M";function ti(e){var n=e.tickFormat(1,ni)(ei);return n==="2020-02-02 03:04"}var at={day:Fa,hour:Ra,minute:$a,month:Ha,second:Pt,week:Ht,year:ja},it={day:qa,hour:Wa,minute:Ya,month:Za,second:Pt,week:Bt,year:Ka};function ri(e,n){if("nice"in n&&typeof n.nice<"u"&&"nice"in e){var t=n.nice;if(typeof t=="boolean")t&&e.nice();else if(typeof t=="number")e.nice(t);else{var r=e,i=ti(r);if(typeof t=="string")r.nice(i?it[t]:at[t]);else{var a=t.interval,o=t.step,l=(i?it[a]:at[a]).every(o);l!=null&&r.nice(l)}}}}function ai(e,n){"padding"in e&&"padding"in n&&typeof n.padding<"u"&&e.padding(n.padding),"paddingInner"in e&&"paddingInner"in n&&typeof n.paddingInner<"u"&&e.paddingInner(n.paddingInner),"paddingOuter"in e&&"paddingOuter"in n&&typeof n.paddingOuter<"u"&&e.paddingOuter(n.paddingOuter)}function ii(e,n){if(n.reverse){var t=e.range().slice().reverse();"padding"in e,e.range(t)}}function oi(e,n){"round"in n&&typeof n.round<"u"&&(n.round&&"interpolate"in n&&typeof n.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",n):"round"in e?e.round(n.round):"interpolate"in e&&n.round&&e.interpolate(St))}function li(e,n){"unknown"in e&&"unknown"in n&&typeof n.unknown<"u"&&e.unknown(n.unknown)}function ci(e,n){if("zero"in n&&n.zero===!0){var t=e.domain(),r=t[0],i=t[1],a=i<r,o=a?[i,r]:[r,i],l=o[0],u=o[1],s=[Math.min(0,l),Math.max(0,u)];e.domain(a?s.reverse():s)}}var si=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],ui={domain:wa,nice:ri,zero:ci,interpolate:Oa,round:oi,align:Ta,base:_a,clamp:Sa,constant:Da,exponent:Aa,padding:ai,range:Ma,reverse:ii,unknown:li};function fi(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=new Set(n),i=si.filter(function(a){return r.has(a)});return function(o,l){return typeof l<"u"&&i.forEach(function(u){ui[u](o,l)}),o}}var di=fi("domain","range","reverse","clamp","interpolate","nice","round","zero");function hi(e){return di(Ft(),e)}const Vt=b.createContext({});function mi(e,n,t){var r=this,i=b.useRef(null),a=b.useRef(0),o=b.useRef(null),l=b.useRef([]),u=b.useRef(),s=b.useRef(),m=b.useRef(e),d=b.useRef(!0);m.current=e;var f=!n&&n!==0&&typeof window<"u";if(typeof e!="function")throw new TypeError("Expected a function");n=+n||0,t=t||{};var M=!!t.leading,T="trailing"in t?!!t.trailing:!0,_="maxWait"in t,w=_?Math.max(+t.maxWait||0,n):null;b.useEffect(function(){return d.current=!0,function(){d.current=!1}},[]);var F=b.useMemo(function(){var S=function(h){var v=l.current,C=u.current;return l.current=u.current=null,a.current=h,s.current=m.current.apply(C,v)},A=function(h,v){f&&cancelAnimationFrame(o.current),o.current=f?requestAnimationFrame(h):setTimeout(h,v)},x=function(h){if(!d.current)return!1;var v=h-i.current,C=h-a.current;return!i.current||v>=n||v<0||_&&C>=w},N=function(h){return o.current=null,T&&l.current?S(h):(l.current=u.current=null,s.current)},R=function(){var h=Date.now();if(x(h))return N(h);if(d.current){var v=h-i.current,C=h-a.current,p=n-v,I=_?Math.min(p,w-C):p;A(R,I)}},U=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];var C=Date.now(),p=x(C);if(l.current=h,u.current=r,i.current=C,p){if(!o.current&&d.current)return a.current=i.current,A(R,n),M?S(i.current):s.current;if(_)return A(R,n),S(i.current)}return o.current||A(R,n),s.current};return U.cancel=function(){o.current&&(f?cancelAnimationFrame(o.current):clearTimeout(o.current)),a.current=0,l.current=i.current=u.current=o.current=null},U.isPending=function(){return!!o.current},U.flush=function(){return o.current?N(Date.now()):s.current},U},[M,_,n,w,T,f]);return F}function pi(e,n){return e===n}function ot(e){return typeof e=="function"?function(){return e}:e}function gi(e){var n=b.useState(ot(e)),t=n[0],r=n[1],i=b.useCallback(function(a){return r(ot(a))},[]);return[t,i]}function vi(e,n,t){var r=t&&t.equalityFn||pi,i=gi(e),a=i[0],o=i[1],l=mi(b.useCallback(function(s){return o(s)},[o]),n,t),u=b.useRef(e);return b.useEffect(function(){r(u.current,e)||(l(e),u.current=e)},[e,l,r]),[a,{cancel:l.cancel,isPending:l.isPending,flush:l.flush}]}const q=b.memo(({label:e,section:n=null,subsection:t=null,fieldName:r,updateField:i,value:a,type:o="input",tooltip:l,placeholder:u,i:s=null,min:m=null,max:d=null,className:f,...M})=>{const[T,_]=b.useState(a),[w]=vi(T,500);b.useEffect(()=>{typeof w=="string"&&a!==w&&i&&i(n,t,r,w,s)},[w,n,t,r,s,a,i]);let F=t?`${n}-${t}-${r}`:`${n}-${t}-${r}`;const S=N=>{o!=="number"||m===null||!N.target.value||parseFloat(m)<=parseFloat(N.target.value)&parseFloat(d)>=parseFloat(N.target.value)?_(N.target.value):_(m.toString())};let A={className:`cove-input${f?" "+f:""}`,type:o,name:F,placeholder:u,onChange:S,value:T,...M},x=o==="textarea"?c("textarea",{...A}):c("input",{...A});return y(De,{children:[e&&c("label",{className:"cove-input__label",children:e}),l,x]})}),V=b.memo(({label:e,value:n,options:t,fieldName:r,section:i=null,subsection:a=null,required:o=!1,updateField:l,initial:u,...s})=>{let m="";if(Array.isArray(t))m=t.map(d=>c("option",{value:d,children:d},d));else{m=[];for(const[d,f]of Object.entries(t))m.push(c("option",{value:d,children:f},d))}return u&&m.unshift(c("option",{value:"",children:u},"initial")),y("label",{style:{width:"100%",display:"block"},children:[e&&c("span",{className:"edit-label cove-input__label",children:e}),c("select",{className:o&&!n?"warning":"",name:r,value:n,onChange:d=>{l(i,a,r,d.target.value)},...s,children:m})]})}),bi=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"currentColor",...e},b.createElement("path",{d:"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z"})),te=b.memo(({label:e,size:n="small",activeColor:t=null,activeCheckColor:r=null,section:i=null,subsection:a=null,fieldName:o,updateField:l,value:u,i:s=null,min:m=null,max:d=null,...f})=>{const[M,T]=b.useState(u);let _=a?`${i}-${a}-${o}`:`${i}-${a}-${o}`;return b.useEffect(()=>{u!==void 0&&u!==M&&T(u)},[u]),b.useEffect(()=>{u!==void 0&&u!==M&&l&&l(i,a,o,M,s)},[M]),y("div",{className:"input-group",children:[e&&c("label",{children:e}),y("div",{className:"cove-input__checkbox"+(n==="small"?"--small":n==="large"?"--large":"")+(M?" active":""),onClick:()=>T(!M),children:[c("div",{className:`cove-input__checkbox-box${t?" custom-color":""}`,style:M&&t?{backgroundColor:t}:null,children:c(bi,{className:"cove-input__checkbox-check",style:{fill:r||"#025eaa"}})}),c("input",{className:"cove-input--hidden",type:"checkbox",name:_,checked:M||!1,readOnly:!0})]})]})});te.propTypes={label:j.string,size:j.oneOf(["small","medium","large"]),activeColor:j.string,activeCheckColor:j.string};const yi=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},b.createElement("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"})),xi=["theme-blue","theme-purple","theme-brown","theme-teal","theme-pink","theme-orange","theme-slate","theme-indigo","theme-cyan","theme-green","theme-amber"];b.memo(({label:e,value:n,fieldName:t,section:r=null,subsection:i=null,tooltip:a,updateField:o,...l})=>y("label",{className:"checkbox",children:[c("input",{type:"checkbox",name:t,checked:n,onChange:()=>{o(r,i,t,!n)},...l}),c("span",{className:"edit-label column-heading",children:e}),c("span",{className:"cove-icon",children:a})]}));const Ni=b.memo(e=>{const{config:n,updateConfig:t,loading:r,data:i,setParentConfig:a,isDashboard:o}=b.useContext(Vt),[l,u]=b.useState(!0),[s,m]=b.useState(!1),d=h=>h?{backgroundColor:"#ffd2d2",color:"#d8000c"}:{},f=(h,v,C,p)=>{if(h===null&&v===null){let le={...n,[C]:p};C==="filterColumn"&&(le.filterValue=""),t(le);return}const I=Array.isArray(n[h]);let k=I?[...n[h],p]:{...n[h],[C]:p};v!==null&&(I?(k=[...n[h]],k[v]={...k[v],[C]:p}):typeof p=="string"?k[v]=p:k={...n[h],[v]:{...n[h][v],[C]:p}});let B={...n,[h]:k};t(B)};b.useEffect(()=>{if(a){const h=w();a(h)}},[n]),b.useEffect(()=>{if(!s){let h={...n};delete h.newViz,t(h)}},[]),b.useEffect(()=>{let h=["<",">","<=",">="];n.dataConditionalComparate!==""?h.indexOf(n.dataConditionalOperator)>-1&&isNaN(n.dataConditionalComparate)?t({...n,invalidComparate:!0}):n.invalidComparate&&t({...n,invalidComparate:!1}):t({...n,invalidComparate:!1})},[n.dataConditionalOperator,n.dataConditionalComparate]);const M=()=>{u(!l)},T=()=>c("section",{className:"waiting",children:y("section",{className:"waiting-container",children:[c("h3",{children:"Error With Configuration"}),c("p",{children:n.runtime.editorErrorMessage})]})}),_=()=>c("section",{className:"waiting",children:y("section",{className:"waiting-container",children:[c("h3",{children:"Finish Configuring"}),c("p",{children:"Set all required options to the left and confirm below to display a preview of the chart."}),c("button",{className:"btn",style:{margin:"1em auto"},onClick:v=>{v.preventDefault();let C={...n};delete C.newViz,t(C)},children:"I'm Done"})]})}),w=()=>{let h=JSON.parse(JSON.stringify(n));return delete h.newViz,delete h.runtime,h},F=()=>{let h=n.filters?[...n.filters]:[];h.push({values:[]}),t({...n,filters:h})},S=h=>{let v=[...n.filters];v.splice(h,1),t({...n,filters:v})},A=(h,v,C)=>{let p=[...n.filters];p[v][h]=C,t({...n,filters:p})},x=(h=!0)=>{let v={};return i.map(C=>Object.keys(C).forEach(p=>v[p]=!0)),Object.keys(v)},N=h=>{let v=[];const C=n.filters[h].columnName;return i&&C&&(i.forEach(function(p){p[C]!==void 0&&v.indexOf(p[C])===-1&&v.push(p[C])}),v.sort()),v},R=["Waffle","Gauge"],U=y(Pe,{children:[y(Pe.Section,{title:"General",children:[c("div",{className:"cove-accordion__panel-section",children:y("div",{style:{width:"100%",display:"block"},className:"cove-input-group",children:[c(V,{value:n.visualizationType,fieldName:"visualizationType",label:"Chart Type",updateField:f,options:R,className:"cove-input"}),n.visualizationType==="Gauge"&&c(V,{value:n.visualizationSubType,fieldName:"visualizationSubType",label:"Chart Subtype",updateField:f,options:["Linear"],className:"cove-input"})]})}),c(q,{value:n.title,fieldName:"title",label:"Title",placeholder:"Chart Title",updateField:f}),c(q,{type:"textarea",value:n.content,fieldName:"content",label:"Message",updateField:f,tooltip:y(ne,{style:{textTransform:"none"},children:[c(ne.Target,{children:c(Ze,{display:"question",style:{marginLeft:"0.5rem"}})}),c(ne.Content,{children:c("p",{children:"Enter the message text for the visualization. The following HTML tags are supported: strong, em, sup, and sub."})})]})}),c(q,{value:n.subtext,fieldName:"subtext",label:"Subtext/Citation",placeholder:"Chart Subtext or Citation",updateField:f,tooltip:y(ne,{style:{textTransform:"none"},children:[c(ne.Target,{children:c(Ze,{display:"question",style:{marginLeft:"0.5rem"}})}),c(ne.Content,{children:c("p",{children:"Enter supporting text to display below the data visualization, if applicable. The following HTML tags are supported: strong, em, sup, and sub."})})]})})]}),y(Pe.Section,{icon:!n.dataColumn||!n.dataFunction?c(yi,{width:"15",className:"warning-icon"}):"",title:"Data",children:[c("h4",{style:{fontWeight:"600"},children:"Numerator"}),y("div",{className:"cove-accordion__panel-section",children:[c("div",{className:"cove-input-group",children:c(V,{style:d(!n.dataColumn),value:n.dataColumn||"",fieldName:"dataColumn",label:"Data Column",updateField:f,initial:"Select",options:x(),className:"cove-input"})}),c("div",{className:"cove-input-group",children:c(V,{style:d(!n.dataFunction),value:n.dataFunction||"",fieldName:"dataFunction",label:"Data Function",updateField:f,initial:"Select",options:ct,className:"cove-input"})}),y("div",{className:"cove-input-group",children:[c("label",{children:c("span",{className:"edit-label cove-input__label",children:"Data Conditional"})}),y("div",{className:"cove-accordion__panel-row cove-accordion__small-inputs",children:[c("div",{className:"cove-accordion__panel-col",children:c(V,{value:n.dataConditionalColumn||"",fieldName:"dataConditionalColumn",updateField:f,initial:"Select",options:x(),className:"cove-input"})}),c("div",{className:"cove-accordion__panel-col",children:c(V,{value:n.dataConditionalOperator||"",fieldName:"dataConditionalOperator",updateField:f,initial:"Select",options:Ri,className:"cove-input"})}),c("div",{className:"cove-accordion__panel-col",children:c(q,{value:n.dataConditionalComparate,fieldName:"dataConditionalComparate",updateField:f,className:n.invalidComparate?"cove-accordion__input-error":"",style:{minHeight:"2rem"}})})]})]}),n.invalidComparate&&c("div",{className:"cove-accordion__panel-error",children:"Non-numerical comparate values can only be used with = or ≠."})]}),y("div",{className:"cove-accordion__panel-row align-center",children:[c("div",{className:"cove-accordion__panel-col",children:c("h4",{style:{fontWeight:"600"},children:"Denominator"})}),c("div",{className:"cove-accordion__panel-col",children:y("div",{style:{display:"flex",justifyContent:"flex-end"},children:[c("label",{className:"cove-accordion__panel-label--inline",children:"Select from data"}),c(te,{size:"small",value:n.customDenom,fieldName:"customDenom",updateField:f})]})})]}),y("div",{className:"cove-accordion__panel-section",children:[!n.customDenom&&y("div",{className:"cove-accordion__panel-row align-center",children:[c("div",{className:"cove-accordion__panel-col",children:c(q,{value:n.dataDenom,fieldName:"dataDenom",updateField:f})}),c("div",{className:"cove-accordion__panel-col",style:{display:"flex",alignItems:"center"},children:c("label",{className:"cove-accordion__panel-label--muted",children:"default (100)"})})]}),n.customDenom&&y(De,{children:[c(V,{value:n.dataDenomColumn||"",fieldName:"dataDenomColumn",label:"Data Column",updateField:f,initial:"Select",options:x()}),c(V,{value:n.dataDenomFunction||"",fieldName:"dataDenomFunction",label:"Data Function",updateField:f,initial:"Select",options:ct})]})]}),c("ul",{className:"column-edit",children:y("li",{className:"three-col",children:[c("div",{style:{marginRight:"1rem"},children:c(q,{value:n.prefix,fieldName:"prefix",label:"Prefix",updateField:f})}),c("div",{style:{marginRight:"1rem"},children:c(q,{value:n.suffix,fieldName:"suffix",label:"Suffix",updateField:f})}),c("div",{children:c(q,{type:"number",value:n.roundToPlace,fieldName:"roundToPlace",label:"Round",updateField:f})})]})}),n.visualizationType==="Gauge"&&y(De,{children:[c("hr",{className:"cove-accordion__divider"}),y("div",{className:"cove-accordion__panel-section reverse-labels",children:[c(q,{inline:!0,size:"small",value:n.valueDescription,label:"Value Descriptor",fieldName:"valueDescription",updateField:f}),c(te,{inline:!0,size:"small",value:n.showPercent,label:"Show Percentage",fieldName:"showPercent",updateField:f}),c(te,{inline:!0,size:"small",label:"Show Denominator",value:n.showDenominator,fieldName:"showDenominator",updateField:f})]})]}),y("label",{style:{marginBottom:"1rem"},children:[c("span",{className:"edit-label",children:"Data Point Filters"}),y(ne,{style:{textTransform:"none"},children:[c(ne.Target,{children:c(Ze,{display:"question",style:{marginLeft:"0.5rem"}})}),c(ne.Content,{children:c("p",{children:'To refine the highlighted data point, specify one or more filters (e.g., "Male" and "Female" for a column called "Sex").'})})]})]}),n.filters&&c("ul",{className:"filters-list",style:{paddingLeft:0,marginBottom:"1rem"},children:n.filters.map((h,v)=>y("fieldset",{className:"edit-block",children:[c("button",{type:"button",className:"remove-column",onClick:()=>{S(v)},children:"Remove"}),y("label",{children:[c("span",{className:"edit-label column-heading",children:"Column"}),y("select",{value:h.columnName,onChange:C=>{A("columnName",v,C.target.value)},children:[c("option",{value:"",children:"- Select Option -"}),x().map((C,p)=>c("option",{value:C,children:C},p))]})]}),y("label",{children:[c("span",{className:"edit-label column-heading",children:"Column Value"}),y("select",{value:h.columnValue,onChange:C=>{A("columnValue",v,C.target.value)},children:[c("option",{value:"",children:"- Select Option -"}),N(v).map((C,p)=>c("option",{value:C,children:C},p))]})]})]},v))}),c(ar,{onClick:F,fluid:!0,children:"Add Filter"})]}),y(Pe.Section,{title:"Visual",children:[n.visualizationType!=="Gauge"&&c(V,{value:n.shape,fieldName:"shape",label:"Shape",updateField:f,options:["circle","square","person"],className:"cove-input"}),n.visualizationType!=="Gauge"&&y("div",{className:"cove-accordion__panel-row cove-accordion__small-inputs",style:{marginTop:"1rem",marginBottom:"1rem"},children:[c("div",{className:"cove-accordion__panel-col",children:c(q,{type:"number",value:n.nodeWidth,fieldName:"nodeWidth",label:"Width",updateField:f})}),c("div",{className:"cove-accordion__panel-col",children:c(q,{type:"number",value:n.nodeSpacer,fieldName:"nodeSpacer",label:"Spacer",updateField:f})})]}),c("div",{className:"cove-input-group",children:n.visualizationType!=="Gauge"&&c(V,{value:n.orientation,fieldName:"orientation",label:"Layout",updateField:f,className:"cove-input",options:["horizontal","vertical"]})}),y("div",{className:"cove-input-group",children:[c("label",{children:c("span",{className:"edit-label column-heading cove-input__label",children:"Data Point Font Size"})}),y("div",{className:"cove-accordion__panel-row cove-accordion__small-inputs align-center",children:[c("div",{className:"cove-accordion__panel-col",children:c(q,{type:"number",value:n.fontSize,fieldName:"fontSize",updateField:f})}),c("div",{className:"cove-accordion__panel-col",style:{display:"flex",alignItems:"center"},children:y("label",{className:"accordion__panel-label--muted",children:[" ",n.visualizationType==="Gauge"?" default (16px)":" default (50px)"]})})]})]}),c(V,{value:n.overallFontSize,fieldName:"overallFontSize",label:"Overall Font Size",updateField:f,options:["small","medium","large"],className:"cove-input"}),y("label",{children:[c("span",{className:"edit-label cove-input__label",children:"Theme"}),c("ul",{className:"color-palette",children:xi.map(h=>c("li",{title:h,onClick:()=>{t({...n,theme:h})},className:n.theme===h?"selected "+h:h},h))})]}),y("div",{className:"cove-accordion__panel-section reverse-labels",children:[c(te,{inline:!0,size:"small",value:n.visual.border,section:"visual",fieldName:"border",label:"Display Border",updateField:f}),c(te,{inline:!0,size:"small",value:n.visual.borderColorTheme,section:"visual",fieldName:"borderColorTheme",label:"Use theme border color",updateField:f}),c(te,{size:"small",value:n.visual.accent,section:"visual",fieldName:"accent",label:"Use Accent Style",updateField:f}),c(te,{size:"small",value:n.visual.background,section:"visual",fieldName:"background",label:"Use Theme Background Color",updateField:f}),c(te,{size:"small",value:n.visual.hideBackgroundColor,section:"visual",fieldName:"hideBackgroundColor",label:"Hide Background Color",updateField:f})]})]})]});return r?null:c(dt,{component:"EditorPanel",children:y("div",{className:"cove-editor",children:[!n.newViz&&n.runtime&&n.runtime.editorErrorMessage&&c(T,{}),n.newViz&&s&&c(_,{}),c("button",{className:"cove-editor--toggle"+(l?"":" collapsed"),title:l?"Collapse Editor":"Expand Editor",onClick:M}),c("section",{className:"cove-editor__panel"+(l?"":" hidden"),children:y("div",{className:"cove-editor__panel-container",children:[c("h2",{className:"cove-editor__heading",children:"Configure Chart"}),c("section",{className:"cove-editor__content",children:U})]})}),c("div",{className:"cove-editor__content",children:c("div",{className:"cove-editor__content-wrap",children:e.children})})]})})}),Se={title:"Chart Title",visualizationType:"Waffle",visualizationSubType:"linear",showPercent:!0,showDenominator:!0,valueDescription:"out of",content:"",subtext:"",orientation:"horizontal",data:"",filters:[],fontSize:"",overallFontSize:"medium",dataColumn:"",dataFunction:"",dataConditionalColumn:"",dataConditionalOperator:"",dataConditionalComparate:"",invalidComparate:!1,customDenom:!1,dataDenom:"100",dataDenomColumn:"",dataDenomFunction:"",suffix:"%",roundToPlace:"0",shape:"circle",nodeWidth:"10",nodeSpacer:"2",theme:"theme-blue",type:"waffle-chart",visual:{border:!0,accent:!1,background:!1,hideBackgroundColor:!1,borderColorTheme:!1}};function Ci(e,n){const t=new CustomEvent(e,{detail:n});document.dispatchEvent(t)}function wi(e,n=null){var _,w,F,S,A,x,N;const{legend:t}=e;let r="",i="";e.lineDatapointStyle==="hover"&&(r=" chart-line--hover"),e.lineDatapointStyle==="always show"&&(r=" chart-line--always"),e.barHasBorder==="false"&&(i=" chart-bar--no-border");let a=["cove-component__inner"],o=["cove-component__content"];const{visualizationType:l,title:u,showTitle:s}=e;(l==="Spark Line"||l==="chart")&&u&&s&&o.push("component--has-title"),e.showTitle&&o.push("component--has-title"),e.title&&e.visualizationType!=="chart"&&e.visualizationType!=="Spark Line"&&o.push("component--has-title"),e.subtext&&a.push("component--has-subtext"),e.biteStyle&&a.push(`bite__style--${e.biteStyle}`),(_=e.general)!=null&&_.isCompactStyle&&a.push("component--isCompactStyle"),!((w=e.visual)!=null&&w.border)&&o.push("no-borders"),e.visualizationType==="Spark Line"&&o.push("sparkline"),(F=e.visual)!=null&&F.borderColorTheme&&o.push("component--has-borderColorTheme"),(S=e.visual)!=null&&S.accent&&o.push("component--has-accent"),(A=e.visual)!=null&&A.background&&o.push("component--has-background"),(x=e.visual)!=null&&x.hideBackgroundColor&&o.push("component--hideBackgroundColor"),e.shadow&&a.push("shadow"),(N=e==null?void 0:e.visual)!=null&&N.roundedBorders&&a.push("bite--has-rounded-borders");let m={width:"100%"};const d=()=>(t==null?void 0:t.position)==="side"&&(t!=null&&t.singleColumn)?"legend-container__ul--single-column":(t==null?void 0:t.position)==="bottom"&&(t!=null&&t.singleRow)?"single-row":t!=null&&t.verticalSorted&&!(t!=null&&t.singleRow)?"vertical-sorted":"",f=()=>{const R=["legend-container__ul"];return R.push(d()),R},T={aside:[`${t==null?void 0:t.position}`,`${d()}`,"cdcdataviz-sr-focusable",`${n}`],section:["legend-container"],ul:f(),li:["single-legend-item","legend-container__li"],title:["legend-container__title"],resetButton:["legend-container__reset-button","btn","clear"],description:["legend-container__description"]};return{innerContainerClasses:a,contentClasses:o,barBorderClass:i,lineDatapointClass:r,sparkLineStyles:m,legendClasses:T}}const Mi=async e=>{let t={...e};return t.validated=4.23,t},Ti=async e=>{let n=e;return n=await Mi(n),n};const lt={"theme-blue":"#005eaa","theme-purple":"#712177","theme-brown":"#705043","theme-teal":"#00695c","theme-pink":"#af4448","theme-orange":"#bb4d00","theme-slate":"#29434e","theme-indigo":"#26418f","theme-cyan":"#006778","theme-green":"#4b830d","theme-amber":"#fbab18"},_i=({config:e,isEditor:n,link:t})=>{let{title:r,theme:i,shape:a,nodeWidth:o,nodeSpacer:l,prefix:u,suffix:s,subtext:m,content:d,orientation:f,filters:M,dataColumn:T,dataFunction:_,dataConditionalColumn:w,dataConditionalOperator:F,dataConditionalComparate:S,customDenom:A,dataDenom:x,dataDenomColumn:N,dataDenomFunction:R,roundToPlace:U}=e;const h=b.useCallback(()=>{if(!T||!_)return"";const ee=g=>{if(Array.isArray(g)&&g.length>0){const $=g.reduce((G,ae)=>G+ae);return D($)}},Y=g=>{const $=g.length>1?g.reduce((G,ae)=>G+ae)/g.length:g[0];return D($)},Q=g=>{let $={},G=-1/0;for(let W=0;W<g.length;W++)$[g[W]]?$[g[W]]+=1:$[g[W]]=1,$[g[W]]>G&&(G=$[g[W]]);let ae=[];for(let W in $)$[W]===G&&ae.push(W);return ae},Me=g=>{const $=Math.floor(g.length/2),G=[...g].sort((W,Kt)=>W-Kt),ae=g.length%2!==0?G[$]:(G[$-1]+G[$])/2;return D(ae)},D=g=>(U!==""&&!isNaN(U)&&Number(U)>-1&&(g=Number(g).toFixed(Number(U))),g);let O=e.data;M.map(g=>{if(g.columnName&&g.columnValue)O=O.filter(function($){return $[g.columnName]===g.columnValue});else return!1});let L=[];if(w!==""&&F!==""&&S!=="")switch(F){case"<":L=O.filter(g=>g[w]<S);break;case">":L=O.filter(g=>g[w]>S);break;case"<=":L=O.filter(g=>g[w]<=S);break;case">=":L=O.filter(g=>g[w]>=S);break;case"=":isNaN(Number(S))?L=O.filter(g=>String(g[w])===S):L=O.filter(g=>g[w]===S);break;case"≠":isNaN(Number(S))?L=O.filter(g=>String(g[w])!==S):L=O.filter(g=>g[w]!==S);break;default:L=[]}const Te=L.length>0?L.map(g=>g[T]):O.map(g=>g[T]),ze=O.map(g=>g[N]);let J=Te.filter(g=>{let $=!1;return(Number(g)||Number.isFinite(Number(g)))&&($=!0),$}).map(Number),se=ze.filter(g=>{let $=!1;return(Number(g)||Number.isFinite(Number(g)))&&($=!0),$}).map(Number),Je="";Je={[Cn]:String(J.length),[Sn]:String(ee(J)),[wn]:String(Y(J)),[Mn]:Me(J).toString(),[Nn]:Math.max(...J).toString(),[Tn]:Math.min(...J).toString(),[_n]:Q(J).join(", ")}[_];let Ee=null;const Zt={[Cn]:String(se.length),[Sn]:String(ee(se)),[wn]:String(Y(se)),[Mn]:Me(se).toString(),[Nn]:Math.max(...se).toString(),[Tn]:Math.min(...se).toString(),[_n]:Q(se).join(", ")};return A&&N&&R?Ee=Zt[R]:Ee=x>0?x:100,[D(Je/Ee*100),Ee,D(Je)]},[T,_,e.data,M,w,F,S,A,N,R,U,x]),[v,C,p]=h(),I=b.useCallback(()=>{let ee=[],Y=parseInt(o,10),Q=parseInt(l,10);const Me=(D,O,L,Te,ze)=>{let J=O==="x"?L%10:O==="y"?Math.floor(L/10):null;return D==="circle"?J*(Te+ze)+Te/2:J*(Te+ze)};for(let D=0;D<100;D++){let O={shape:a,x:Me(a,"x",D,Y,Q),y:Me(a,"y",D,Y,Q),color:lt[i],opacity:D+1>100-Math.round(v)?1:.35};ee.push(O)}return ee.map((D,O)=>D.shape==="square"?c(In,{className:"cdc-waffle-chart__node",style:{transitionDelay:`${.1*O}ms`},x:D.x,y:D.y,width:Y,height:Y,fill:D.color,fillOpacity:D.opacity},O):D.shape==="person"?c("path",{style:{transform:`translateX(${D.x+Y/4}px) translateY(${D.y}px) scale(${Y/20})`},fill:D.color,fillOpacity:D.opacity,d:`M3.75,0a2.5,2.5,0,1,1-2.5,2.5A2.5,2.5,0,0,1,3.75,0M5.625,5.625H5.18125a3.433,3.433,0,0,1-2.8625,0H1.875A1.875,1.875,
                          0,0,0,0,7.5v5.3125a.9375.9375,0,0,0,.9375.9375h.625v5.3125A.9375.9375,0,0,0,2.5,20H5a.9375.9375,0,0,0,
                          .9375-.9375V13.75h.625A.9375.9375,0,0,0,7.5,12.8125V7.5A1.875,1.875,0,0,0,5.625,5.625Z`},O):c(hr,{className:"cdc-waffle-chart__node",style:{transitionDelay:`${.1*O}ms`},cx:D.x,cy:D.y,r:Y/2,fill:D.color,fillOpacity:D.opacity},O))},[i,v,a,o,l]),k=b.useCallback(()=>o*10+l*9,[o,l]);let B=e.fontSize?{fontSize:e.fontSize+"px"}:null;const{innerContainerClasses:le,contentClasses:ge}=wi(e),ve=(ee,Y=!1)=>{Y&&console.log("handleWaffleChartAriaLabels Testing On:",ee);try{let Q="Waffle chart";return ee.title&&(Q+=` with the title: ${ee.title}`),Q}catch(Q){console.error(Q.message)}},ce="100%",H=35,Qt=hi({domain:[0,C],range:[0,ce]}),Jt=lt[i];return c("div",{className:le.join(" "),children:y(De,{children:[r&&c("header",{className:`cove-component__header chart-title ${e.theme}`,"aria-hidden":"true",children:_e(r)}),c("div",{className:ge.join(" "),children:y("div",{className:"cove-component__content-wrap",children:[e.visualizationType==="Gauge"&&c("div",{className:`cove-gauge-chart${e.overallFontSize?" font-"+e.overallFontSize:""}`,children:y("div",{className:"cove-gauge-chart__chart",children:[y("div",{style:B,children:[u||" ",e.showPercent?v:p,s?s+" ":" "," ",e.valueDescription," ",e.showDenominator&&C?C:" "]}),c("div",{className:"cove-gauge-chart__data--text introText",children:_e(d)}),c("svg",{height:H,width:"100%",children:y(sn,{children:[c("foreignObject",{style:{border:"1px solid black"},x:0,y:0,width:ce,height:H,fill:"#fff"}),c(In,{x:0,y:0,width:Qt(p),height:H,fill:Jt})]})}),c("div",{className:"cove-gauge-chart__subtext subtext",children:_e(m)})]})}),e.visualizationType!=="Gauge"&&y("div",{className:`cove-waffle-chart${f==="vertical"?" cove-waffle-chart--verical":""}${e.overallFontSize?" font-"+e.overallFontSize:""}`,children:[c("div",{className:"cove-waffle-chart__chart",style:{width:k()},children:c("svg",{width:k(),height:k(),role:"img","aria-label":ve(e),tabIndex:0,children:c(sn,{children:I()})})}),(v||d)&&y("div",{className:"cove-waffle-chart__data",children:[v&&y("div",{className:"cove-waffle-chart__data--primary",style:B,children:[u||null,v,s||null]}),c("div",{className:"cove-waffle-chart__data--text",children:_e(d)}),m&&c("div",{className:"cove-waffle-chart__subtext subtext",children:_e(m)})]})]})]})}),t&&t]})})},Xt=({configUrl:e,config:n,isDashboard:t=!1,isEditor:r=!1,setConfig:i})=>{const[a,o]=b.useState({...Se}),[l,u]=b.useState(!0),[s,m]=b.useState("lg"),[d,f]=b.useState(!1),[M,T]=b.useState(),_=x=>{Object.keys(Se).forEach(N=>{x[N]&&typeof x[N]=="object"&&!Array.isArray(x[N])&&(x[N]={...Se[N],...x[N]})}),x.runtime={},x.runtime.uniqueId=Date.now(),x.runtime.editorErrorMessage="",o(x)},w=b.useCallback(async()=>{let x=n||await(await fetch(e)).json(),N=x.data??{};x.dataUrl&&(N=await er(x.dataUrl)),x.data=N;const R={...await Ti(x)};_({...Se,...R}),u(!1)},[]),F=new nr(x=>{for(let N of x){let R=tr(N.contentRect.width*2);m(R)}}),S=b.useCallback(x=>{x!==null&&F.observe(x),T(x)},[]);b.useEffect(()=>{w().catch(x=>console.log(x))},[]),b.useEffect(()=>{a&&!d&&M&&(Ci("cove_loaded",{config:a}),f(!0))},[a,M]),b.useEffect(()=>{w().catch(x=>console.log(x))},[]),n&&b.useEffect(()=>{n.dataUrl||_({...Se,...n})},[n.data]);let A=c(rr,{});if(l===!1){let x=["cove","cdc-open-viz-module","type-waffle-chart",s,a.theme,"font-"+a.overallFontSize];r&&x.push("is-editor");let R=c("div",{className:`${["cove-component","waffle-chart"].join(" ")}`,ref:S,children:c(_i,{config:a,isEditor:r})});A=y("div",{className:x.join(" "),children:[r&&c(Ni,{children:R}),!r&&R]})}return c(dt,{component:"WaffleChart",children:c(Vt.Provider,{value:{config:a,updateConfig:_,loading:l,data:a.data,setParentConfig:i,isDashboard:t,outerContainerRef:S},children:A})})},Nn="Max",Cn="Count",wn="Mean (Average)",Mn="Median",Tn="Min",_n="Mode",Sn="Sum",ct=[Cn,Nn,wn,Mn,Tn,_n,Sn],Si="<",Di=">",Ai="<=",ki=">=",Oi="=",$i="≠",Ri=[Si,Di,Ai,ki,Oi,$i],Wi={title:"Components/Templates/WaffleChart",component:Xt},He={args:{config:{shape:"square",title:"Overdose Mortality Rates",content:"of overdoses resulted in death.",subtext:"This data is an example and does not reflect actual averages",orientation:"horizontal",data:[{"Resulted in Death":250,"Number of Overdoses":600,state:"Alabama",Year:"2010"},{"Resulted in Death":16,"Number of Overdoses":80,state:"Alaska",Year:"2008"},{"Resulted in Death":19,"Number of Overdoses":100,state:"Alaska",Year:"2010"},{"Resulted in Death":93,"Number of Overdoses":400,state:"Alaska",Year:"2012"},{"Resulted in Death":82,"Number of Overdoses":400,state:"Arizona",Year:"2010"}],filters:[],fontSize:null,overallFontSize:"medium",dataColumn:"Resulted in Death",dataFunction:"Sum",dataConditionalColumn:"",dataConditionalOperator:null,dataConditionalComparate:"",customDenom:!0,dataDenom:null,dataDenomColumn:"Number of Overdoses",dataDenomFunction:"Sum",prefix:"",suffix:"%",roundToPlace:0,nodeWidth:10,nodeSpacer:2,theme:"blue"}},render:e=>c(De,{children:c(Xt,{...e})})};var st,ut,ft;He.parameters={...He.parameters,docs:{...(st=He.parameters)==null?void 0:st.docs,source:{originalSource:`{
  args: {
    config: {
      shape: 'square',
      title: 'Overdose Mortality Rates',
      content: 'of overdoses resulted in death.',
      subtext: 'This data is an example and does not reflect actual averages',
      orientation: 'horizontal',
      data: [{
        'Resulted in Death': 250,
        'Number of Overdoses': 600,
        state: 'Alabama',
        Year: '2010'
      }, {
        'Resulted in Death': 16,
        'Number of Overdoses': 80,
        state: 'Alaska',
        Year: '2008'
      }, {
        'Resulted in Death': 19,
        'Number of Overdoses': 100,
        state: 'Alaska',
        Year: '2010'
      }, {
        'Resulted in Death': 93,
        'Number of Overdoses': 400,
        state: 'Alaska',
        Year: '2012'
      }, {
        'Resulted in Death': 82,
        'Number of Overdoses': 400,
        state: 'Arizona',
        Year: '2010'
      }],
      filters: [],
      fontSize: null,
      overallFontSize: 'medium',
      dataColumn: 'Resulted in Death',
      dataFunction: 'Sum',
      dataConditionalColumn: '',
      dataConditionalOperator: null,
      dataConditionalComparate: '',
      customDenom: true,
      dataDenom: null,
      dataDenomColumn: 'Number of Overdoses',
      dataDenomFunction: 'Sum',
      prefix: '',
      suffix: '%',
      roundToPlace: 0,
      nodeWidth: 10,
      nodeSpacer: 2,
      theme: 'blue'
    }
  },
  render: args => <>\r
      <WaffleChart {...args} />\r
    </>
}`,...(ft=(ut=He.parameters)==null?void 0:ut.docs)==null?void 0:ft.source}}};const qi=["Primary"];export{He as Primary,qi as __namedExportsOrder,Wi as default};
//# sourceMappingURL=WaffleChart.stories-22c0f525.js.map
