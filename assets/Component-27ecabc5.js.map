{"version":3,"file":"Component-27ecabc5.js","sources":["../../packages/core/components/hoc/Component.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from 'react'\n\n// Third Party\nimport parse from 'html-react-parser'\nimport PropTypes from 'prop-types'\n\n// Store\nimport useStore from '../../store/store'\n\n// Hooks\nimport { useVisConfig } from '../../hooks/store/useVisConfig'\n\n// Components\nimport Icon from '../ui/Icon'\nimport Tooltip from '../ui/Tooltip'\n\n// Styles\nimport '../../styles/v2/components/component.scss'\n\nconst Component = ({ className, children, exampleConfig, ...attributes }) => {\n  // Store Selectors\n  let { config } = useVisConfig()\n  if (exampleConfig) config = exampleConfig // Allow for exampleConfig to override default config\n\n  const setDimensions = useStore(state => state.setDimensions)\n\n  // Observe changes to component container sizes for use with SVG renders\n  const outerContainerRef = useRef()\n\n  useEffect(() => {\n    if (outerContainerRef.current === typeof 'Element') {\n      const outerContainerObserver = new ResizeObserver((entries, observer) => {\n        for (let entry of entries) {\n          let { width, height } = entry.contentRect\n          setDimensions({ width, height })\n        }\n      })\n      outerContainerObserver.observe(outerContainerRef.current)\n    }\n    return () => {}\n  })\n\n  // Component Attributes\n  const customTitleAttrs = (!config.title || config.title === '') && { 'data-title': false }\n  const customBorderAttrs = config.componentStyle?.border !== 'default' && { 'data-border': config.componentStyle?.border }\n  const customShadowAttrs = !config.componentStyle?.shadow && { 'data-no-shadow': true }\n\n  const customAccentAttrs = () => {\n    if (config.componentStyle?.accent === 'none' || (config.componentStyle?.accent === 'top' && config.title)) return {}\n    return { 'data-accent': config.componentStyle?.accent }\n  }\n\n  const customComponentAttrs = {\n    ...attributes,\n    ...customTitleAttrs,\n    ...customBorderAttrs,\n    ...customShadowAttrs,\n    ...customAccentAttrs()\n  }\n\n  // Component Content Attributes\n  const customBgAttrs = config.componentStyle?.background !== 'default' && { 'data-bg': config.componentStyle?.background }\n\n  const customContentAttrs = {\n    ...customBgAttrs\n  }\n\n  const tooltip = (\n    <>\n      {config.tooltip && config.tooltip.content && config.tooltip.content !== '' && (\n        <>\n          <Tooltip place={config.tooltip.position || 'bottom'}>\n            <Tooltip.Target>\n              <Icon display='questionCircle' />\n            </Tooltip.Target>\n            <Tooltip.Content>{typeof config.tooltip.content === 'object' ? config.tooltip.content : typeof config.tooltip.content === 'string' && <p>{parse(config.tooltip.content)}</p>}</Tooltip.Content>\n          </Tooltip>\n        </>\n      )}\n    </>\n  )\n\n  const theme = useMemo(() => `cove-theme--${config.theme ?? 'blue'}`, [config.theme])\n\n  // Return Component\n  return (\n    <div className={'cove-component ' + theme + (className ? ' ' + className : '')} {...customComponentAttrs}>\n      <div className='cove-component__container'>\n        {config.title && (\n          <header className='cove-component__header' role='heading' aria-hidden='true' aria-level={2}>\n            {parse(config.title)}\n            {config.title.trim().length !== 0 && tooltip}\n          </header>\n        )}\n        <div className='cove-component__content' {...customContentAttrs}>\n          {(!config.title || config.title.trim().length === 0) && <div className='cove-component__content--tooltip'>{tooltip}</div>}\n          <div className='cove-component__wrapper' ref={outerContainerRef}>\n            {children}\n          </div>\n          {/*{config.description &&\n            <div className='cove-component__description'>{parse(config.description)}</div>\n          }*/}\n          {/*{config.tableShowIf && config.table}*/}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nComponent.propTypes = {\n  /** All content set between the \\<Component\\> tags */\n  children: PropTypes.any,\n  /** Additional classes to be appended to the component */\n  className: PropTypes.string,\n  config: PropTypes.shape({\n    theme: PropTypes.oneOf(['blue', 'purple', 'brown', 'teal', 'pink', 'orange', 'slate', 'indigo', 'cyan', 'green', 'amber']),\n    /** Set a custom title for the component; defaults to a `config.title` entry for the component config */\n    title: PropTypes.string,\n    description: PropTypes.string,\n    componentStyle: PropTypes.shape({\n      border: PropTypes.oneOf(['default', 'theme', 'none']),\n      background: PropTypes.oneOf(['default', 'theme', 'none']),\n      shadow: PropTypes.bool,\n      accent: PropTypes.oneOf(['none', 'top', 'right', 'bottom', 'left'])\n    })\n  })\n}\n\nexport default Component\n"],"names":["Component","className","children","exampleConfig","attributes","config","useVisConfig","setDimensions","useStore","state","outerContainerRef","useRef","useEffect","outerContainerObserver","entries","observer","entry","width","height","customTitleAttrs","customBorderAttrs","_a","_b","customShadowAttrs","_c","customAccentAttrs","customComponentAttrs","customBgAttrs","_d","_e","customContentAttrs","tooltip","jsx","Fragment","jsxs","Tooltip","Icon","theme","useMemo","parse","PropTypes"],"mappings":"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"}