import{M as ie,C as ce,S as de,A as le}from"./index-2f5af72e.js";import{j as f,a as E,F as se}from"./jsx-runtime-670450c2.js";import{r as s}from"./index-f1f749bf.js";import{h as ue}from"./index-e3f86ac2.js";import{p as A}from"./index-4d501b15.js";import{I as k}from"./Icon-e6436e69.js";import{T as N}from"./Tooltip-e87d4e0c.js";import{u as j}from"./index-4fb8b842.js";import"./iframe-82ea261c.js";import"../sb-preview/runtime.mjs";import"./index-6e91e324.js";import"./index-d475d2ea.js";import"./index-c46f0053.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-d37d4223.js";import"./index-356e4a49.js";function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?U(Object(t),!0).forEach(function(r){u(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function O(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function F(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,n,t){return n&&F(e.prototype,n),t&&F(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(){return v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v.apply(this,arguments)}function L(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&H(e,n)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(e)}function H(e,n){return H=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},H(e,n)}function pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fe(e,n){if(e==null)return{};var t={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(n.indexOf(o)>=0)&&(t[o]=e[o]);return t}function _(e,n){if(e==null)return{};var t=fe(e,n),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function h(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function Z(e){var n=pe();return function(){var r=w(e),o;if(n){var a=w(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return me(this,o)}}function he(e,n){return be(e)||xe(e,n)||q(e,n)||ye()}function ge(e){return ve(e)||Ee(e)||q(e)||Ae()}function ve(e){if(Array.isArray(e))return B(e)}function be(e){if(Array.isArray(e))return e}function Ee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xe(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],o=!0,a=!1,d,i;try{for(t=t.call(e);!(o=(d=t.next()).done)&&(r.push(d.value),!(n&&r.length===n));o=!0);}catch(l){a=!0,i=l}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw i}}return r}}function q(e,n){if(e){if(typeof e=="string")return B(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B(e,n)}}function B(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we=P(function e(n){var t=this,r=n.expanded,o=r===void 0?[]:r,a=n.allowMultipleExpanded,d=a===void 0?!1:a,i=n.allowZeroExpanded,l=i===void 0?!1:i;O(this,e),u(this,"expanded",void 0),u(this,"allowMultipleExpanded",void 0),u(this,"allowZeroExpanded",void 0),u(this,"toggleExpanded",function(c){if(t.isItemDisabled(c))return t;var p=t.isItemExpanded(c);return p?t.augment({expanded:t.expanded.filter(function(m){return m!==c})}):t.augment({expanded:t.allowMultipleExpanded?[].concat(ge(t.expanded),[c]):[c]})}),u(this,"isItemDisabled",function(c){var p=t.isItemExpanded(c),m=t.expanded.length===1;return Boolean(p&&!t.allowZeroExpanded&&m)}),u(this,"isItemExpanded",function(c){return t.expanded.indexOf(c)!==-1}),u(this,"getPanelAttributes",function(c,p){var m=p??t.isItemExpanded(c);return{role:t.allowMultipleExpanded?void 0:"region","aria-hidden":t.allowMultipleExpanded?!m:void 0,"aria-labelledby":t.getButtonId(c),id:t.getPanelId(c),hidden:m?void 0:!0}}),u(this,"getHeadingAttributes",function(){return{role:"heading"}}),u(this,"getButtonAttributes",function(c,p){var m=p??t.isItemExpanded(c),x=t.isItemDisabled(c);return{id:t.getButtonId(c),"aria-disabled":x,"aria-expanded":m,"aria-controls":t.getPanelId(c),role:"button",tabIndex:0}}),u(this,"getPanelId",function(c){return"accordion__panel-".concat(c)}),u(this,"getButtonId",function(c){return"accordion__heading-".concat(c)}),u(this,"augment",function(c){return new e(D({expanded:t.expanded,allowMultipleExpanded:t.allowMultipleExpanded,allowZeroExpanded:t.allowZeroExpanded},c))}),this.expanded=o,this.allowMultipleExpanded=d,this.allowZeroExpanded=l}),K=s.createContext(null),X=function(e){L(t,e);var n=Z(t);function t(){var r;O(this,t);for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return r=n.call.apply(n,[this].concat(a)),u(h(r),"state",new we({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),u(h(r),"toggleExpanded",function(i){r.setState(function(l){return l.toggleExpanded(i)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),u(h(r),"isItemDisabled",function(i){return r.state.isItemDisabled(i)}),u(h(r),"isItemExpanded",function(i){return r.state.isItemExpanded(i)}),u(h(r),"getPanelAttributes",function(i,l){return r.state.getPanelAttributes(i,l)}),u(h(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),u(h(r),"getButtonAttributes",function(i,l){return r.state.getButtonAttributes(i,l)}),r}return P(t,[{key:"render",value:function(){var o=this.state,a=o.allowZeroExpanded,d=o.allowMultipleExpanded;return s.createElement(K.Provider,{value:{allowMultipleExpanded:d,allowZeroExpanded:a,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),t}(s.PureComponent);u(X,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var z=function(e){L(t,e);var n=Z(t);function t(){var r;O(this,t);for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return r=n.call.apply(n,[this].concat(a)),u(h(r),"renderChildren",function(i){return i?r.props.children(i):null}),r}return P(t,[{key:"render",value:function(){return s.createElement(K.Consumer,null,this.renderChildren)}}]),t}(s.PureComponent),Ie=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],Oe=function(n){var t=n.className,r=t===void 0?"accordion":t,o=n.allowMultipleExpanded,a=n.allowZeroExpanded,d=n.onChange,i=n.preExpanded,l=_(n,Ie);return s.createElement(X,{preExpanded:i,allowMultipleExpanded:o,allowZeroExpanded:a,onChange:d},s.createElement("div",v({"data-accordion-component":"Accordion",className:r},l)))},R;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(R||(R={}));var G=R,M=0;function Pe(){var e=M;return M=M+1,"raa-".concat(e)}var _e=s.useId||Pe,Se=/[\u0009\u000a\u000c\u000d\u0020]/g;function y(e){return e===""||Se.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var J=s.createContext(null),Ce=function(n){var t=n.children,r=n.uuid,o=n.accordionContext,a=n.dangerouslySetExpanded,d=function(){o.toggleExpanded(r)},i=function(c){var p=a??c.isItemExpanded(r),m=c.isItemDisabled(r),x=c.getPanelAttributes(r,a),W=c.getHeadingAttributes(r),T=c.getButtonAttributes(r,a);return s.createElement(J.Provider,{value:{uuid:r,expanded:p,disabled:m,toggleExpanded:d,panelAttributes:x,headingAttributes:W,buttonAttributes:T}},t)};return s.createElement(z,null,i)},Te=function(n){return s.createElement(z,null,function(t){return s.createElement(Ce,v({},n,{accordionContext:t}))})},S=function(n){var t=n.children,r=function(a){return a?t(a):null};return s.createElement(J.Consumer,null,r)},Ne=["uuid","dangerouslySetExpanded","className","activeClassName"],Q=function(n){var t=n.uuid,r=n.dangerouslySetExpanded,o=n.className,a=o===void 0?"accordion__item":o,d=n.activeClassName,i=_(n,Ne),l=s.useState(_e()),c=he(l,1),p=c[0],m=t??p,x=function(T){var oe=T.expanded,ae=oe&&d?d:a;return s.createElement("div",v({"data-accordion-component":"AccordionItem",className:ae},i))};return y(m.toString()),i.id&&y(i.id),s.createElement(Te,{uuid:m,dangerouslySetExpanded:r},s.createElement(S,null,x))};Q.displayName=G.AccordionItem;function Y(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:Y(e.parentElement))}function C(e){var n=Y(e);return n&&Array.from(n.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Me(e){var n=C(e)||[],t=n[0];t&&t.focus()}function je(e){var n=C(e)||[],t=n[n.length-1];t&&t.focus()}function De(e){var n=C(e)||[],t=n.indexOf(e);if(t!==-1){var r=n[t+1];r&&r.focus()}}function He(e){var n=C(e)||[],t=n.indexOf(e);if(t!==-1){var r=n[t-1];r&&r.focus()}}var b={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},Be=["toggleExpanded","className"],Re=function(n){var t=n.toggleExpanded,r=n.className,o=r===void 0?"accordion__button":r,a=_(n,Be),d=function(l){var c=l.key;if((c===b.ENTER||c===b.SPACE||c===b.SPACE_DEPRECATED)&&(l.preventDefault(),t()),l.target instanceof HTMLElement)switch(c){case b.HOME:{l.preventDefault(),Me(l.target);break}case b.END:{l.preventDefault(),je(l.target);break}case b.LEFT:case b.UP:{l.preventDefault(),He(l.target);break}case b.RIGHT:case b.DOWN:{l.preventDefault(),De(l.target);break}}};return a.id&&y(a.id),s.createElement("div",v({className:o},a,{role:"button",tabIndex:0,onClick:t,onKeyDown:d,"data-accordion-component":"AccordionItemButton"}))},Le=function(n){return s.createElement(S,null,function(t){var r=t.toggleExpanded,o=t.buttonAttributes;return s.createElement(Re,v({toggleExpanded:r},n,o))})},Ze={className:"accordion__heading","aria-level":3},$e=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”

`,ee=function(e){L(t,e);var n=Z(t);function t(){var r;O(this,t);for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return r=n.call.apply(n,[this].concat(a)),u(h(r),"ref",void 0),u(h(r),"setRef",function(i){r.ref=i}),r}return P(t,[{key:"componentDidUpdate",value:function(){t.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){t.VALIDATE(this.ref)}},{key:"render",value:function(){return s.createElement("div",v({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(o){if(o===void 0)throw new Error("ref is undefined");if(!(o.childElementCount===1&&o.firstElementChild&&o.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error($e)}}]),t}(s.PureComponent);u(ee,"defaultProps",Ze);var te=function(n){return s.createElement(S,null,function(t){var r=t.headingAttributes;return n.id&&y(n.id),s.createElement(ee,v({},n,r))})};te.displayName=G.AccordionItemHeading;var We=["className","region","id"],ke=function(n){var t=n.className,r=t===void 0?"accordion__panel":t,o=n.region,a=n.id,d=_(n,We),i=function(c){var p=c.panelAttributes;a&&y(a);var m=D(D({},p),{},{"aria-labelledby":o?p["aria-labelledby"]:void 0});return s.createElement("div",v({"data-accordion-component":"AccordionItemPanel",className:r},d,m,{role:o?"region":void 0}))};return s.createElement(S,null,i)};const ne=()=>null,g=({children:e})=>{const[n,t]=s.useState(e);s.useMemo(()=>{t(e)},[e]);const o=s.Children.toArray(n).filter(i=>(i==null?void 0:i.type)===ne)||n,a=f(k,{className:"cove-icon--warning",display:"warningCircle",size:14}),d=i=>i===void 0||i===!0;return f(Oe,{allowZeroExpanded:!0,children:o&&o.map((i,l)=>E(Q,{className:"cove-accordion__item",style:d(i.props.showIf)?{}:{visibility:"hidden",display:"none"},children:[f(te,{className:"cove-accordion__heading",children:E(Le,{className:"cove-accordion__button",children:[E("span",{className:"cove-accordion__button--text",children:[i.props.label,i.props.warnIf?a:null]}),i.props.tooltip?E(N,{position:"bottom",children:[f(N.Target,{children:f(k,{display:"questionCircle",size:14})}),f(N.Content,{children:ue(i.props.tooltip)})]}):null]})}),f(ke,{className:"cove-accordion__panel",children:i.props.children})]},l))})};g.Section=ne;g.Section.displayName="Accordion.Section";g.propTypes={warnIf:A.any,label:A.string,tooltip:A.oneOfType([A.string,A.object])};g.__docgenInfo={description:"",methods:[{name:"Section",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"Accordion",props:{warnIf:{type:{name:"any"},required:!1,description:"Show warning if supplied statement or value is truthy"},label:{type:{name:"string"},required:!1,description:"Title for the accordion label"},tooltip:{type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1,description:"Tooltip for the accordion label; JSX markup can also be supplied"}}};const re=({...e})=>{const n=Object.assign({p:"p"},j());return g||V("Accordion",!1),g.Section||V("Accordion.Section",!0),E(g,{children:[E(g.Section,{...e,children:[f(n.p,{children:"An accordion is used to show (and hide) HTML content."}),f(n.p,{children:"Both the element that is used to open the accordion and the accordion's content can be any HTML element."})]}),E(g.Section,{...e,children:[f(n.p,{children:"An accordion is used to show (and hide) HTML content."}),f(n.p,{children:"Both the element that is used to open the accordion and the accordion's content can be any HTML element."})]})]})};function Ue(e={}){const{wrapper:n}=Object.assign({},j(),e.components);return n?f(n,{...e,children:f(t,{})}):t();function t(){const r=Object.assign({h1:"h1"},j(),e.components);return E(se,{children:[f(ie,{title:"Components/UI/Accordion",component:g}),`
`,f(r.h1,{children:"Accordion Component"}),`
`,f(ce,{sourceState:"shown",withSource:"open",children:f(de,{name:"Example",args:{label:"Collapsed Section Content",warnIf:!0,tooltip:"This is an <strong>example</strong> tooltip."},children:re.bind({})})}),`
`,f(le,{story:"Example"})]})}}function V(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}const $=re.bind({});$.storyName="Example";$.args={label:"Collapsed Section Content",warnIf:!0,tooltip:"This is an <strong>example</strong> tooltip."};$.parameters={storySource:{source:`({ ...args
}) => <Accordion>
    <Accordion.Section {...args}>
      <p>An accordion is used to show (and hide) HTML content.</p>
      <p>Both the element that is used to open the accordion and the accordion's content can be any HTML element.</p>
    </Accordion.Section>
    <Accordion.Section {...args}>
      <p>An accordion is used to show (and hide) HTML content.</p>
      <p>Both the element that is used to open the accordion and the accordion's content can be any HTML element.</p>
    </Accordion.Section>
  </Accordion>`}};const I={title:"Components/UI/Accordion",component:g,tags:["stories-mdx"],includeStories:["example"]};I.parameters=I.parameters||{};I.parameters.docs={...I.parameters.docs||{},page:Ue};const it=["Template","example"];export{re as Template,it as __namedExportsOrder,I as default,$ as example};
//# sourceMappingURL=Accordion.stories-5edc1934.js.map
