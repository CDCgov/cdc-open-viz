import{a as h,j as y}from"./jsx-runtime-68f49b4e.js";import{r as u}from"./index-f1f749bf.js";import{p as te}from"./index-286867b9.js";import{p as E}from"./index-4d501b15.js";import{I as $}from"./Icon-36492f7a.js";import{T as S}from"./Tooltip-135fcab5.js";function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?W(Object(t),!0).forEach(function(r){s(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function w(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function L(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,n,t){return n&&L(e.prototype,n),t&&L(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(){return g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},g.apply(this,arguments)}function R(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&j(e,n)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A(e)}function j(e,n){return j=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},j(e,n)}function ne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function re(e,n){if(e==null)return{};var t={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(t[a]=e[a]);return t}function P(e,n){if(e==null)return{};var t=re(e,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function m(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function B(e){var n=ne();return function(){var r=A(e),a;if(n){var o=A(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return ae(this,a)}}function oe(e,n){return de(e)||ue(e,n)||k(e,n)||pe()}function ie(e){return le(e)||ce(e)||k(e)||se()}function le(e){if(Array.isArray(e))return D(e)}function de(e){if(Array.isArray(e))return e}function ce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ue(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],a=!0,o=!1,l,d;try{for(t=t.call(e);!(a=(l=t.next()).done)&&(r.push(l.value),!(n&&r.length===n));a=!0);}catch(c){o=!0,d=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw d}}return r}}function k(e,n){if(e){if(typeof e=="string")return D(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,n)}}function D(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe=I(function e(n){var t=this,r=n.expanded,a=r===void 0?[]:r,o=n.allowMultipleExpanded,l=o===void 0?!1:o,d=n.allowZeroExpanded,c=d===void 0?!1:d;w(this,e),s(this,"expanded",void 0),s(this,"allowMultipleExpanded",void 0),s(this,"allowZeroExpanded",void 0),s(this,"toggleExpanded",function(i){if(t.isItemDisabled(i))return t;var p=t.isItemExpanded(i);return p?t.augment({expanded:t.expanded.filter(function(f){return f!==i})}):t.augment({expanded:t.allowMultipleExpanded?[].concat(ie(t.expanded),[i]):[i]})}),s(this,"isItemDisabled",function(i){var p=t.isItemExpanded(i),f=t.expanded.length===1;return Boolean(p&&!t.allowZeroExpanded&&f)}),s(this,"isItemExpanded",function(i){return t.expanded.indexOf(i)!==-1}),s(this,"getPanelAttributes",function(i,p){var f=p??t.isItemExpanded(i);return{role:t.allowMultipleExpanded?void 0:"region","aria-hidden":t.allowMultipleExpanded?!f:void 0,"aria-labelledby":t.getButtonId(i),id:t.getPanelId(i),hidden:f?void 0:!0}}),s(this,"getHeadingAttributes",function(){return{role:"heading"}}),s(this,"getButtonAttributes",function(i,p){var f=p??t.isItemExpanded(i),b=t.isItemDisabled(i);return{id:t.getButtonId(i),"aria-disabled":b,"aria-expanded":f,"aria-controls":t.getPanelId(i),role:"button",tabIndex:0}}),s(this,"getPanelId",function(i){return"accordion__panel-".concat(i)}),s(this,"getButtonId",function(i){return"accordion__heading-".concat(i)}),s(this,"augment",function(i){return new e(T({expanded:t.expanded,allowMultipleExpanded:t.allowMultipleExpanded,allowZeroExpanded:t.allowZeroExpanded},i))}),this.expanded=a,this.allowMultipleExpanded=l,this.allowZeroExpanded=c}),U=u.createContext(null),q=function(e){R(t,e);var n=B(t);function t(){var r;w(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n.call.apply(n,[this].concat(o)),s(m(r),"state",new fe({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),s(m(r),"toggleExpanded",function(d){r.setState(function(c){return c.toggleExpanded(d)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),s(m(r),"isItemDisabled",function(d){return r.state.isItemDisabled(d)}),s(m(r),"isItemExpanded",function(d){return r.state.isItemExpanded(d)}),s(m(r),"getPanelAttributes",function(d,c){return r.state.getPanelAttributes(d,c)}),s(m(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),s(m(r),"getButtonAttributes",function(d,c){return r.state.getButtonAttributes(d,c)}),r}return I(t,[{key:"render",value:function(){var a=this.state,o=a.allowZeroExpanded,l=a.allowMultipleExpanded;return u.createElement(U.Provider,{value:{allowMultipleExpanded:l,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),t}(u.PureComponent);s(q,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var V=function(e){R(t,e);var n=B(t);function t(){var r;w(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n.call.apply(n,[this].concat(o)),s(m(r),"renderChildren",function(d){return d?r.props.children(d):null}),r}return I(t,[{key:"render",value:function(){return u.createElement(U.Consumer,null,this.renderChildren)}}]),t}(u.PureComponent),me=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],ge=function(n){var t=n.className,r=t===void 0?"accordion":t,a=n.allowMultipleExpanded,o=n.allowZeroExpanded,l=n.onChange,d=n.preExpanded,c=P(n,me);return u.createElement(q,{preExpanded:d,allowMultipleExpanded:a,allowZeroExpanded:o,onChange:l},u.createElement("div",g({"data-accordion-component":"Accordion",className:r},c)))},M;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(M||(M={}));var F=M,N=0;function ve(){var e=N;return N=N+1,"raa-".concat(e)}var he=u.useId||ve,be=/[\u0009\u000a\u000c\u000d\u0020]/g;function x(e){return e===""||be.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var K=u.createContext(null),Ee=function(n){var t=n.children,r=n.uuid,a=n.accordionContext,o=n.dangerouslySetExpanded,l=function(){a.toggleExpanded(r)},d=function(i){var p=o??i.isItemExpanded(r),f=i.isItemDisabled(r),b=i.getPanelAttributes(r,o),Z=i.getHeadingAttributes(r),C=i.getButtonAttributes(r,o);return u.createElement(K.Provider,{value:{uuid:r,expanded:p,disabled:f,toggleExpanded:l,panelAttributes:b,headingAttributes:Z,buttonAttributes:C}},t)};return u.createElement(V,null,d)},xe=function(n){return u.createElement(V,null,function(t){return u.createElement(Ee,g({},n,{accordionContext:t}))})},O=function(n){var t=n.children,r=function(o){return o?t(o):null};return u.createElement(K.Consumer,null,r)},ye=["uuid","dangerouslySetExpanded","className","activeClassName"],z=function(n){var t=n.uuid,r=n.dangerouslySetExpanded,a=n.className,o=a===void 0?"accordion__item":a,l=n.activeClassName,d=P(n,ye),c=u.useState(he()),i=oe(c,1),p=i[0],f=t??p,b=function(C){var Y=C.expanded,ee=Y&&l?l:o;return u.createElement("div",g({"data-accordion-component":"AccordionItem",className:ee},d))};return x(f.toString()),d.id&&x(d.id),u.createElement(xe,{uuid:f,dangerouslySetExpanded:r},u.createElement(O,null,b))};z.displayName=F.AccordionItem;function G(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:G(e.parentElement))}function _(e){var n=G(e);return n&&Array.from(n.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Ae(e){var n=_(e)||[],t=n[0];t&&t.focus()}function we(e){var n=_(e)||[],t=n[n.length-1];t&&t.focus()}function Ie(e){var n=_(e)||[],t=n.indexOf(e);if(t!==-1){var r=n[t+1];r&&r.focus()}}function Pe(e){var n=_(e)||[],t=n.indexOf(e);if(t!==-1){var r=n[t-1];r&&r.focus()}}var v={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},Oe=["toggleExpanded","className"],_e=function(n){var t=n.toggleExpanded,r=n.className,a=r===void 0?"accordion__button":r,o=P(n,Oe),l=function(c){var i=c.key;if((i===v.ENTER||i===v.SPACE||i===v.SPACE_DEPRECATED)&&(c.preventDefault(),t()),c.target instanceof HTMLElement)switch(i){case v.HOME:{c.preventDefault(),Ae(c.target);break}case v.END:{c.preventDefault(),we(c.target);break}case v.LEFT:case v.UP:{c.preventDefault(),Pe(c.target);break}case v.RIGHT:case v.DOWN:{c.preventDefault(),Ie(c.target);break}}};return o.id&&x(o.id),u.createElement("div",g({className:a},o,{role:"button",tabIndex:0,onClick:t,onKeyDown:l,"data-accordion-component":"AccordionItemButton"}))},Ce=function(n){return u.createElement(O,null,function(t){var r=t.toggleExpanded,a=t.buttonAttributes;return u.createElement(_e,g({toggleExpanded:r},n,a))})},Se={className:"accordion__heading","aria-level":3},Ne=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”

`,J=function(e){R(t,e);var n=B(t);function t(){var r;w(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n.call.apply(n,[this].concat(o)),s(m(r),"ref",void 0),s(m(r),"setRef",function(d){r.ref=d}),r}return I(t,[{key:"componentDidUpdate",value:function(){t.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){t.VALIDATE(this.ref)}},{key:"render",value:function(){return u.createElement("div",g({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(a){if(a===void 0)throw new Error("ref is undefined");if(!(a.childElementCount===1&&a.firstElementChild&&a.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(Ne)}}]),t}(u.PureComponent);s(J,"defaultProps",Se);var X=function(n){return u.createElement(O,null,function(t){var r=t.headingAttributes;return n.id&&x(n.id),u.createElement(J,g({},n,r))})};X.displayName=F.AccordionItemHeading;var Te=["className","region","id"],je=function(n){var t=n.className,r=t===void 0?"accordion__panel":t,a=n.region,o=n.id,l=P(n,Te),d=function(i){var p=i.panelAttributes;o&&x(o);var f=T(T({},p),{},{"aria-labelledby":a?p["aria-labelledby"]:void 0});return u.createElement("div",g({"data-accordion-component":"AccordionItemPanel",className:r},l,f,{role:a?"region":void 0}))};return u.createElement(O,null,d)};const Q=()=>null,H=({children:e})=>{const t=u.Children.toArray(e).filter(a=>(a==null?void 0:a.type)===Q)||e,r=h($,{className:"cove-icon--warning",display:"warningCircle",size:14});return h(ge,{allowZeroExpanded:!0,children:t&&t.map((a,o)=>y(z,{className:"cove-accordion__item",children:[h(X,{className:"cove-accordion__heading",children:y(Ce,{className:"cove-accordion__button",children:[y("span",{className:"cove-accordion__button--text",children:[a.props.label,a.props.warnIf?r:null]}),a.props.tooltip?y(S,{position:"bottom",children:[h(S.Target,{children:h($,{display:"questionCircle",size:14})}),h(S.Content,{children:te(a.props.tooltip)})]}):null]})}),h(je,{className:"cove-accordion__panel",children:a.props.children})]},o))})};H.Section=Q;H.propTypes={warnIf:E.any,label:E.string,tooltip:E.oneOfType([E.string,E.object])};H.__docgenInfo={description:"",methods:[{name:"Section",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"Accordion",props:{warnIf:{type:{name:"any"},required:!1,description:"Show warning if supplied statement or value is truthy"},label:{type:{name:"string"},required:!1,description:"Title for the accordion label"},tooltip:{type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1,description:"Tooltip for the accordion label; JSX markup can also be supplied"}}};export{H as A};
//# sourceMappingURL=Accordion-b2b36620.js.map
