import{j as O,F as W,a as A}from"./jsx-runtime-68f49b4e.js";import{r as u}from"./index-f1f749bf.js";import{p as n}from"./index-4d501b15.js";import{u as D,g as N}from"./configStore-d2c2b356.js";import{L as M}from"./Label-305d00b9.js";/* empty css              */function P(t,e,s){var v=this,c=u.useRef(null),o=u.useRef(0),a=u.useRef(null),i=u.useRef([]),f=u.useRef(),p=u.useRef(),R=u.useRef(t),b=u.useRef(!0);R.current=t;var h=!e&&e!==0&&typeof window<"u";if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0,s=s||{};var S=!!s.leading,F="trailing"in s?!!s.trailing:!0,d="maxWait"in s,y=d?Math.max(+s.maxWait||0,e):null;u.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var T=u.useMemo(function(){var x=function(r){var l=i.current,g=f.current;return i.current=f.current=null,o.current=r,p.current=R.current.apply(g,l)},C=function(r,l){h&&cancelAnimationFrame(a.current),a.current=h?requestAnimationFrame(r):setTimeout(r,l)},I=function(r){if(!b.current)return!1;var l=r-c.current,g=r-o.current;return!c.current||l>=e||l<0||d&&g>=y},k=function(r){return a.current=null,F&&i.current?x(r):(i.current=f.current=null,p.current)},q=function(){var r=Date.now();if(I(r))return k(r);if(b.current){var l=r-c.current,g=r-o.current,E=e-l,j=d?Math.min(E,y-g):E;C(q,j)}},m=function(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];var g=Date.now(),E=I(g);if(i.current=r,f.current=v,c.current=g,E){if(!a.current&&b.current)return o.current=c.current,C(q,e),S?x(c.current):p.current;if(d)return C(q,e),x(c.current)}return a.current||C(q,e),p.current};return m.cancel=function(){a.current&&(h?cancelAnimationFrame(a.current):clearTimeout(a.current)),o.current=0,i.current=c.current=f.current=a.current=null},m.isPending=function(){return!!a.current},m.flush=function(){return a.current?k(Date.now()):p.current},m},[S,d,e,y,F,h]);return T}function B(t,e){return t===e}function L(t){return typeof t=="function"?function(){return t}:t}function _(t){var e=u.useState(L(t)),s=e[0],v=e[1],c=u.useCallback(function(o){return v(L(o))},[]);return[s,c]}function $(t,e,s){var v=s&&s.equalityFn||B,c=_(t),o=c[0],a=c[1],i=P(u.useCallback(function(p){return a(p)},[a]),e,s),f=u.useRef(t);return u.useEffect(function(){v(f.current,t)||(i(t),f.current=t)},[t,i,v]),[o,{cancel:i.cancel,isPending:i.isPending,flush:i.flush}]}const V=({label:t,type:e="text",tooltip:s,placeholder:v,test:c,configField:o,value:a,min:i,max:f,className:p,...R})=>{const{config:b,updateConfigField:h}=D(),[S,F]=u.useState(!1),[d,y]=u.useState(o?N(o,b)||"":a||""),[T]=$(d,300),x=u.useRef(null);u.useEffect(()=>{o&&((S||d===void 0)&&a!==T&&h(o,T),F(!0))},[T]);const C=m=>{let r=!1;return m===""&&(r=!0),i||f?(i&&parseFloat(m)>=parseFloat(i)&&(r=!0),f&&parseFloat(m)<=parseFloat(f)&&(r=!0)):r=!0,r},I=m=>{switch(e){case"number":C(m.target.value)?y(m.target.value):y(d);break;default:y(m.target.value)}};let k={className:`cove-input${e==="textarea"?" cove-input--textarea":""}${p?" "+p:""}`,type:e,placeholder:v,onChange:I,...R},q=e==="textarea"?A("textarea",{...k,ref:x,value:d}):A("input",{...k,value:d,ref:x});return O(W,{children:[t&&A(M,{tooltip:s,onClick:()=>x.current.focus(),children:t}),q]})};V.propTypes={label:n.string,type:n.oneOf(["text","textarea","number","date"]),value:n.oneOfType([n.string,n.number]),tooltip:n.oneOfType([n.object,n.string]),placeholder:n.string,min:n.oneOfType([n.number,n.string]),max:n.oneOfType([n.number,n.string]),section:n.string,subsection:n.string,fieldName:n.string,updateConfigField:n.func};V.__docgenInfo={description:"",methods:[],displayName:"InputText",props:{type:{defaultValue:{value:"'text'",computed:!1},type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'textarea'",computed:!1},{value:"'number'",computed:!1},{value:"'date'",computed:!1}]},required:!1,description:""},label:{type:{name:"string"},required:!1,description:""},value:{type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1,description:""},tooltip:{type:{name:"union",value:[{name:"object"},{name:"string"}]},required:!1,description:""},placeholder:{type:{name:"string"},required:!1,description:""},min:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},max:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},section:{type:{name:"string"},required:!1,description:""},subsection:{type:{name:"string"},required:!1,description:""},fieldName:{type:{name:"string"},required:!1,description:""},updateConfigField:{type:{name:"func"},required:!1,description:""}}};export{V as I};
//# sourceMappingURL=InputText-8e2c0970.js.map
