{"version":3,"file":"Overlay-5e2568bd.js","sources":["../../packages/core/components/ui/Overlay.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { createPortal } from 'react-dom'\n\n// Store\nimport { useGlobalStore } from '../../stores/globalStore'\n\n// Styles\nimport '../../styles/v2/components/ui/overlay.scss'\n\nconst Overlay = ({ anchor }) => {\n  // Access global modal state\n  let { overlay, toggleOverlay } = useGlobalStore()\n\n  let overlayAnchor = anchor === true ? anchor.current : document.body\n\n  // Set local states\n  const [ displayOverlay, setDisplayOverlay ] = useState(false)\n  const [ overlayAnimationState, setOverlayAnimationState ] = useState(null)\n  const [ overlayErrorState, setOverlayErrorState ] = useState(false)\n\n  // Animate In effect\n  useEffect(() => {\n    if (overlay?.show === undefined) return\n    if (overlay?.show === false) return //Reject\n\n    document.body.style.overflow = 'hidden'\n    setDisplayOverlay(true)\n    setOverlayAnimationState('animate-in')\n\n    const timeoutShow = setTimeout(() => {\n      setOverlayAnimationState('show')\n    }, 750)\n\n    return () => clearTimeout(timeoutShow)\n  }, [ overlay?.show ])\n\n  // Animate Out effect\n  useEffect(() => {\n    if (overlay?.show === undefined) return\n    if (overlay?.show === true) return //Reject\n\n    setOverlayAnimationState('animate-out')\n\n    const timeoutHide = setTimeout(() => {\n      setOverlayAnimationState(null)\n      setDisplayOverlay(false)\n      document.body.style.overflow = null\n    }, 400)\n\n    return () => clearTimeout(timeoutHide)\n  }, [ overlay?.show ])\n\n  // Animate Error effect\n  useEffect(() => {\n    if (overlayErrorState === false) return //Reject\n\n    const timeoutHide = setTimeout(() => {\n      setOverlayErrorState(false)\n    }, 400)\n\n    return () => clearTimeout(timeoutHide)\n  }, [ overlayErrorState ])\n\n  // Render Overlay\n  return createPortal(<>\n    {displayOverlay &&\n      <div\n        className={`cove cove-overlay${overlayAnimationState ? (' ' + overlayAnimationState) : ''}${overlayErrorState ? ' overlay-error' : ''}`}>\n        <div className=\"cove-overlay__bg\" style={{ cursor: overlay?.disableBgClose ? 'default' : null }}\n             onClick={(e) => overlay?.disableBgClose\n               ? setOverlayErrorState(true)\n               : overlay\n                 ? toggleOverlay(false)\n                 : e.preventDefault()\n             }\n             role=\"alert\"\n        />\n        <div className=\"cove-overlay__wrapper\">\n          <div className=\"cove-overlay__container\">\n            {overlay?.object}\n          </div>\n        </div>\n      </div>\n    }\n  </>, overlayAnchor)\n}\nexport default Overlay\n"],"names":["Overlay","anchor","overlay","toggleOverlay","useGlobalStore","overlayAnchor","displayOverlay","setDisplayOverlay","useState","overlayAnimationState","setOverlayAnimationState","overlayErrorState","setOverlayErrorState","useEffect","timeoutShow","timeoutHide","createPortal","jsxs","jsx","e"],"mappings":"qLASA,MAAMA,EAAU,CAAC,CAAE,OAAAC,KAAa,CAE9B,GAAI,CAAE,QAAAC,EAAS,cAAAC,CAAc,EAAIC,EAAe,EAE5CC,EAAgBJ,IAAW,GAAOA,EAAO,QAAU,SAAS,KAGhE,KAAM,CAAEK,EAAgBC,CAAkB,EAAIC,WAAS,EAAK,EACtD,CAAEC,EAAuBC,CAAyB,EAAIF,WAAS,IAAI,EACnE,CAAEG,EAAmBC,CAAqB,EAAIJ,WAAS,EAAK,EAGlEK,OAAAA,EAAAA,UAAU,IAAM,CAEd,IADIX,GAAA,YAAAA,EAAS,QAAS,SAClBA,GAAA,YAAAA,EAAS,QAAS,GAAO,OAEpB,SAAA,KAAK,MAAM,SAAW,SAC/BK,EAAkB,EAAI,EACtBG,EAAyB,YAAY,EAE/B,MAAAI,EAAc,WAAW,IAAM,CACnCJ,EAAyB,MAAM,GAC9B,GAAG,EAEC,MAAA,IAAM,aAAaI,CAAW,CAAA,EACpC,CAAEZ,GAAA,YAAAA,EAAS,IAAK,CAAC,EAGpBW,EAAAA,UAAU,IAAM,CAEd,IADIX,GAAA,YAAAA,EAAS,QAAS,SAClBA,GAAA,YAAAA,EAAS,QAAS,GAAM,OAE5BQ,EAAyB,aAAa,EAEhC,MAAAK,EAAc,WAAW,IAAM,CACnCL,EAAyB,IAAI,EAC7BH,EAAkB,EAAK,EACd,SAAA,KAAK,MAAM,SAAW,MAC9B,GAAG,EAEC,MAAA,IAAM,aAAaQ,CAAW,CAAA,EACpC,CAAEb,GAAA,YAAAA,EAAS,IAAK,CAAC,EAGpBW,EAAAA,UAAU,IAAM,CACd,GAAIF,IAAsB,GAAO,OAE3B,MAAAI,EAAc,WAAW,IAAM,CACnCH,EAAqB,EAAK,GACzB,GAAG,EAEC,MAAA,IAAM,aAAaG,CAAW,CAAA,EACpC,CAAEJ,CAAkB,CAAC,EAGjBK,EAAAA,kBACJ,SACCV,GAAAW,EAAC,MAAA,CACC,UAAW,oBAAoBR,EAAyB,IAAMA,EAAyB,KAAKE,EAAoB,iBAAmB,KACnI,SAAA,CAAAO,EAAC,MAAA,CAAI,UAAU,mBAAmB,MAAO,CAAE,OAAQhB,GAAA,MAAAA,EAAS,eAAiB,UAAY,IAAK,EACzF,QAAUiB,GAAMjB,GAAA,MAAAA,EAAS,eACrBU,EAAqB,EAAI,EACzBV,EACEC,EAAc,EAAK,EACnBgB,EAAE,eAAe,EAEvB,KAAK,OAAA,CACV,EACAD,EAAC,MAAI,CAAA,UAAU,wBACb,SAAAA,EAAC,OAAI,UAAU,0BACZ,SAAShB,GAAA,YAAAA,EAAA,MAAA,CACZ,CACF,CAAA,CAAA,CAAA,CAAA,CAGN,CAAA,EAAKG,CAAa,CACpB"}