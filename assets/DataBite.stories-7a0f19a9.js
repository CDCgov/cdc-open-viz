import{M as eu,C as tu,S as nu,A as ou}from"./index-a5c7af6f.js";import{a as G,j as h,F as or}from"./jsx-runtime-670450c2.js";import{r as vr}from"./index-f1f749bf.js";import{u as jr,V as iu}from"./useVisConfig-ed2d617d.js";import{C as lu}from"./Component-539a22b1.js";import{E as uu}from"./ErrorBoundary-d4835eb6.js";import{R as cu}from"./RenderFallback-55155a13.js";import{V as fu}from"./View-6c4b1f1d.js";import{h as ct}from"./Tooltip-2e67733b.js";import{u as su,C as Q}from"./store-4dc22f46.js";import{a as ft}from"./ColorPicker-7e2324e3.js";import{c as vu}from"./_commonjsHelpers-042e6b4d.js";import{A as xr}from"./Accordion-e4e11532.js";import{P as gu,a as du}from"./Panel.Component.Filters-dcd859a7.js";import{I as hu}from"./InputCheckbox-ed81a1d9.js";import{I as cr}from"./InputSelect-c989da31.js";import{I as Z}from"./InputText-4a90025a.js";import{S as bu}from"./SectionWrapper-7bea3889.js";import{B as st}from"./Button-f99151a1.js";import{L as pu}from"./Label-a6b7661b.js";import{S as mu}from"./SectionBlock-e9ce0bd2.js";import{u as vt}from"./index-4fb8b842.js";import"./iframe-9bfe7737.js";import"../sb-preview/runtime.mjs";import"./index-6e91e324.js";import"./index-d475d2ea.js";import"./index-c46f0053.js";import"./index-d37d4223.js";import"./index-356e4a49.js";import"./index-4d501b15.js";import"./Icon-84bbcad3.js";import"./LoadSpin-71c660ed.js";import"./SplashError-3dba32c8.js";import"./Overlay-ac400bb9.js";/* empty css             */import"./InputToggle-9134993b.js";/* empty css              */const yu={title:"",theme:"blue",subtext:"",type:"data-bite",biteStyle:"graphic",bitePosition:"left",biteFontSize:24,fontSize:"medium",biteBody:"",tooltip:"",data:[],dataBite:"",dataFunction:"",dataColumn:"",filters:[],imageData:{display:"none",url:"",alt:"",options:[]},dataFormat:{roundToPlace:1,commas:!0,prefix:"",suffix:"%"},general:{isCompactStyle:!1},missingRequiredSections:!1},bt="Max",pt="Count",mt="Mean (Average)",yt="Median",_t="Min",wt="Mode",Ta="Range",kt="Sum",_u=[pt,bt,mt,yt,_t,wt,Ta,kt],wu={graphic:"Graphic",title:"Value above Message",body:"Value before Message"},gt={left:"Left",right:"Right",top:"Top",bottom:"Bottom"},ku="<",$u=">",Nu="<=",Fu=">=",Au="=",Cu="â‰ ",dt=[ku,$u,Nu,Fu,Au,Cu];var Da={},Tu={get exports(){return Da},set exports(f){Da=f}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(f,x){(function(X,I){f.exports=I()})(vu,function(){for(var X=function(r,a,e){return a===void 0&&(a=0),e===void 0&&(e=1),r<a?a:r>e?e:r},I=X,rr=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var a=0;a<=3;a++)a<3?((r[a]<0||r[a]>255)&&(r._clipped=!0),r[a]=I(r[a],0,255)):a===3&&(r[a]=I(r[a],0,1));return r},U={},er=0,S=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];er<S.length;er+=1){var w=S[er];U["[object "+w+"]"]=w.toLowerCase()}var F=function(r){return U[Object.prototype.toString.call(r)]||"object"},J=F,tr=function(r,a){return a===void 0&&(a=null),r.length>=3?Array.prototype.slice.call(r):J(r[0])=="object"&&a?a.split("").filter(function(e){return r[0][e]!==void 0}).map(function(e){return r[0][e]}):r[0]},nr=F,B=function(r){if(r.length<2)return null;var a=r.length-1;return nr(r[a])=="string"?r[a].toLowerCase():null},E=Math.PI,s={clip_rgb:rr,limit:X,type:F,unpack:tr,last:B,PI:E,TWOPI:E*2,PITHIRD:E/3,DEG2RAD:E/180,RAD2DEG:180/E},C={format:{},autodetect:[]},Rr=s.last,Lr=s.clip_rgb,Sr=s.type,pr=C,xa=function(){for(var a=[],e=arguments.length;e--;)a[e]=arguments[e];var t=this;if(Sr(a[0])==="object"&&a[0].constructor&&a[0].constructor===this.constructor)return a[0];var o=Rr(a),i=!1;if(!o){i=!0,pr.sorted||(pr.autodetect=pr.autodetect.sort(function(v,b){return b.p-v.p}),pr.sorted=!0);for(var n=0,l=pr.autodetect;n<l.length;n+=1){var u=l[n];if(o=u.test.apply(u,a),o)break}}if(pr.format[o]){var c=pr.format[o].apply(null,i?a:a.slice(0,-1));t._rgb=Lr(c)}else throw new Error("unknown format: "+a);t._rgb.length===3&&t._rgb.push(1)};xa.prototype.toString=function(){return Sr(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var _=xa,Or=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(Or.Color,[null].concat(r)))};Or.Color=_,Or.version="2.4.2";var q=Or,Mt=s.unpack,Sa=Math.max,xt=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=Mt(r,"rgb"),t=e[0],o=e[1],i=e[2];t=t/255,o=o/255,i=i/255;var n=1-Sa(t,Sa(o,i)),l=n<1?1/(1-n):0,u=(1-t-n)*l,c=(1-o-n)*l,v=(1-i-n)*l;return[u,c,v,n]},St=xt,Et=s.unpack,Pt=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];r=Et(r,"cmyk");var e=r[0],t=r[1],o=r[2],i=r[3],n=r.length>4?r[4]:1;return i===1?[0,0,0,n]:[e>=1?0:255*(1-e)*(1-i),t>=1?0:255*(1-t)*(1-i),o>=1?0:255*(1-o)*(1-i),n]},It=Pt,Rt=q,Ea=_,Pa=C,Lt=s.unpack,Ot=s.type,zt=St;Ea.prototype.cmyk=function(){return zt(this._rgb)},Rt.cmyk=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(Ea,[null].concat(r,["cmyk"])))},Pa.format.cmyk=It,Pa.autodetect.push({p:2,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r=Lt(r,"cmyk"),Ot(r)==="array"&&r.length===4)return"cmyk"}});var Gt=s.unpack,Bt=s.last,Jr=function(r){return Math.round(r*100)/100},qt=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=Gt(r,"hsla"),t=Bt(r)||"lsa";return e[0]=Jr(e[0]||0),e[1]=Jr(e[1]*100)+"%",e[2]=Jr(e[2]*100)+"%",t==="hsla"||e.length>3&&e[3]<1?(e[3]=e.length>3?e[3]:1,t="hsla"):e.length=3,t+"("+e.join(",")+")"},Vt=qt,Ut=s.unpack,Yt=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];r=Ut(r,"rgba");var e=r[0],t=r[1],o=r[2];e/=255,t/=255,o/=255;var i=Math.min(e,t,o),n=Math.max(e,t,o),l=(n+i)/2,u,c;return n===i?(u=0,c=Number.NaN):u=l<.5?(n-i)/(n+i):(n-i)/(2-n-i),e==n?c=(t-o)/(n-i):t==n?c=2+(o-e)/(n-i):o==n&&(c=4+(e-t)/(n-i)),c*=60,c<0&&(c+=360),r.length>3&&r[3]!==void 0?[c,u,l,r[3]]:[c,u,l]},Ia=Yt,Ht=s.unpack,Xt=s.last,Wt=Vt,jt=Ia,Kr=Math.round,Qt=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=Ht(r,"rgba"),t=Xt(r)||"rgb";return t.substr(0,3)=="hsl"?Wt(jt(e),t):(e[0]=Kr(e[0]),e[1]=Kr(e[1]),e[2]=Kr(e[2]),(t==="rgba"||e.length>3&&e[3]<1)&&(e[3]=e.length>3?e[3]:1,t="rgba"),t+"("+e.slice(0,t==="rgb"?3:4).join(",")+")")},Zt=Qt,Jt=s.unpack,ra=Math.round,Kt=function(){for(var r,a=[],e=arguments.length;e--;)a[e]=arguments[e];a=Jt(a,"hsl");var t=a[0],o=a[1],i=a[2],n,l,u;if(o===0)n=l=u=i*255;else{var c=[0,0,0],v=[0,0,0],b=i<.5?i*(1+o):i+o-i*o,g=2*i-b,m=t/360;c[0]=m+1/3,c[1]=m,c[2]=m-1/3;for(var p=0;p<3;p++)c[p]<0&&(c[p]+=1),c[p]>1&&(c[p]-=1),6*c[p]<1?v[p]=g+(b-g)*6*c[p]:2*c[p]<1?v[p]=b:3*c[p]<2?v[p]=g+(b-g)*(2/3-c[p])*6:v[p]=g;r=[ra(v[0]*255),ra(v[1]*255),ra(v[2]*255)],n=r[0],l=r[1],u=r[2]}return a.length>3?[n,l,u,a[3]]:[n,l,u,1]},Ra=Kt,La=Ra,Oa=C,za=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ga=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Ba=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,qa=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Va=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ua=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ya=Math.round,Ha=function(r){r=r.toLowerCase().trim();var a;if(Oa.format.named)try{return Oa.format.named(r)}catch{}if(a=r.match(za)){for(var e=a.slice(1,4),t=0;t<3;t++)e[t]=+e[t];return e[3]=1,e}if(a=r.match(Ga)){for(var o=a.slice(1,5),i=0;i<4;i++)o[i]=+o[i];return o}if(a=r.match(Ba)){for(var n=a.slice(1,4),l=0;l<3;l++)n[l]=Ya(n[l]*2.55);return n[3]=1,n}if(a=r.match(qa)){for(var u=a.slice(1,5),c=0;c<3;c++)u[c]=Ya(u[c]*2.55);return u[3]=+u[3],u}if(a=r.match(Va)){var v=a.slice(1,4);v[1]*=.01,v[2]*=.01;var b=La(v);return b[3]=1,b}if(a=r.match(Ua)){var g=a.slice(1,4);g[1]*=.01,g[2]*=.01;var m=La(g);return m[3]=+a[4],m}};Ha.test=function(r){return za.test(r)||Ga.test(r)||Ba.test(r)||qa.test(r)||Va.test(r)||Ua.test(r)};var rn=Ha,an=q,Xa=_,Wa=C,en=s.type,tn=Zt,ja=rn;Xa.prototype.css=function(r){return tn(this._rgb,r)},an.css=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(Xa,[null].concat(r,["css"])))},Wa.format.css=ja,Wa.autodetect.push({p:5,test:function(r){for(var a=[],e=arguments.length-1;e-- >0;)a[e]=arguments[e+1];if(!a.length&&en(r)==="string"&&ja.test(r))return"css"}});var Qa=_,nn=q,on=C,ln=s.unpack;on.format.gl=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=ln(r,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e},nn.gl=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(Qa,[null].concat(r,["gl"])))},Qa.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var un=s.unpack,cn=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=un(r,"rgb"),t=e[0],o=e[1],i=e[2],n=Math.min(t,o,i),l=Math.max(t,o,i),u=l-n,c=u*100/255,v=n/(255-u)*100,b;return u===0?b=Number.NaN:(t===l&&(b=(o-i)/u),o===l&&(b=2+(i-t)/u),i===l&&(b=4+(t-o)/u),b*=60,b<0&&(b+=360)),[b,c,v]},fn=cn,sn=s.unpack,vn=Math.floor,gn=function(){for(var r,a,e,t,o,i,n=[],l=arguments.length;l--;)n[l]=arguments[l];n=sn(n,"hcg");var u=n[0],c=n[1],v=n[2],b,g,m;v=v*255;var p=c*255;if(c===0)b=g=m=v;else{u===360&&(u=0),u>360&&(u-=360),u<0&&(u+=360),u/=60;var k=vn(u),A=u-k,D=v*(1-c),P=D+p*(1-A),W=D+p*A,H=D+p;switch(k){case 0:r=[H,W,D],b=r[0],g=r[1],m=r[2];break;case 1:a=[P,H,D],b=a[0],g=a[1],m=a[2];break;case 2:e=[D,H,W],b=e[0],g=e[1],m=e[2];break;case 3:t=[D,P,H],b=t[0],g=t[1],m=t[2];break;case 4:o=[W,D,H],b=o[0],g=o[1],m=o[2];break;case 5:i=[H,D,P],b=i[0],g=i[1],m=i[2];break}}return[b,g,m,n.length>3?n[3]:1]},dn=gn,hn=s.unpack,bn=s.type,pn=q,Za=_,Ja=C,mn=fn;Za.prototype.hcg=function(){return mn(this._rgb)},pn.hcg=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(Za,[null].concat(r,["hcg"])))},Ja.format.hcg=dn,Ja.autodetect.push({p:1,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r=hn(r,"hcg"),bn(r)==="array"&&r.length===3)return"hcg"}});var yn=s.unpack,_n=s.last,zr=Math.round,wn=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=yn(r,"rgba"),t=e[0],o=e[1],i=e[2],n=e[3],l=_n(r)||"auto";n===void 0&&(n=1),l==="auto"&&(l=n<1?"rgba":"rgb"),t=zr(t),o=zr(o),i=zr(i);var u=t<<16|o<<8|i,c="000000"+u.toString(16);c=c.substr(c.length-6);var v="0"+zr(n*255).toString(16);switch(v=v.substr(v.length-2),l.toLowerCase()){case"rgba":return"#"+c+v;case"argb":return"#"+v+c;default:return"#"+c}},Ka=wn,kn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,$n=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Nn=function(r){if(r.match(kn)){(r.length===4||r.length===7)&&(r=r.substr(1)),r.length===3&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var a=parseInt(r,16),e=a>>16,t=a>>8&255,o=a&255;return[e,t,o,1]}if(r.match($n)){(r.length===5||r.length===9)&&(r=r.substr(1)),r.length===4&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var i=parseInt(r,16),n=i>>24&255,l=i>>16&255,u=i>>8&255,c=Math.round((i&255)/255*100)/100;return[n,l,u,c]}throw new Error("unknown hex color: "+r)},re=Nn,Fn=q,ae=_,An=s.type,ee=C,Cn=Ka;ae.prototype.hex=function(r){return Cn(this._rgb,r)},Fn.hex=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(ae,[null].concat(r,["hex"])))},ee.format.hex=re,ee.autodetect.push({p:4,test:function(r){for(var a=[],e=arguments.length-1;e-- >0;)a[e]=arguments[e+1];if(!a.length&&An(r)==="string"&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var Tn=s.unpack,te=s.TWOPI,Dn=Math.min,Mn=Math.sqrt,xn=Math.acos,Sn=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=Tn(r,"rgb"),t=e[0],o=e[1],i=e[2];t/=255,o/=255,i/=255;var n,l=Dn(t,o,i),u=(t+o+i)/3,c=u>0?1-l/u:0;return c===0?n=NaN:(n=(t-o+(t-i))/2,n/=Mn((t-o)*(t-o)+(t-i)*(o-i)),n=xn(n),i>o&&(n=te-n),n/=te),[n*360,c,u]},En=Sn,Pn=s.unpack,aa=s.limit,wr=s.TWOPI,ea=s.PITHIRD,kr=Math.cos,In=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];r=Pn(r,"hsi");var e=r[0],t=r[1],o=r[2],i,n,l;return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(l=(1-t)/3,i=(1+t*kr(wr*e)/kr(ea-wr*e))/3,n=1-(l+i)):e<2/3?(e-=1/3,i=(1-t)/3,n=(1+t*kr(wr*e)/kr(ea-wr*e))/3,l=1-(i+n)):(e-=2/3,n=(1-t)/3,l=(1+t*kr(wr*e)/kr(ea-wr*e))/3,i=1-(n+l)),i=aa(o*i*3),n=aa(o*n*3),l=aa(o*l*3),[i*255,n*255,l*255,r.length>3?r[3]:1]},Rn=In,Ln=s.unpack,On=s.type,zn=q,ne=_,oe=C,Gn=En;ne.prototype.hsi=function(){return Gn(this._rgb)},zn.hsi=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(ne,[null].concat(r,["hsi"])))},oe.format.hsi=Rn,oe.autodetect.push({p:2,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r=Ln(r,"hsi"),On(r)==="array"&&r.length===3)return"hsi"}});var Bn=s.unpack,qn=s.type,Vn=q,ie=_,le=C,Un=Ia;ie.prototype.hsl=function(){return Un(this._rgb)},Vn.hsl=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(ie,[null].concat(r,["hsl"])))},le.format.hsl=Ra,le.autodetect.push({p:2,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r=Bn(r,"hsl"),qn(r)==="array"&&r.length===3)return"hsl"}});var Yn=s.unpack,Hn=Math.min,Xn=Math.max,Wn=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];r=Yn(r,"rgb");var e=r[0],t=r[1],o=r[2],i=Hn(e,t,o),n=Xn(e,t,o),l=n-i,u,c,v;return v=n/255,n===0?(u=Number.NaN,c=0):(c=l/n,e===n&&(u=(t-o)/l),t===n&&(u=2+(o-e)/l),o===n&&(u=4+(e-t)/l),u*=60,u<0&&(u+=360)),[u,c,v]},jn=Wn,Qn=s.unpack,Zn=Math.floor,Jn=function(){for(var r,a,e,t,o,i,n=[],l=arguments.length;l--;)n[l]=arguments[l];n=Qn(n,"hsv");var u=n[0],c=n[1],v=n[2],b,g,m;if(v*=255,c===0)b=g=m=v;else{u===360&&(u=0),u>360&&(u-=360),u<0&&(u+=360),u/=60;var p=Zn(u),k=u-p,A=v*(1-c),D=v*(1-c*k),P=v*(1-c*(1-k));switch(p){case 0:r=[v,P,A],b=r[0],g=r[1],m=r[2];break;case 1:a=[D,v,A],b=a[0],g=a[1],m=a[2];break;case 2:e=[A,v,P],b=e[0],g=e[1],m=e[2];break;case 3:t=[A,D,v],b=t[0],g=t[1],m=t[2];break;case 4:o=[P,A,v],b=o[0],g=o[1],m=o[2];break;case 5:i=[v,A,D],b=i[0],g=i[1],m=i[2];break}}return[b,g,m,n.length>3?n[3]:1]},Kn=Jn,ro=s.unpack,ao=s.type,eo=q,ue=_,ce=C,to=jn;ue.prototype.hsv=function(){return to(this._rgb)},eo.hsv=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(ue,[null].concat(r,["hsv"])))},ce.format.hsv=Kn,ce.autodetect.push({p:2,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r=ro(r,"hsv"),ao(r)==="array"&&r.length===3)return"hsv"}});var Gr={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},$r=Gr,no=s.unpack,fe=Math.pow,oo=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=no(r,"rgb"),t=e[0],o=e[1],i=e[2],n=io(t,o,i),l=n[0],u=n[1],c=n[2],v=116*u-16;return[v<0?0:v,500*(l-u),200*(u-c)]},ta=function(r){return(r/=255)<=.04045?r/12.92:fe((r+.055)/1.055,2.4)},na=function(r){return r>$r.t3?fe(r,1/3):r/$r.t2+$r.t0},io=function(r,a,e){r=ta(r),a=ta(a),e=ta(e);var t=na((.4124564*r+.3575761*a+.1804375*e)/$r.Xn),o=na((.2126729*r+.7151522*a+.072175*e)/$r.Yn),i=na((.0193339*r+.119192*a+.9503041*e)/$r.Zn);return[t,o,i]},se=oo,Nr=Gr,lo=s.unpack,uo=Math.pow,co=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];r=lo(r,"lab");var e=r[0],t=r[1],o=r[2],i,n,l,u,c,v;return n=(e+16)/116,i=isNaN(t)?n:n+t/500,l=isNaN(o)?n:n-o/200,n=Nr.Yn*ia(n),i=Nr.Xn*ia(i),l=Nr.Zn*ia(l),u=oa(3.2404542*i-1.5371385*n-.4985314*l),c=oa(-.969266*i+1.8760108*n+.041556*l),v=oa(.0556434*i-.2040259*n+1.0572252*l),[u,c,v,r.length>3?r[3]:1]},oa=function(r){return 255*(r<=.00304?12.92*r:1.055*uo(r,1/2.4)-.055)},ia=function(r){return r>Nr.t1?r*r*r:Nr.t2*(r-Nr.t0)},ve=co,fo=s.unpack,so=s.type,vo=q,ge=_,de=C,go=se;ge.prototype.lab=function(){return go(this._rgb)},vo.lab=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(ge,[null].concat(r,["lab"])))},de.format.lab=ve,de.autodetect.push({p:2,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r=fo(r,"lab"),so(r)==="array"&&r.length===3)return"lab"}});var ho=s.unpack,bo=s.RAD2DEG,po=Math.sqrt,mo=Math.atan2,yo=Math.round,_o=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=ho(r,"lab"),t=e[0],o=e[1],i=e[2],n=po(o*o+i*i),l=(mo(i,o)*bo+360)%360;return yo(n*1e4)===0&&(l=Number.NaN),[t,n,l]},he=_o,wo=s.unpack,ko=se,$o=he,No=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=wo(r,"rgb"),t=e[0],o=e[1],i=e[2],n=ko(t,o,i),l=n[0],u=n[1],c=n[2];return $o(l,u,c)},Fo=No,Ao=s.unpack,Co=s.DEG2RAD,To=Math.sin,Do=Math.cos,Mo=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=Ao(r,"lch"),t=e[0],o=e[1],i=e[2];return isNaN(i)&&(i=0),i=i*Co,[t,Do(i)*o,To(i)*o]},be=Mo,xo=s.unpack,So=be,Eo=ve,Po=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];r=xo(r,"lch");var e=r[0],t=r[1],o=r[2],i=So(e,t,o),n=i[0],l=i[1],u=i[2],c=Eo(n,l,u),v=c[0],b=c[1],g=c[2];return[v,b,g,r.length>3?r[3]:1]},pe=Po,Io=s.unpack,Ro=pe,Lo=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=Io(r,"hcl").reverse();return Ro.apply(void 0,e)},Oo=Lo,zo=s.unpack,Go=s.type,me=q,Br=_,la=C,ye=Fo;Br.prototype.lch=function(){return ye(this._rgb)},Br.prototype.hcl=function(){return ye(this._rgb).reverse()},me.lch=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(Br,[null].concat(r,["lch"])))},me.hcl=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(Br,[null].concat(r,["hcl"])))},la.format.lch=pe,la.format.hcl=Oo,["lch","hcl"].forEach(function(r){return la.autodetect.push({p:2,test:function(){for(var a=[],e=arguments.length;e--;)a[e]=arguments[e];if(a=zo(a,r),Go(a)==="array"&&a.length===3)return r}})});var Bo={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_e=Bo,qo=_,we=C,Vo=s.type,Er=_e,Uo=re,Yo=Ka;qo.prototype.name=function(){for(var r=Yo(this._rgb,"rgb"),a=0,e=Object.keys(Er);a<e.length;a+=1){var t=e[a];if(Er[t]===r)return t.toLowerCase()}return r},we.format.named=function(r){if(r=r.toLowerCase(),Er[r])return Uo(Er[r]);throw new Error("unknown color name: "+r)},we.autodetect.push({p:5,test:function(r){for(var a=[],e=arguments.length-1;e-- >0;)a[e]=arguments[e+1];if(!a.length&&Vo(r)==="string"&&Er[r.toLowerCase()])return"named"}});var Ho=s.unpack,Xo=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=Ho(r,"rgb"),t=e[0],o=e[1],i=e[2];return(t<<16)+(o<<8)+i},Wo=Xo,jo=s.type,Qo=function(r){if(jo(r)=="number"&&r>=0&&r<=16777215){var a=r>>16,e=r>>8&255,t=r&255;return[a,e,t,1]}throw new Error("unknown num color: "+r)},Zo=Qo,Jo=q,ke=_,$e=C,Ko=s.type,ri=Wo;ke.prototype.num=function(){return ri(this._rgb)},Jo.num=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(ke,[null].concat(r,["num"])))},$e.format.num=Zo,$e.autodetect.push({p:5,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r.length===1&&Ko(r[0])==="number"&&r[0]>=0&&r[0]<=16777215)return"num"}});var ai=q,ua=_,Ne=C,Fe=s.unpack,Ae=s.type,Ce=Math.round;ua.prototype.rgb=function(r){return r===void 0&&(r=!0),r===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ce)},ua.prototype.rgba=function(r){return r===void 0&&(r=!0),this._rgb.slice(0,4).map(function(a,e){return e<3?r===!1?a:Ce(a):a})},ai.rgb=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(ua,[null].concat(r,["rgb"])))},Ne.format.rgb=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=Fe(r,"rgba");return e[3]===void 0&&(e[3]=1),e},Ne.autodetect.push({p:3,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r=Fe(r,"rgba"),Ae(r)==="array"&&(r.length===3||r.length===4&&Ae(r[3])=="number"&&r[3]>=0&&r[3]<=1))return"rgb"}});var qr=Math.log,ei=function(r){var a=r/100,e,t,o;return a<66?(e=255,t=a<6?0:-155.25485562709179-.44596950469579133*(t=a-2)+104.49216199393888*qr(t),o=a<20?0:-254.76935184120902+.8274096064007395*(o=a-10)+115.67994401066147*qr(o)):(e=351.97690566805693+.114206453784165*(e=a-55)-40.25366309332127*qr(e),t=325.4494125711974+.07943456536662342*(t=a-50)-28.0852963507957*qr(t),o=255),[e,t,o,1]},Te=ei,ti=Te,ni=s.unpack,oi=Math.round,ii=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];for(var e=ni(r,"rgb"),t=e[0],o=e[2],i=1e3,n=4e4,l=.4,u;n-i>l;){u=(n+i)*.5;var c=ti(u);c[2]/c[0]>=o/t?n=u:i=u}return oi(u)},li=ii,ca=q,Vr=_,fa=C,ui=li;Vr.prototype.temp=Vr.prototype.kelvin=Vr.prototype.temperature=function(){return ui(this._rgb)},ca.temp=ca.kelvin=ca.temperature=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(Vr,[null].concat(r,["temp"])))},fa.format.temp=fa.format.kelvin=fa.format.temperature=Te;var ci=s.unpack,sa=Math.cbrt,fi=Math.pow,si=Math.sign,vi=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=ci(r,"rgb"),t=e[0],o=e[1],i=e[2],n=[va(t/255),va(o/255),va(i/255)],l=n[0],u=n[1],c=n[2],v=sa(.4122214708*l+.5363325363*u+.0514459929*c),b=sa(.2119034982*l+.6806995451*u+.1073969566*c),g=sa(.0883024619*l+.2817188376*u+.6299787005*c);return[.2104542553*v+.793617785*b-.0040720468*g,1.9779984951*v-2.428592205*b+.4505937099*g,.0259040371*v+.7827717662*b-.808675766*g]},De=vi;function va(r){var a=Math.abs(r);return a<.04045?r/12.92:(si(r)||1)*fi((a+.055)/1.055,2.4)}var gi=s.unpack,Ur=Math.pow,di=Math.sign,hi=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];r=gi(r,"lab");var e=r[0],t=r[1],o=r[2],i=Ur(e+.3963377774*t+.2158037573*o,3),n=Ur(e-.1055613458*t-.0638541728*o,3),l=Ur(e-.0894841775*t-1.291485548*o,3);return[255*ga(4.0767416621*i-3.3077115913*n+.2309699292*l),255*ga(-1.2684380046*i+2.6097574011*n-.3413193965*l),255*ga(-.0041960863*i-.7034186147*n+1.707614701*l),r.length>3?r[3]:1]},Me=hi;function ga(r){var a=Math.abs(r);return a>.0031308?(di(r)||1)*(1.055*Ur(a,1/2.4)-.055):r*12.92}var bi=s.unpack,pi=s.type,mi=q,xe=_,Se=C,yi=De;xe.prototype.oklab=function(){return yi(this._rgb)},mi.oklab=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(xe,[null].concat(r,["oklab"])))},Se.format.oklab=Me,Se.autodetect.push({p:3,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r=bi(r,"oklab"),pi(r)==="array"&&r.length===3)return"oklab"}});var _i=s.unpack,wi=De,ki=he,$i=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var e=_i(r,"rgb"),t=e[0],o=e[1],i=e[2],n=wi(t,o,i),l=n[0],u=n[1],c=n[2];return ki(l,u,c)},Ni=$i,Fi=s.unpack,Ai=be,Ci=Me,Ti=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];r=Fi(r,"lch");var e=r[0],t=r[1],o=r[2],i=Ai(e,t,o),n=i[0],l=i[1],u=i[2],c=Ci(n,l,u),v=c[0],b=c[1],g=c[2];return[v,b,g,r.length>3?r[3]:1]},Di=Ti,Mi=s.unpack,xi=s.type,Si=q,Ee=_,Pe=C,Ei=Ni;Ee.prototype.oklch=function(){return Ei(this._rgb)},Si.oklch=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return new(Function.prototype.bind.apply(Ee,[null].concat(r,["oklch"])))},Pe.format.oklch=Di,Pe.autodetect.push({p:3,test:function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r=Mi(r,"oklch"),xi(r)==="array"&&r.length===3)return"oklch"}});var Ie=_,Pi=s.type;Ie.prototype.alpha=function(r,a){return a===void 0&&(a=!1),r!==void 0&&Pi(r)==="number"?a?(this._rgb[3]=r,this):new Ie([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]};var Ii=_;Ii.prototype.clipped=function(){return this._rgb._clipped||!1};var mr=_,Ri=Gr;mr.prototype.darken=function(r){r===void 0&&(r=1);var a=this,e=a.lab();return e[0]-=Ri.Kn*r,new mr(e,"lab").alpha(a.alpha(),!0)},mr.prototype.brighten=function(r){return r===void 0&&(r=1),this.darken(-r)},mr.prototype.darker=mr.prototype.darken,mr.prototype.brighter=mr.prototype.brighten;var Li=_;Li.prototype.get=function(r){var a=r.split("."),e=a[0],t=a[1],o=this[e]();if(t){var i=e.indexOf(t)-(e.substr(0,2)==="ok"?2:0);if(i>-1)return o[i];throw new Error("unknown channel "+t+" in mode "+e)}else return o};var Fr=_,Oi=s.type,zi=Math.pow,Gi=1e-7,Bi=20;Fr.prototype.luminance=function(r){if(r!==void 0&&Oi(r)==="number"){if(r===0)return new Fr([0,0,0,this._rgb[3]],"rgb");if(r===1)return new Fr([255,255,255,this._rgb[3]],"rgb");var a=this.luminance(),e="rgb",t=Bi,o=function(n,l){var u=n.interpolate(l,.5,e),c=u.luminance();return Math.abs(r-c)<Gi||!t--?u:c>r?o(n,u):o(u,l)},i=(a>r?o(new Fr([0,0,0]),this):o(this,new Fr([255,255,255]))).rgb();return new Fr(i.concat([this._rgb[3]]))}return qi.apply(void 0,this._rgb.slice(0,3))};var qi=function(r,a,e){return r=da(r),a=da(a),e=da(e),.2126*r+.7152*a+.0722*e},da=function(r){return r/=255,r<=.03928?r/12.92:zi((r+.055)/1.055,2.4)},ar={},Re=_,Le=s.type,Yr=ar,Oe=function(r,a,e){e===void 0&&(e=.5);for(var t=[],o=arguments.length-3;o-- >0;)t[o]=arguments[o+3];var i=t[0]||"lrgb";if(!Yr[i]&&!t.length&&(i=Object.keys(Yr)[0]),!Yr[i])throw new Error("interpolation mode "+i+" is not defined");return Le(r)!=="object"&&(r=new Re(r)),Le(a)!=="object"&&(a=new Re(a)),Yr[i](r,a,e).alpha(r.alpha()+e*(a.alpha()-r.alpha()))},ze=_,Vi=Oe;ze.prototype.mix=ze.prototype.interpolate=function(r,a){a===void 0&&(a=.5);for(var e=[],t=arguments.length-2;t-- >0;)e[t]=arguments[t+2];return Vi.apply(void 0,[this,r,a].concat(e))};var Ge=_;Ge.prototype.premultiply=function(r){r===void 0&&(r=!1);var a=this._rgb,e=a[3];return r?(this._rgb=[a[0]*e,a[1]*e,a[2]*e,e],this):new Ge([a[0]*e,a[1]*e,a[2]*e,e],"rgb")};var ha=_,Ui=Gr;ha.prototype.saturate=function(r){r===void 0&&(r=1);var a=this,e=a.lch();return e[1]+=Ui.Kn*r,e[1]<0&&(e[1]=0),new ha(e,"lch").alpha(a.alpha(),!0)},ha.prototype.desaturate=function(r){return r===void 0&&(r=1),this.saturate(-r)};var Be=_,qe=s.type;Be.prototype.set=function(r,a,e){e===void 0&&(e=!1);var t=r.split("."),o=t[0],i=t[1],n=this[o]();if(i){var l=o.indexOf(i)-(o.substr(0,2)==="ok"?2:0);if(l>-1){if(qe(a)=="string")switch(a.charAt(0)){case"+":n[l]+=+a;break;case"-":n[l]+=+a;break;case"*":n[l]*=+a.substr(1);break;case"/":n[l]/=+a.substr(1);break;default:n[l]=+a}else if(qe(a)==="number")n[l]=a;else throw new Error("unsupported value for Color.set");var u=new Be(n,o);return e?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+i+" in mode "+o)}else return n};var Yi=_,Hi=function(r,a,e){var t=r._rgb,o=a._rgb;return new Yi(t[0]+e*(o[0]-t[0]),t[1]+e*(o[1]-t[1]),t[2]+e*(o[2]-t[2]),"rgb")};ar.rgb=Hi;var Xi=_,ba=Math.sqrt,Ar=Math.pow,Wi=function(r,a,e){var t=r._rgb,o=t[0],i=t[1],n=t[2],l=a._rgb,u=l[0],c=l[1],v=l[2];return new Xi(ba(Ar(o,2)*(1-e)+Ar(u,2)*e),ba(Ar(i,2)*(1-e)+Ar(c,2)*e),ba(Ar(n,2)*(1-e)+Ar(v,2)*e),"rgb")};ar.lrgb=Wi;var ji=_,Qi=function(r,a,e){var t=r.lab(),o=a.lab();return new ji(t[0]+e*(o[0]-t[0]),t[1]+e*(o[1]-t[1]),t[2]+e*(o[2]-t[2]),"lab")};ar.lab=Qi;var Ve=_,Cr=function(r,a,e,t){var o,i,n,l;t==="hsl"?(n=r.hsl(),l=a.hsl()):t==="hsv"?(n=r.hsv(),l=a.hsv()):t==="hcg"?(n=r.hcg(),l=a.hcg()):t==="hsi"?(n=r.hsi(),l=a.hsi()):t==="lch"||t==="hcl"?(t="hcl",n=r.hcl(),l=a.hcl()):t==="oklch"&&(n=r.oklch().reverse(),l=a.oklch().reverse());var u,c,v,b,g,m;(t.substr(0,1)==="h"||t==="oklch")&&(o=n,u=o[0],v=o[1],g=o[2],i=l,c=i[0],b=i[1],m=i[2]);var p,k,A,D;return!isNaN(u)&&!isNaN(c)?(c>u&&c-u>180?D=c-(u+360):c<u&&u-c>180?D=c+360-u:D=c-u,k=u+e*D):isNaN(u)?isNaN(c)?k=Number.NaN:(k=c,(g==1||g==0)&&t!="hsv"&&(p=b)):(k=u,(m==1||m==0)&&t!="hsv"&&(p=v)),p===void 0&&(p=v+e*(b-v)),A=g+e*(m-g),t==="oklch"?new Ve([A,p,k],t):new Ve([k,p,A],t)},Zi=Cr,Ue=function(r,a,e){return Zi(r,a,e,"lch")};ar.lch=Ue,ar.hcl=Ue;var Ji=_,Ki=function(r,a,e){var t=r.num(),o=a.num();return new Ji(t+e*(o-t),"num")};ar.num=Ki;var rl=Cr,al=function(r,a,e){return rl(r,a,e,"hcg")};ar.hcg=al;var el=Cr,tl=function(r,a,e){return el(r,a,e,"hsi")};ar.hsi=tl;var nl=Cr,ol=function(r,a,e){return nl(r,a,e,"hsl")};ar.hsl=ol;var il=Cr,ll=function(r,a,e){return il(r,a,e,"hsv")};ar.hsv=ll;var ul=_,cl=function(r,a,e){var t=r.oklab(),o=a.oklab();return new ul(t[0]+e*(o[0]-t[0]),t[1]+e*(o[1]-t[1]),t[2]+e*(o[2]-t[2]),"oklab")};ar.oklab=cl;var fl=Cr,sl=function(r,a,e){return fl(r,a,e,"oklch")};ar.oklch=sl;var pa=_,vl=s.clip_rgb,ma=Math.pow,ya=Math.sqrt,_a=Math.PI,Ye=Math.cos,He=Math.sin,gl=Math.atan2,dl=function(r,a,e){a===void 0&&(a="lrgb"),e===void 0&&(e=null);var t=r.length;e||(e=Array.from(new Array(t)).map(function(){return 1}));var o=t/e.reduce(function(k,A){return k+A});if(e.forEach(function(k,A){e[A]*=o}),r=r.map(function(k){return new pa(k)}),a==="lrgb")return hl(r,e);for(var i=r.shift(),n=i.get(a),l=[],u=0,c=0,v=0;v<n.length;v++)if(n[v]=(n[v]||0)*e[0],l.push(isNaN(n[v])?0:e[0]),a.charAt(v)==="h"&&!isNaN(n[v])){var b=n[v]/180*_a;u+=Ye(b)*e[0],c+=He(b)*e[0]}var g=i.alpha()*e[0];r.forEach(function(k,A){var D=k.get(a);g+=k.alpha()*e[A+1];for(var P=0;P<n.length;P++)if(!isNaN(D[P]))if(l[P]+=e[A+1],a.charAt(P)==="h"){var W=D[P]/180*_a;u+=Ye(W)*e[A+1],c+=He(W)*e[A+1]}else n[P]+=D[P]*e[A+1]});for(var m=0;m<n.length;m++)if(a.charAt(m)==="h"){for(var p=gl(c/l[m],u/l[m])/_a*180;p<0;)p+=360;for(;p>=360;)p-=360;n[m]=p}else n[m]=n[m]/l[m];return g/=t,new pa(n,a).alpha(g>.99999?1:g,!0)},hl=function(r,a){for(var e=r.length,t=[0,0,0,0],o=0;o<r.length;o++){var i=r[o],n=a[o]/e,l=i._rgb;t[0]+=ma(l[0],2)*n,t[1]+=ma(l[1],2)*n,t[2]+=ma(l[2],2)*n,t[3]+=l[3]*n}return t[0]=ya(t[0]),t[1]=ya(t[1]),t[2]=ya(t[2]),t[3]>.9999999&&(t[3]=1),new pa(vl(t))},ir=q,Tr=s.type,bl=Math.pow,wa=function(r){var a="rgb",e=ir("#ccc"),t=0,o=[0,1],i=[],n=[0,0],l=!1,u=[],c=!1,v=0,b=1,g=!1,m={},p=!0,k=1,A=function(d){if(d=d||["#fff","#000"],d&&Tr(d)==="string"&&ir.brewer&&ir.brewer[d.toLowerCase()]&&(d=ir.brewer[d.toLowerCase()]),Tr(d)==="array"){d.length===1&&(d=[d[0],d[0]]),d=d.slice(0);for(var y=0;y<d.length;y++)d[y]=ir(d[y]);i.length=0;for(var N=0;N<d.length;N++)i.push(N/(d.length-1))}return K(),u=d},D=function(d){if(l!=null){for(var y=l.length-1,N=0;N<y&&d>=l[N];)N++;return N-1}return 0},P=function(d){return d},W=function(d){return d},H=function(d,y){var N,$;if(y==null&&(y=!1),isNaN(d)||d===null)return e;if(y)$=d;else if(l&&l.length>2){var j=D(d);$=j/(l.length-2)}else b!==v?$=(d-v)/(b-v):$=1;$=W($),y||($=P($)),k!==1&&($=bl($,k)),$=n[0]+$*(1-n[0]-n[1]),$=Math.min(1,Math.max(0,$));var z=Math.floor($*1e4);if(p&&m[z])N=m[z];else{if(Tr(u)==="array")for(var M=0;M<i.length;M++){var R=i[M];if($<=R){N=u[M];break}if($>=R&&M===i.length-1){N=u[M];break}if($>R&&$<i[M+1]){$=($-R)/(i[M+1]-R),N=ir.interpolate(u[M],u[M+1],$,a);break}}else Tr(u)==="function"&&(N=u($));p&&(m[z]=N)}return N},K=function(){return m={}};A(r);var T=function(d){var y=ir(H(d));return c&&y[c]?y[c]():y};return T.classes=function(d){if(d!=null){if(Tr(d)==="array")l=d,o=[d[0],d[d.length-1]];else{var y=ir.analyze(o);d===0?l=[y.min,y.max]:l=ir.limits(y,"e",d)}return T}return l},T.domain=function(d){if(!arguments.length)return o;v=d[0],b=d[d.length-1],i=[];var y=u.length;if(d.length===y&&v!==b)for(var N=0,$=Array.from(d);N<$.length;N+=1){var j=$[N];i.push((j-v)/(b-v))}else{for(var z=0;z<y;z++)i.push(z/(y-1));if(d.length>2){var M=d.map(function(L,O){return O/(d.length-1)}),R=d.map(function(L){return(L-v)/(b-v)});R.every(function(L,O){return M[O]===L})||(W=function(L){if(L<=0||L>=1)return L;for(var O=0;L>=R[O+1];)O++;var ur=(L-R[O])/(R[O+1]-R[O]),hr=M[O]+ur*(M[O+1]-M[O]);return hr})}}return o=[v,b],T},T.mode=function(d){return arguments.length?(a=d,K(),T):a},T.range=function(d,y){return A(d),T},T.out=function(d){return c=d,T},T.spread=function(d){return arguments.length?(t=d,T):t},T.correctLightness=function(d){return d==null&&(d=!0),g=d,K(),g?P=function(y){for(var N=H(0,!0).lab()[0],$=H(1,!0).lab()[0],j=N>$,z=H(y,!0).lab()[0],M=N+($-N)*y,R=z-M,L=0,O=1,ur=20;Math.abs(R)>.01&&ur-- >0;)(function(){return j&&(R*=-1),R<0?(L=y,y+=(O-y)*.5):(O=y,y+=(L-y)*.5),z=H(y,!0).lab()[0],R=z-M})();return y}:P=function(y){return y},T},T.padding=function(d){return d!=null?(Tr(d)==="number"&&(d=[d,d]),n=d,T):n},T.colors=function(d,y){arguments.length<2&&(y="hex");var N=[];if(arguments.length===0)N=u.slice(0);else if(d===1)N=[T(.5)];else if(d>1){var $=o[0],j=o[1]-$;N=pl(0,d,!1).map(function(O){return T($+O/(d-1)*j)})}else{r=[];var z=[];if(l&&l.length>2)for(var M=1,R=l.length,L=1<=R;L?M<R:M>R;L?M++:M--)z.push((l[M-1]+l[M])*.5);else z=o;N=z.map(function(O){return T(O)})}return ir[y]&&(N=N.map(function(O){return O[y]()})),N},T.cache=function(d){return d!=null?(p=d,T):p},T.gamma=function(d){return d!=null?(k=d,T):k},T.nodata=function(d){return d!=null?(e=ir(d),T):e},T};function pl(r,a,e){for(var t=[],o=r<a,i=e?o?a+1:a-1:a,n=r;o?n<i:n>i;o?n++:n--)t.push(n);return t}var Pr=_,ml=wa,yl=function(r){for(var a=[1,1],e=1;e<r;e++){for(var t=[1],o=1;o<=a.length;o++)t[o]=(a[o]||0)+a[o-1];a=t}return a},_l=function(r){var a,e,t,o,i,n,l;if(r=r.map(function(g){return new Pr(g)}),r.length===2)a=r.map(function(g){return g.lab()}),i=a[0],n=a[1],o=function(g){var m=[0,1,2].map(function(p){return i[p]+g*(n[p]-i[p])});return new Pr(m,"lab")};else if(r.length===3)e=r.map(function(g){return g.lab()}),i=e[0],n=e[1],l=e[2],o=function(g){var m=[0,1,2].map(function(p){return(1-g)*(1-g)*i[p]+2*(1-g)*g*n[p]+g*g*l[p]});return new Pr(m,"lab")};else if(r.length===4){var u;t=r.map(function(g){return g.lab()}),i=t[0],n=t[1],l=t[2],u=t[3],o=function(g){var m=[0,1,2].map(function(p){return(1-g)*(1-g)*(1-g)*i[p]+3*(1-g)*(1-g)*g*n[p]+3*(1-g)*g*g*l[p]+g*g*g*u[p]});return new Pr(m,"lab")}}else if(r.length>=5){var c,v,b;c=r.map(function(g){return g.lab()}),b=r.length-1,v=yl(b),o=function(g){var m=1-g,p=[0,1,2].map(function(k){return c.reduce(function(A,D,P){return A+v[P]*Math.pow(m,b-P)*Math.pow(g,P)*D[k]},0)});return new Pr(p,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return o},wl=function(r){var a=_l(r);return a.scale=function(){return ml(a)},a},ka=q,lr=function(r,a,e){if(!lr[e])throw new Error("unknown blend mode "+e);return lr[e](r,a)},gr=function(r){return function(a,e){var t=ka(e).rgb(),o=ka(a).rgb();return ka.rgb(r(t,o))}},dr=function(r){return function(a,e){var t=[];return t[0]=r(a[0],e[0]),t[1]=r(a[1],e[1]),t[2]=r(a[2],e[2]),t}},kl=function(r){return r},$l=function(r,a){return r*a/255},Nl=function(r,a){return r>a?a:r},Fl=function(r,a){return r>a?r:a},Al=function(r,a){return 255*(1-(1-r/255)*(1-a/255))},Cl=function(r,a){return a<128?2*r*a/255:255*(1-2*(1-r/255)*(1-a/255))},Tl=function(r,a){return 255*(1-(1-a/255)/(r/255))},Dl=function(r,a){return r===255?255:(r=255*(a/255)/(1-r/255),r>255?255:r)};lr.normal=gr(dr(kl)),lr.multiply=gr(dr($l)),lr.screen=gr(dr(Al)),lr.overlay=gr(dr(Cl)),lr.darken=gr(dr(Nl)),lr.lighten=gr(dr(Fl)),lr.dodge=gr(dr(Dl)),lr.burn=gr(dr(Tl));for(var Ml=lr,$a=s.type,xl=s.clip_rgb,Sl=s.TWOPI,El=Math.pow,Pl=Math.sin,Il=Math.cos,Xe=q,Rl=function(r,a,e,t,o){r===void 0&&(r=300),a===void 0&&(a=-1.5),e===void 0&&(e=1),t===void 0&&(t=1),o===void 0&&(o=[0,1]);var i=0,n;$a(o)==="array"?n=o[1]-o[0]:(n=0,o=[o,o]);var l=function(u){var c=Sl*((r+120)/360+a*u),v=El(o[0]+n*u,t),b=i!==0?e[0]+u*i:e,g=b*v*(1-v)/2,m=Il(c),p=Pl(c),k=v+g*(-.14861*m+1.78277*p),A=v+g*(-.29227*m-.90649*p),D=v+g*(1.97294*m);return Xe(xl([k*255,A*255,D*255,1]))};return l.start=function(u){return u==null?r:(r=u,l)},l.rotations=function(u){return u==null?a:(a=u,l)},l.gamma=function(u){return u==null?t:(t=u,l)},l.hue=function(u){return u==null?e:(e=u,$a(e)==="array"?(i=e[1]-e[0],i===0&&(e=e[1])):i=0,l)},l.lightness=function(u){return u==null?o:($a(u)==="array"?(o=u,n=u[1]-u[0]):(o=[u,u],n=0),l)},l.scale=function(){return Xe.scale(l)},l.hue(e),l},Ll=_,Ol="0123456789abcdef",zl=Math.floor,Gl=Math.random,Bl=function(){for(var r="#",a=0;a<6;a++)r+=Ol.charAt(zl(Gl()*16));return new Ll(r,"hex")},Na=F,We=Math.log,ql=Math.pow,Vl=Math.floor,Ul=Math.abs,je=function(r,a){a===void 0&&(a=null);var e={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Na(r)==="object"&&(r=Object.values(r)),r.forEach(function(t){a&&Na(t)==="object"&&(t=t[a]),t!=null&&!isNaN(t)&&(e.values.push(t),e.sum+=t,t<e.min&&(e.min=t),t>e.max&&(e.max=t),e.count+=1)}),e.domain=[e.min,e.max],e.limits=function(t,o){return Qe(e,t,o)},e},Qe=function(r,a,e){a===void 0&&(a="equal"),e===void 0&&(e=7),Na(r)=="array"&&(r=je(r));var t=r.min,o=r.max,i=r.values.sort(function(Aa,Ca){return Aa-Ca});if(e===1)return[t,o];var n=[];if(a.substr(0,1)==="c"&&(n.push(t),n.push(o)),a.substr(0,1)==="e"){n.push(t);for(var l=1;l<e;l++)n.push(t+l/e*(o-t));n.push(o)}else if(a.substr(0,1)==="l"){if(t<=0)throw new Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*We(t),c=Math.LOG10E*We(o);n.push(t);for(var v=1;v<e;v++)n.push(ql(10,u+v/e*(c-u)));n.push(o)}else if(a.substr(0,1)==="q"){n.push(t);for(var b=1;b<e;b++){var g=(i.length-1)*b/e,m=Vl(g);if(m===g)n.push(i[m]);else{var p=g-m;n.push(i[m]*(1-p)+i[m+1]*p)}}n.push(o)}else if(a.substr(0,1)==="k"){var k,A=i.length,D=new Array(A),P=new Array(e),W=!0,H=0,K=null;K=[],K.push(t);for(var T=1;T<e;T++)K.push(t+T/e*(o-t));for(K.push(o);W;){for(var d=0;d<e;d++)P[d]=0;for(var y=0;y<A;y++)for(var N=i[y],$=Number.MAX_VALUE,j=void 0,z=0;z<e;z++){var M=Ul(K[z]-N);M<$&&($=M,j=z),P[j]++,D[y]=j}for(var R=new Array(e),L=0;L<e;L++)R[L]=null;for(var O=0;O<A;O++)k=D[O],R[k]===null?R[k]=i[O]:R[k]+=i[O];for(var ur=0;ur<e;ur++)R[ur]*=1/P[ur];W=!1;for(var hr=0;hr<e;hr++)if(R[hr]!==K[hr]){W=!0;break}K=R,H++,H>200&&(W=!1)}for(var br={},Dr=0;Dr<e;Dr++)br[Dr]=[];for(var Mr=0;Mr<A;Mr++)k=D[Mr],br[k].push(i[Mr]);for(var sr=[],yr=0;yr<e;yr++)sr.push(br[yr][0]),sr.push(br[yr][br[yr].length-1]);sr=sr.sort(function(Aa,Ca){return Aa-Ca}),n.push(sr[0]);for(var Ir=1;Ir<sr.length;Ir+=2){var _r=sr[Ir];!isNaN(_r)&&n.indexOf(_r)===-1&&n.push(_r)}}return n},Ze={analyze:je,limits:Qe},Je=_,Yl=function(r,a){r=new Je(r),a=new Je(a);var e=r.luminance(),t=a.luminance();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},Ke=_,fr=Math.sqrt,V=Math.pow,Hl=Math.min,Xl=Math.max,rt=Math.atan2,at=Math.abs,Hr=Math.cos,et=Math.sin,Wl=Math.exp,tt=Math.PI,jl=function(r,a,e,t,o){e===void 0&&(e=1),t===void 0&&(t=1),o===void 0&&(o=1);var i=function(_r){return 360*_r/(2*tt)},n=function(_r){return 2*tt*_r/360};r=new Ke(r),a=new Ke(a);var l=Array.from(r.lab()),u=l[0],c=l[1],v=l[2],b=Array.from(a.lab()),g=b[0],m=b[1],p=b[2],k=(u+g)/2,A=fr(V(c,2)+V(v,2)),D=fr(V(m,2)+V(p,2)),P=(A+D)/2,W=.5*(1-fr(V(P,7)/(V(P,7)+V(25,7)))),H=c*(1+W),K=m*(1+W),T=fr(V(H,2)+V(v,2)),d=fr(V(K,2)+V(p,2)),y=(T+d)/2,N=i(rt(v,H)),$=i(rt(p,K)),j=N>=0?N:N+360,z=$>=0?$:$+360,M=at(j-z)>180?(j+z+360)/2:(j+z)/2,R=1-.17*Hr(n(M-30))+.24*Hr(n(2*M))+.32*Hr(n(3*M+6))-.2*Hr(n(4*M-63)),L=z-j;L=at(L)<=180?L:z<=j?L+360:L-360,L=2*fr(T*d)*et(n(L)/2);var O=g-u,ur=d-T,hr=1+.015*V(k-50,2)/fr(20+V(k-50,2)),br=1+.045*y,Dr=1+.015*y*R,Mr=30*Wl(-V((M-275)/25,2)),sr=2*fr(V(y,7)/(V(y,7)+V(25,7))),yr=-sr*et(2*n(Mr)),Ir=fr(V(O/(e*hr),2)+V(ur/(t*br),2)+V(L/(o*Dr),2)+yr*(ur/(t*br))*(L/(o*Dr)));return Xl(0,Hl(100,Ir))},nt=_,Ql=function(r,a,e){e===void 0&&(e="lab"),r=new nt(r),a=new nt(a);var t=r.get(e),o=a.get(e),i=0;for(var n in t){var l=(t[n]||0)-(o[n]||0);i+=l*l}return Math.sqrt(i)},Zl=_,Jl=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];try{return new(Function.prototype.bind.apply(Zl,[null].concat(r))),!0}catch{return!1}},ot=q,it=wa,Kl={cool:function(){return it([ot.hsl(180,1,.9),ot.hsl(250,.7,.4)])},hot:function(){return it(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Xr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Fa=0,lt=Object.keys(Xr);Fa<lt.length;Fa+=1){var ut=lt[Fa];Xr[ut.toLowerCase()]=Xr[ut]}var ru=Xr,Y=q;Y.average=dl,Y.bezier=wl,Y.blend=Ml,Y.cubehelix=Rl,Y.mix=Y.interpolate=Oe,Y.random=Bl,Y.scale=wa,Y.analyze=Ze.analyze,Y.contrast=Yl,Y.deltaE=jl,Y.distance=Ql,Y.limits=Ze.limits,Y.valid=Jl,Y.scales=Kl,Y.colors=_e,Y.brewer=ru;var au=Y;return au})})(Tu);const Du=Da,Ma=({text:f,theme:x="blue",biteFontSize:X})=>{const I={outerRing:{fill:ft[x].primary},innerRing:{fill:Du(ft[x].primary).darken(.5)},text:{fill:"#FFF"}};return G("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"circle-callout callout",children:[h("circle",{cx:"50",cy:"50",r:"45",style:I.innerRing,strokeWidth:"10",stroke:I.outerRing.fill}),h("text",{y:"50%",x:"50%",fontSize:X,style:I.text,textAnchor:"middle",dominantBaseline:"central",children:f})]})};Ma.__docgenInfo={description:"",methods:[],displayName:"CircleCallout",props:{theme:{defaultValue:{value:"'blue'",computed:!1},required:!1}}};const $t=({calculateDataBite:f})=>{var tr;const{config:x}=jr(),{biteStyle:X,imageData:I}=x,[rr,U]=vr.useState(I.url||""),[er,S]=vr.useState(I.alt||""),[w]=vr.useState(Number(f(!1))),F=vr.useRef(!1),J=nr=>{var C,Rr,Lr,Sr;let{source:B,alt:E,arguments:s}=nr;F.current===!1&&s.length>0&&((C=s[0].operator)==null?void 0:C.length)>0&&((Rr=s[0].threshold)==null?void 0:Rr.length)>0&&ht[s[0].operator](w,s[0].threshold)&&(s[1]!==void 0?((Lr=s[1].operator)==null?void 0:Lr.length)>0&&((Sr=s[1].threshold)==null?void 0:Sr.length)>0&&ht[s[1].operator](w,s[1].threshold)&&(E!==""&&E!==void 0&&S(E),U(B),F.current=!0):(E!==""&&E!==void 0&&S(E),U(B),F.current=!0))};return I&&I.display==="dynamic"&&I.options&&((tr=I.options)==null?void 0:tr.length)>0&&I.options.forEach((nr,B)=>J(nr)),rr&&rr.length>0&&X!=="graphic"&&I.display!=="none"?h("img",{alt:er,srcSet:rr,className:"cove-data-bite__image"}):null},ht={"<":(f,x)=>f<x,">":(f,x)=>f>x,"<=":(f,x)=>f<=x,">=":(f,x)=>f>=x,"â‰ ":(f,x)=>f!==x,"=":(f,x)=>f===x};$t.__docgenInfo={description:"",methods:[],displayName:"DataBiteImage"};const Nt=()=>{const{config:f,visualizationKey:x}=jr(),{setMissingRequiredSections:X}=su(),{data:I}=f,rr=vr.useCallback(()=>[f.dataColumn,f.dataFunction],[f]);vr.useEffect(()=>(rr&&f&&X(x,!rr().every(J=>!!Q.General.isValid(J))),()=>{}),[f,rr,X,x]);const U=vr.useCallback((J=!0)=>{if(!f.dataColumn||!f.dataFunction)return"";const tr=s=>(f.dataFormat.ignoreZeros&&s.filter(C=>C&&C),s.length);let nr=I,B=[];f.filters.map(s=>s.columnName&&s.columnValue?nr=nr.filter(function(C){return C[s.columnName]===s.columnValue}):!1),nr.length?nr.forEach(s=>{let C=Q.String.convertStringToNumber(s[f.dataColumn]);typeof C=="number"&&B.push(C)}):B=I.map(s=>Number(s[f.dataColumn]));let E="";switch(f.dataFunction){case pt:E=tr(B);break;case kt:E=Q.Number.roundToPlace(Q.Math.getSum(B),f.dataFormat.roundToPlace);break;case mt:E=Q.Number.roundToPlace(Q.Math.getMean(B),f.dataFormat.roundToPlace);break;case yt:E=Q.Number.roundToPlace(Q.Math.getMedian(B),f.dataFormat.roundToPlace);break;case bt:E=Math.max(...B);break;case _t:E=Math.min(...B);break;case wt:E=Q.Math.getMode(B).join("");break;case Ta:let s=Math.min(...B),C=Math.max(...B);s=Q.Number.roundToPlace(s,f.dataFormat.roundToPlace),C=Q.Number.roundToPlace(C,f.dataFormat.roundToPlace),f.dataFormat.commas&&(s=Q.Number.convertNumberToLocaleString(s),C=Q.Number.convertNumberToLocaleString(C)),E=f.dataFormat.prefix+s+f.dataFormat.suffix+" - "+f.dataFormat.prefix+C+f.dataFormat.suffix;break;default:console.warn("Data bite function not recognized: "+f.dataFunction)}return f.dataFunction!==Ta&&(E=Q.Number.roundToPlace(E,f.dataFormat.roundToPlace),f.dataFormat.commas&&(E=Q.Number.convertNumberToLocaleString(E))),J?f.dataFormat.prefix+E+f.dataFormat.suffix:E},[f,I]),er=vr.useCallback(()=>h($t,{calculateDataBite:U}),[f]);let S=!1,w=!1;switch(f.bitePosition){case"left":case"right":case"top":S=!0;break;case"bottom":w=!0;break}const F=f.dataColumn!==void 0&&f.dataFunction!==void 0;return G(or,{children:[f.missingRequiredSections?h(or,{children:"Missing data in sections"}):h(or,{children:G("div",{className:`cove-data-bite__container${f.fontSize?" font-"+f.fontSize:""}`,flow:f.bitePosition,children:[F&&f.biteStyle==="graphic"&&S&&h("div",{className:"cove-data-bite__callout",children:h(Ma,{theme:f.theme,text:U(),biteFontSize:f.biteFontSize})}),S&&h(er,{}),G("div",{className:"cove-data-bite__content",children:[F&&f.biteStyle==="title"&&h("div",{className:"cove-data-bite__value",style:{fontSize:f.biteFontSize+"px"},children:U()}),G("p",{className:"cove-data-bite__text",children:[F&&f.biteStyle==="body"&&h("span",{className:"cove-data-bite__value mr-1",style:{fontSize:f.biteFontSize+"px"},children:U()}),ct(f.biteBody)]}),f.subtext&&h("p",{className:"cove-data-bite__subtext",children:ct(f.subtext)})]}),w&&h(er,{}),F&&f.biteStyle==="graphic"&&!S&&h("div",{className:"cove-data-bite__callout",children:h(Ma,{theme:f.theme,text:U(),biteFontSize:f.biteFontSize})})]})}),f.link&&f.link]})};Nt.__docgenInfo={description:"",methods:[],displayName:"DataBite"};const Ft=()=>{const{config:f,updateVisConfig:x}=jr(),X=()=>{let S=f.imageData.options?[...f.imageData.options]:[];S.push({source:"",arguments:[{operator:"",threshold:""}],alt:"",secondArgument:!1});let w={...f.imageData,options:S};x({imageData:w})},I=(S,w,F)=>{let J=[...f.imageData.options];J[w]={...J[w],[S]:F};let tr={...f.imageData,options:J};x({imageData:tr})},rr=S=>{let w=[...f.imageData.options];w.splice(S,1);let F={...f.imageData,options:w};x({imageData:F})},U=(S,w,F,J)=>{let tr=[...f.imageData.options[w].arguments];tr[F]={...tr[F],[S]:J};let nr={...f.imageData.options[w],arguments:tr},B=[...f.imageData.options];B[w]=nr;let E={...f.imageData,options:B};x({imageData:E})},er=S=>{let w=[...f.imageData.options];w[S]={...w[S],...Object.assign([],w[S],{arguments:f.imageData.options[S].arguments.length>1?[...w[S].arguments.slice(0,-1)]:[...w[S].arguments],secondArgument:!1})};let F={...f.imageData,options:w};x({imageData:F})};return G(or,{children:[h(Z,{label:"Image URL (default)",configField:["imageData","url"]}),h(Z,{label:"Alt Text (default)",configField:["imageData","alt"]}),h("hr",{className:"cove-editor__divider"}),(!f.imageData.options||f.imageData.options.length===0)&&h("p",{className:"mb-2",style:{textAlign:"center"},children:"There are currently no dynamic images."}),f.imageData.options&&f.imageData.options.length>0&&h(or,{children:f.imageData.options.map((S,w)=>G(mu,{children:[h(st,{className:"cove-button--remove",onClick:()=>{rr(w)},children:"Remove"}),h(pu,{children:"Image #"+(w+1)}),G("div",{className:"cove-grid cove-grid--gap--2 cove-ternary",children:[h("div",{className:"cove-grid__col--4",children:h("span",{className:"cove-ternary__label",children:"If Value..."})}),h("div",{className:"cove-grid__col--4",children:h(cr,{className:"mb-0",label:"",options:dt,onChange:F=>U("operator",w,0,F.target.value),initialDisabled:!0})}),h("div",{className:"cove-grid__col--4",children:h(Z,{className:"mb-0",onChange:F=>U("threshold",w,0,F.target.value)})})]}),h("div",{className:"cove-ternary__condition"+(S.secondArgument?"":" cove-ternary__condition--final"),children:h(cr,{className:"mb-0",value:S.secondArgument?"and":"then",options:["then","and"],onChange:F=>{F.target.value==="then"&&er(w),F.target.value==="and"&&I("secondArgument",w,!0)}})}),S.secondArgument&&S.secondArgument===!0&&G(or,{children:[G("div",{className:"cove-grid cove-grid--gap--2 cove-ternary",children:[h("div",{className:"cove-grid__col--4",children:h("span",{className:"cove-ternary__label",children:"If Value..."})}),h("div",{className:"cove-grid__col--4",children:h(cr,{className:"mb-0",options:dt,onChange:F=>U("operator",w,1,F.target.value),initialDisabled:!0})}),h("div",{className:"cove-grid__col--4",children:h(Z,{className:"mb-0",type:"number",onChange:F=>U("threshold",w,1,F.target.value)})})]}),h("div",{className:"cove-ternary__condition--final",children:"Then"})]}),h(Z,{label:"Image URL",onChange:F=>I("source",w,F.target.value)}),h(Z,{label:"Image Alt Text",onChange:F=>I("alt",w,F.target.value)})]},w))}),h(st,{className:"mb-2",onClick:()=>X(),fluid:!0,children:"Add Dynamic Image"})]})};Ft.__docgenInfo={description:"",methods:[],displayName:"PanelDynamicImages"};const At=()=>{const{config:f}=jr(),{data:x}=f,X=G(xr.Section,{label:"General",children:[h(Z,{label:"Title",configField:"title",placeholder:"Data bite Title"}),h(Z,{label:"Message",configField:"biteBody",type:"textarea",tooltip:h(or,{children:G("p",{children:["Enter the message text for the visualization. ",h("br",{}),h("br",{}),G("small",{children:["The following HTML tags are supported:",h("br",{})," strong, em, sup, and sub."]})]})})}),h(Z,{label:"Subtext/Citation",configField:"subtext",placeholder:"Data bite Subtext or Citation",tooltip:h(or,{children:G("p",{children:["Enter supporting text to display below the data visualization, if applicable. ",h("br",{}),h("br",{}),h("small",{children:"The following HTML tags are supported: strong, em, sup, and sub."})]})})})]}),I=G(xr.Section,{label:"Data",warnIf:!f.dataColumn||!f.dataFunction,children:[G("div",{className:"cove-grid cove-grid--gap--2",children:[h("div",{className:"cove-grid__col--6",children:h(cr,{label:"Data Column",options:Q.Data.getDataColumns(x),configField:"dataColumn",initialDisabled:!0,required:!0})}),h("div",{className:"cove-grid__col--6",children:h(cr,{label:"Data Function",options:_u,configField:"dataFunction",initialDisabled:!0,required:!0})})]}),G(bu,{label:"Number Formatting",children:[G("div",{className:"cove-grid cove-grid--gap--2",children:[h("div",{className:"cove-grid__col--4",children:h(Z,{label:"Prefix",configField:["dataFormat","prefix"]})}),h("div",{className:"cove-grid__col--4",children:h(Z,{label:"Suffix",configField:["dataFormat","suffix"]})}),h("div",{className:"cove-grid__col--4",children:h(Z,{label:"Round",configField:["dataFormat","roundToPlace"],type:"number",min:"0",max:"99"})})]}),h(hu,{label:"Add commas",configField:["dataFormat","commas"]})]})]}),rr=h(xr.Section,{label:"Filters",children:h(gu,{})}),U=G(xr.Section,{label:"Visual",children:[h(cr,{label:"Bite Style",options:wu,configField:"biteStyle",initialDisabled:!0}),["graphic"].includes(f.biteStyle)&&h(cr,{label:"Graphic Position",options:gt,configField:"bitePosition",initialDisabled:!0}),h(Z,{label:"Bite Font Size",configField:"biteFontSize",type:"number",min:"16",max:"65"}),h(cr,{label:"Overall Font Size",options:["small","medium","large"],configField:"fontSize"})]}),er=G(xr.Section,{label:`Image${["dynamic"].includes(f.imageData.display)?"s":""}`,showIf:["title","body"].includes(f.biteStyle),children:[h(cr,{label:"Image Display Type",options:["none","static","dynamic"],configField:["imageData","display"],initialDisabled:!0}),["static","dynamic"].includes(f.imageData.display)&&h(or,{children:h(cr,{label:"Image Position",options:gt,configField:"bitePosition",initialDisabled:!0})}),["static"].includes(f.imageData.display)&&G(or,{children:[h(Z,{label:"Image URL",configField:["imageData","url"]}),h(Z,{label:"Alt Text",configField:["imageData","alt"]})]}),["dynamic"].includes(f.imageData.display)&&h(Ft,{})]});return h(or,{children:G(xr,{children:[X,I,rr,U,er,du]})})};At.__docgenInfo={description:"",methods:[],displayName:"EditorPanels"};const Qr=f=>h(uu,{component:"CdcDataBite",children:h(vr.Suspense,{fallback:h(cu,{}),children:h(iu,{...f,defaultConfig:yu,children:h(fu,{editorPanels:h(At,{}),children:h(lu,{className:"cove-data-bite",children:h(Nt,{})})})})})});Qr.__docgenInfo={description:"",methods:[],displayName:"CdcDataBite"};const Ct=f=>h(Qr,{config:{...f}}),Tt={bitePosition:{options:["top","right","bottom","left"],control:{type:"radio"}},data:{description:"The data to be used in the Databite",control:{type:"hidden"}}},Dt=[{Location:"Georgia",Year:"2019",Type:"Federal",Amount:"1365"},{Location:"Georgia",Year:"2019",Type:"Local",Amount:"1601"},{Location:"Georgia",Year:"2019",Type:"State",Amount:"1483"},{Location:"Georgia",Year:"2020",Type:"Federal",Amount:"1365"},{Location:"Georgia",Year:"2020",Type:"Local",Amount:"1601"},{Location:"Georgia",Year:"2020",Type:"State",Amount:"1483"},{Location:"Georgia",Year:"2021",Type:"Federal",Amount:"1424"},{Location:"Georgia",Year:"2021",Type:"Local",Amount:"1660"},{Location:"Georgia",Year:"2021",Type:"State",Amount:"1542"}];function Mu(f={}){const{wrapper:x}=Object.assign({},vt(),f.components);return x?h(x,{...f,children:h(X,{})}):X();function X(){const I=Object.assign({h1:"h1",p:"p"},vt(),f.components);return G(or,{children:[h(eu,{title:"Visualizations/Databite",component:Qr}),`
`,h(I.h1,{children:"Databite"}),`
`,h(I.p,{children:"The Databite is a component used for bringing attention to and visualizing a smaller data point."}),`
`,`
`,`
`,`
`,h(tu,{children:h(nu,{name:"Default",args:{data:Dt,dataFunction:"Mean (Average)",dataColumn:"Amount",bitePosition:"left",biteFontSize:"27",fontSize:"medium",imageUrl:"",biteBody:'This Databite is calculating the average of all of the data in the "Amount" column filtered just for the state of Georgia and displaying it in the circle.  In the case of this data set, that number is the average number across all "Types" in the three year span.  Further filtering is available.',prefix:"",suffix:"",dataFormat:{roundToPlace:0,commas:!0,prefix:"",suffix:""},biteStyle:"graphic",filters:[{values:[],columnName:"Location",columnValue:"Georgia"}],subtext:"Cite Source of Information",title:"Average Amount Georgia 2019 - 2021",theme:"cyan"},argTypes:Tt,children:Ct.bind({})})}),`
`,h(ou,{story:"Default"})]})}}const Zr=Ct.bind({});Zr.storyName="Default";Zr.argTypes=Tt;Zr.args={data:Dt,dataFunction:"Mean (Average)",dataColumn:"Amount",bitePosition:"left",biteFontSize:"27",fontSize:"medium",imageUrl:"",biteBody:'This Databite is calculating the average of all of the data in the "Amount" column filtered just for the state of Georgia and displaying it in the circle.  In the case of this data set, that number is the average number across all "Types" in the three year span.  Further filtering is available.',prefix:"",suffix:"",dataFormat:{roundToPlace:0,commas:!0,prefix:"",suffix:""},biteStyle:"graphic",filters:[{values:[],columnName:"Location",columnValue:"Georgia"}],subtext:"Cite Source of Information",title:"Average Amount Georgia 2019 - 2021",theme:"cyan"};Zr.parameters={storySource:{source:`args => <CdcDataBite config={{ ...args
}} />`}};const Wr={title:"Visualizations/Databite",component:Qr,tags:["stories-mdx"],includeStories:["defaultStory"]};Wr.parameters=Wr.parameters||{};Wr.parameters.docs={...Wr.parameters.docs||{},page:Mu};const dc=["Template","types","data","defaultStory"];export{Ct as Template,dc as __namedExportsOrder,Dt as data,Wr as default,Zr as defaultStory,Tt as types};
//# sourceMappingURL=DataBite.stories-7a0f19a9.js.map
