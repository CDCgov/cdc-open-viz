import{M as F,C as K,S as G,A as X}from"./index-a5c7af6f.js";import{a as s,F as h,j as e}from"./jsx-runtime-670450c2.js";import{p}from"./index-4d501b15.js";import{A as z}from"./AlertBox-c842ddc6.js";import{B as v}from"./Button-f99151a1.js";import{C as a}from"./Card-d41eaa32.js";import"./index-f1f749bf.js";import{I as H}from"./Icon-84bbcad3.js";import{I as o}from"./InputSelect-c989da31.js";import{u as W}from"./index-4fb8b842.js";import"./iframe-9bfe7737.js";import"../sb-preview/runtime.mjs";import"./index-6e91e324.js";import"./index-d475d2ea.js";import"./index-c46f0053.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-d37d4223.js";import"./index-356e4a49.js";import"./LoadSpin-71c660ed.js";import"./useVisConfig-ed2d617d.js";import"./store-4dc22f46.js";import"./Label-a6b7661b.js";import"./Tooltip-2e67733b.js";/* empty css              */const U=s(h,{children:[e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"Date"}),e("th",{children:"Value"}),e("th",{children:"..."})]}),s("tr",{children:[e("td",{children:"01/01/2020"}),e("td",{children:"150"}),e("td",{children:"..."})]}),s("tr",{children:[e("td",{children:"02/01/2020"}),e("td",{children:"150"}),e("td",{children:"..."})]})]})}),e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"State"}),e("th",{children:"Value"}),e("th",{children:"..."})]}),s("tr",{children:[e("td",{children:"Georgia"}),e("td",{children:"150"}),e("td",{children:"..."})]}),s("tr",{children:[e("td",{children:"Florida"}),e("td",{children:"150"}),e("td",{children:"..."})]})]})})]}),Y=s(h,{children:[e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"Date"}),e("td",{children:"01/01/2020"}),e("td",{children:"02/01/2020"}),e("td",{children:"..."})]}),s("tr",{children:[e("th",{children:"Value"}),e("td",{children:"100"}),e("td",{children:"150"}),e("td",{children:"..."})]})]})}),e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"State"}),e("td",{children:"Georgia"}),e("td",{children:"Florida"}),e("td",{children:"..."})]}),s("tr",{children:[e("th",{children:"Value"}),e("td",{children:"100"}),e("td",{children:"150"}),e("td",{children:"..."})]})]})})]}),Z=e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"Date"}),e("th",{children:"Virus 1"}),e("th",{children:"Virus 2"}),e("th",{children:"..."})]}),s("tr",{children:[e("td",{children:"01/01/2020"}),e("td",{children:"100"}),e("td",{children:"150"}),e("td",{children:"..."})]}),s("tr",{children:[e("td",{children:"02/01/2020"}),e("td",{children:"15"}),e("td",{children:"20"}),e("td",{children:"..."})]})]})}),$=e("table",{children:s("tbody",{children:[s("tr",{children:[e("th",{children:"Virus"}),e("th",{children:"Date"}),e("th",{children:"Value"})]}),s("tr",{children:[e("td",{children:"Virus 1"}),e("td",{children:"01/01/2020"}),e("td",{children:"100"})]}),s("tr",{children:[e("td",{children:"Virus 1"}),e("td",{children:"02/01/2020"}),e("td",{children:"150"})]}),s("tr",{children:[e("td",{children:"..."}),e("td",{children:"..."}),e("td",{children:"..."})]}),s("tr",{children:[e("td",{children:"Virus 2"}),e("td",{children:"01/01/2020"}),e("td",{children:"15"})]}),s("tr",{children:[e("td",{children:"Virus 2"}),e("td",{children:"02/01/2020"}),e("td",{children:"20"})]}),s("tr",{children:[e("td",{children:"..."}),e("td",{children:"..."}),e("td",{children:"..."})]})]})});const m=({configureData:d,updateDescriptionProp:l,visualizationKey:r,dataKey:i})=>{var N,_,C,k,w,A,V,x,T,S,O,E,j,M,R,I,L;return s("div",{className:"cove-data-designer__container",children:[s("div",{className:"mb-2",children:[e("div",{className:"cove-heading--3 fw-bold mb-1",children:"Describe Data"}),e("div",{className:"cove-heading--4 fw-normal mb-1",children:"Data Orientation"}),s("div",{className:"cove-grid cove-grid--gap--2 mb-4",children:[e("div",{className:"cove-grid__col--12 cove-grid__col--lg-6",children:e("button",{className:"cove-data-designer__button"+(d!=null&&d.dataDescription&&((N=d==null?void 0:d.dataDescription)==null?void 0:N.horizontal)===!1?" active":""),onClick:()=>{l(r,i,"horizontal",!1)},children:s(a,{children:[e("strong",{className:"cove-heading--3",children:"Vertical"}),s("p",{className:"mb-1",children:["Values for map geography or chart date/category axis are contained in a single ",e("em",{children:"column"}),"."]}),U]})})}),e("div",{className:"cove-grid__col--12 cove-grid__col--lg-6",children:e("button",{className:"cove-data-designer__button"+(d!=null&&d.dataDescription&&((_=d==null?void 0:d.dataDescription)==null?void 0:_.horizontal)===!0?" active":""),onClick:()=>{l(r,i,"horizontal",!0)},children:s(a,{children:[e("strong",{className:"cove-heading--3",children:"Horizontal"}),s("p",{className:"mb-1",children:["Values for map geography or chart date/category axis are contained in a single ",e("em",{children:"row"})]}),Y]})})})]})]}),(d==null?void 0:d.dataDescription)&&s(h,{children:[s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Are there multiple series represented in your data?"}),s("div",{children:[e(v,{style:{backgroundColor:"#00345d"},hoverStyle:{backgroundColor:"#015daa"},className:"mr-1",onClick:()=>{l(r,i,"series",!0)},active:((C=d==null?void 0:d.dataDescription)==null?void 0:C.series)===!0,children:"Yes"}),e(v,{style:{backgroundColor:"#00345d"},hoverStyle:{backgroundColor:"#015daa"},onClick:()=>{l(r,i,"series",!1)},active:((k=d==null?void 0:d.dataDescription)==null?void 0:k.series)===!1,children:"No"})]})]}),((w=d==null?void 0:d.dataDescription)==null?void 0:w.horizontal)===!0&&((A=d==null?void 0:d.dataDescription)==null?void 0:A.series)===!0&&s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Which property in the dataset represents which series the row is describing?"}),e(o,{onChange:t=>{l(r,i,"seriesKey",t.target.value)},defaultValue:(V=d==null?void 0:d.dataDescription)==null?void 0:V.seriesKey,options:Object.keys(d==null?void 0:d.data[0]),initial:"Choose an option...",initialDisabled:!0})]}),((x=d==null?void 0:d.dataDescription)==null?void 0:x.horizontal)===!1&&((T=d==null?void 0:d.dataDescription)==null?void 0:T.series)===!0&&s(h,{children:[s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Are the series values in your data represented in a single row, or across multiple rows?"}),s("div",{className:"cove-grid cove-grid--gap--2 mb-4",children:[e("div",{className:"cove-grid__col--6",children:e("button",{className:"cove-data-designer__button"+(((S=d==null?void 0:d.dataDescription)==null?void 0:S.singleRow)===!0?" active":""),onClick:()=>{l(r,i,"singleRow",!0)},children:s(a,{children:[e("strong",{className:"cove-heading--3",children:"Single Row"}),e("p",{className:"mb-1",children:"Each row contains the data for an individual series in itself."}),Z]})})}),e("div",{className:"cove-grid__col--6",children:e("button",{className:"cove-data-designer__button"+(((O=d==null?void 0:d.dataDescription)==null?void 0:O.singleRow)===!1?" active":""),onClick:()=>{l(r,i,"singleRow",!1)},children:s(a,{children:[e("strong",{className:"cove-heading--3",children:"Multiple Rows"}),e("p",{className:"mb-1",children:"Each series data is broken out into multiple rows."}),$]})})})]})]}),((E=d==null?void 0:d.dataDescription)==null?void 0:E.singleRow)===!1&&s(h,{children:[s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Which property in the dataset represents which series the row is describing?"}),e(o,{onChange:t=>{l(r,i,"seriesKey",t.target.value)},defaultValue:(j=d==null?void 0:d.dataDescription)==null?void 0:j.seriesKey,options:Object.keys(d==null?void 0:d.data[0]),initial:"Choose an option...",initialDisabled:!0})]}),s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Which property in the dataset represents the values for the category/date axis or map geography?"}),e(o,{onChange:t=>{l(r,i,"xKey",t.target.value)},defaultValue:(M=d==null?void 0:d.dataDescription)==null?void 0:M.xKey,options:Object.keys(d==null?void 0:d.data[0]),initial:"Choose an option...",initialDisabled:!0})]}),s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"Which property in the dataset represents the numeric value?"}),e(o,{onChange:t=>{l(r,i,"valueKey",t.target.value)},defaultValue:d==null?void 0:d.dataDescription.valueKey,options:Object.keys(d==null?void 0:d.data[0]),initial:"Choose an option...",initialDisabled:!0})]}),s("div",{className:"mb-2",children:[e("div",{className:"mb-1",children:"(Optional) Which properties in the dataset should be ignored? (will not be used or treated as filters)"}),e(o,{onChange:t=>{var n;t.target.value&&l(r,i,"ignoredKeys",[...((n=d==null?void 0:d.dataDescription)==null?void 0:n.ignoredKeys)||[],t.target.value]),t.target.value=""},options:Object.keys(d==null?void 0:d.data[0]).filter(t=>{var n,c;return!((n=d==null?void 0:d.dataDescription)!=null&&n.ignoredKeys)||((c=d==null?void 0:d.dataDescription)==null?void 0:c.ignoredKeys.indexOf(t))===-1}),initial:"Choose an option...",initialSnap:!0,initialDisabled:!0}),((R=d==null?void 0:d.dataDescription)==null?void 0:R.ignoredKeys)&&((I=d==null?void 0:d.dataDescription)==null?void 0:I.ignoredKeys.length)>0&&e("ul",{className:"cove-data-designer__ignored-keys",children:(L=d==null?void 0:d.dataDescription)==null?void 0:L.ignoredKeys.map((t,n)=>e("li",{children:s(v,{className:"cove-data-designer__ignored-keys-tag",onClick:()=>{var B;let c=(B=d==null?void 0:d.dataDescription)==null?void 0:B.ignoredKeys;c.splice(n,1),l(r,i,"ignoredKeys",c)},children:[e("span",{className:"cove-data-designer__ignored-keys-tag--name",children:t}),e(H,{className:"cove-data-designer__ignored-keys-tag--icon",display:"close"})]})},`value-keys-list-${n}`))})]})]})]})]}),(d==null?void 0:d.dataDescription)&&(d==null?void 0:d.formattedData)&&e(z,{type:"success",children:"Data configured successfully!"})]})};m.propTypes={configureData:p.object,updateDescriptionProp:p.func,visualizationKey:p.string,dataKey:p.string};m.__docgenInfo={description:"",methods:[],displayName:"DataDesigner",props:{configureData:{type:{name:"object"},required:!1,description:"Array list of datapoints to be processed by the DataDesigner"},updateDescriptionProp:{type:{name:"func"},required:!1,description:"Function used update the data description key, prop-drilled from parent"},visualizationKey:{type:{name:"string"},required:!1,description:"Specifies the unique visualization key that uses the data"},dataKey:{type:{name:"string"},required:!1,description:"Specifies the key for the dataset"}}};const q=({...d})=>e(m,{...d});function J(d={}){const{wrapper:l}=Object.assign({},W(),d.components);return l?e(l,{...d,children:e(r,{})}):r();function r(){const i=Object.assign({h1:"h1",p:"p"},W(),d.components);return s(h,{children:[e(F,{title:"Components/Manager/DataDesigner",component:m}),`
`,e(i.h1,{children:"DataDesigner Component"}),`
`,e(i.p,{children:"A component used to interactively transform the datapoints that have been defined to be used by a visualization."}),`
`,e(K,{sourceState:"shown",withSource:"open",children:e(G,{name:"Example",argTypes:{configureData:{control:!1},updateDescriptionProp:{control:!1},visualizationKey:{control:!1},dataKey:{control:!1}},children:q.bind({})})}),`
`,e(X,{story:"Example"})]})}}const y=q.bind({});y.storyName="Example";y.argTypes={configureData:{control:!1},updateDescriptionProp:{control:!1},visualizationKey:{control:!1},dataKey:{control:!1}};y.parameters={storySource:{source:`({ ...args
}) => <DataDesigner {...args} />`}};const b={title:"Components/Manager/DataDesigner",component:m,tags:["stories-mdx"],includeStories:["example"]};b.parameters=b.parameters||{};b.parameters.docs={...b.parameters.docs||{},page:J};const _e=["Template","example"];export{q as Template,_e as __namedExportsOrder,b as default,y as example};
//# sourceMappingURL=DataDesigner.stories-402f2bdc.js.map
